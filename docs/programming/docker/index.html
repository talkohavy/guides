<!doctype html>
<html lang="en-US" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-programming/docker" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.6.3">
<title data-rh="true">Guide For Docker | ✨ Super Guides ✨</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://talkohavy.github.io/guides/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://talkohavy.github.io/guides/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://talkohavy.github.io/guides/docs/programming/docker/"><meta data-rh="true" property="og:locale" content="en_US"><meta data-rh="true" property="og:locale:alternate" content="he"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Guide For Docker | ✨ Super Guides ✨"><meta data-rh="true" name="description" content="1. Overall Project Workflow Process"><meta data-rh="true" property="og:description" content="1. Overall Project Workflow Process"><link data-rh="true" rel="icon" href="/guides/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://talkohavy.github.io/guides/docs/programming/docker/"><link data-rh="true" rel="alternate" href="https://talkohavy.github.io/guides/docs/programming/docker/" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://talkohavy.github.io/guides/he/docs/programming/docker/" hreflang="he"><link data-rh="true" rel="alternate" href="https://talkohavy.github.io/guides/docs/programming/docker/" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/guides/blog/rss.xml" title="✨ Super Guides ✨ RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/guides/blog/atom.xml" title="✨ Super Guides ✨ Atom Feed"><link rel="stylesheet" href="/guides/assets/css/styles.b976a2ae.css">
<script src="/guides/assets/js/runtime~main.47c55de8.js" defer="defer"></script>
<script src="/guides/assets/js/main.cd783ba9.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_LnDB" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/guides/"><div class="navbar__logo"><img src="/guides/img/logo.svg" alt="My Site Logo" class="themedComponent_ddwf themedComponent--light_ljMy"><img src="/guides/img/logo_dark.svg" alt="My Site Logo" class="themedComponent_ddwf themedComponent--dark_YlfG"></div><b class="navbar__title text--truncate">Home</b></a><a class="navbar__item navbar__link" alt="Developer Guides" href="/guides/docs/programming/">Guides</a><a class="navbar__item navbar__link" href="/guides/blog/">Blogs</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_bxJ9"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/guides/docs/programming/docker/" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en-US">English</a></li><li><a href="/guides/he/docs/programming/docker/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="he">עברית</a></li></ul></div><a href="https://github.com/talkohavy/guides/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="toggle_RLbR colorModeToggle_tzkG"><button class="clean-btn toggleButton_dzAI toggleButtonDisabled_ESOQ" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_LJgV"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_VqVO"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Nfi6"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper__J1n"><div class="docsWrapper_wwTa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_SZGc" type="button"></button><div class="docRoot_G3Ng"><aside class="theme-doc-sidebar-container docSidebarContainer_FYXU"><div class="sidebarViewport_qOA6"><div class="sidebar_RY73"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_KmO1"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/guides/docs/category/photoshop-guides/">Photoshop</a><button aria-label="Expand sidebar category &#x27;Photoshop&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/guides/docs/programming/">Programming</a><button aria-label="Collapse sidebar category &#x27;Programming&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/guides/docs/software-concepts/">- Software Concepts</a><button aria-label="Expand sidebar category &#x27;- Software Concepts&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/guides/docs/web/">- Web</a><button aria-label="Expand sidebar category &#x27;- Web&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/guides/docs/js/">- Javascript</a><button aria-label="Expand sidebar category &#x27;- Javascript&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/guides/docs/html/">- Html</a><button aria-label="Expand sidebar category &#x27;- Html&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/guides/docs/db/">- Databases</a><button aria-label="Expand sidebar category &#x27;- Databases&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/docs/programming/aws-kubernetes/">- AWS Kubernetes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/docs/programming/crypto/">- Crypto</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/docs/programming/certificates/">- Certificates</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/docs/programming/css/">- CSS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/docs/programming/design-patterns/">- Design Patterns</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/guides/docs/programming/docker/">- Docker</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/docs/programming/elk/">- ELK Stack</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/docs/programming/git/">- Git</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/docs/programming/helm/">- Helm</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/docs/programming/kubernetes/">- Kubernetes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/docs/programming/micro-frontends/">- Micro-Frontends</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/docs/programming/nest/">- NestJS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/docs/programming/node/">- Node</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/docs/programming/npm/">- npm publish a package</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/docs/programming/postgres-sql/">- postgressql</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/docs/programming/python-server/">- Python Server</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/docs/programming/regex/">- Regex</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/docs/programming/saml/">- SAML</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/docs/programming/software-architecture/">- Software Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/docs/programming/ssh/">- SSH</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/docs/programming/storybook/">- Storybook</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/docs/programming/syntax-highlighting/">- Syntax Highlighting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/docs/programming/what-is-long-polling/">- What is Long-Polling</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/guides/docs/video-editing/ffmpeg/">Video Editing</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/guides/docs/job-interview/">MISC</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_IeZa"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_hb5w"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_BDrn"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_kdiB"><div class="docItemContainer_xs2l"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_oygr" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/guides/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_KmOK"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/guides/docs/programming/"><span itemprop="name">Programming</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">- Docker</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_eLz0 theme-doc-toc-mobile tocMobile_k4nd"><button type="button" class="clean-btn tocCollapsibleButton_NTkL">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Guide For Docker</h1></header>
<h2 class="anchor anchorWithStickyNavbar_wiLe" id="1-overall-project-workflow-process">1. Overall Project Workflow Process<a href="#1-overall-project-workflow-process" class="hash-link" aria-label="Direct link to 1. Overall Project Workflow Process" title="Direct link to 1. Overall Project Workflow Process">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="--11-have-a-project-ready">- 1.1. Have a project ready<a href="#--11-have-a-project-ready" class="hash-link" aria-label="Direct link to - 1.1. Have a project ready" title="Direct link to - 1.1. Have a project ready">​</a></h3>
<p>The first step would be to have a project ready to be deployed to production.</p>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="--12-create-a-dockerfile">- 1.2. Create a Dockerfile<a href="#--12-create-a-dockerfile" class="hash-link" aria-label="Direct link to - 1.2. Create a Dockerfile" title="Direct link to - 1.2. Create a Dockerfile">​</a></h3>
<p>Then, you would need to create a <strong>Dockerfile</strong> for that project.<br>
<!-- -->The <strong>Dockerfile</strong> instructs <code>docker</code> how to build the image.<br>
<!-- -->The image that&#x27;s going be built, would then turn into a &quot;virtual machine&quot; (a container), with a certain folder structure.<br>
<!-- -->Within the <strong>Dockerfile</strong> we instruct docker where to copy and what to copy to our <em>to-be-created</em> virtual machine.<br>
<!-- -->The creation of the <strong>Dockerfile</strong> is a one-time thing. Once you have one, it should n&#x27;t change often, or even at all.</p>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="--13-build-the-image-with-docker-composedocker-build">- 1.3. build the image with docker-compose/docker build<a href="#--13-build-the-image-with-docker-composedocker-build" class="hash-link" aria-label="Direct link to - 1.3. build the image with docker-compose/docker build" title="Direct link to - 1.3. build the image with docker-compose/docker build">​</a></h3>
<p>Any time the contents of your project changes, you need to build an image.
Whether you do it with <code>docker-compose</code> or with <code>docker build</code> doesn&#x27;t quite matter for your specific use-case, and here&#x27;s why; Let&#x27;s examine the differences between them.</p>
<p><strong>The main differences between them are:</strong></p>
<ul>
<li>
<p><code>docker build</code> can only build a <em>single</em> image, while <code>docker-compose build</code> can build <em>multiple</em> images.</p>
</li>
<li>
<p><code>docker build</code> requires a <strong>Dockerfile</strong>, while <code>docker-compose build</code> requires both a <strong>Dockerfile</strong> and a <strong>docker-compose.yaml</strong> file.</p>
</li>
<li>
<p><code>docker build</code> is more flexible, as you can use it to build any type of image, while <code>docker-compose build</code> is designed for building multi-container applications.</p>
</li>
<li>
<p><code>docker-compose build</code> is easier to use, as it takes care of all the details of building and running multiple containers.</p>
</li>
</ul>
<p><strong>The benefits of using <code>docker-compose</code> include:</strong></p>
<ul>
<li>
<p><strong>Ease of use</strong>: <code>docker-compose</code> makes it easy to build and run multi-container applications. You can define all the services in your application in a single
docker-compose.yaml file, and then use the <code>docker-compose up</code> command to start them all up.</p>
</li>
<li>
<p><strong>Flexibility</strong>: <code>docker-compose</code> is flexible enough to be used with a variety of different applications. You can use it to build simple applications with a few
containers, or complex applications with dozens or even hundreds of containers.</p>
</li>
<li>
<p><strong>Scalability</strong>: <code>docker-compose</code> makes it easy to scale your applications. You can start with a small number of containers, and then scale up your application by
adding more containers as needed.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="--14-uploading-the-image-to-a-registry">- 1.4. Uploading the image to a registry<a href="#--14-uploading-the-image-to-a-registry" class="hash-link" aria-label="Direct link to - 1.4. Uploading the image to a registry" title="Direct link to - 1.4. Uploading the image to a registry">​</a></h3>
<p>** complete this part... **</p>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="--15-download-and-run-the-image">- 1.5. Download and Run the image<a href="#--15-download-and-run-the-image" class="hash-link" aria-label="Direct link to - 1.5. Download and Run the image" title="Direct link to - 1.5. Download and Run the image">​</a></h3>
<p>After having a ready image, you&#x27;ll want to have it running, right?<br>
<!-- -->In production, you&#x27;ll probably use <strong>kubernetes</strong> as an orchestrating mechanism to running all the images together in a contained environment called a <strong>cluster</strong>.<br>
<!-- -->In development, you might also want to use <strong>kubernetes</strong> as well, but it&#x27;s more likely that you&#x27;d want to run a single image, and make sure it works properly as a standalone.<br>
<code>docker run</code> is for running a single image, for creating a single running container from that image, making sure it runs ok, connecting to it, run commands on it, etc.<br>
<!-- -->While you mostly be using <code>docker run</code> for debugging purposes, know that <code>kubernetes</code> also offers its own way of debugging. <code>Kubernetes</code> allows you to debug any container living inside of a cluster.<br>
<!-- -->Well, technically, it&#x27;s a way of debugging a container living inside of a pod, living inside of a deployment, living inside of a node, living inside of a cluster, but you get the idea.<br>
<!-- -->The only time in which <code>docker run</code> is the better solution, is when you <em>couldn&#x27;t</em> get your deployment to initialize correctly, so there aren&#x27;t any running pods to check.<br>
<!-- -->Using <code>kubectl apply</code> on a kubernetes configuration yaml file, you could start/orchestrate several deployments.</p>
<p><strong>Using kubernetes</strong></p>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f config</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Using docker</strong></p>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker run ...</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_wiLe" id="2-daily-use-workflow-process">2. Daily Use Workflow Process<a href="#2-daily-use-workflow-process" class="hash-link" aria-label="Direct link to 2. Daily Use Workflow Process" title="Direct link to 2. Daily Use Workflow Process">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="-a-list-docker-images">• A: List docker images<a href="#-a-list-docker-images" class="hash-link" aria-label="Direct link to • A: List docker images" title="Direct link to • A: List docker images">​</a></h3>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker images</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="-b-delete-an-image">• B: Delete an image<a href="#-b-delete-an-image" class="hash-link" aria-label="Direct link to • B: Delete an image" title="Direct link to • B: Delete an image">​</a></h3>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker image rm IMAGE_ID -f</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="-c-list-docker-containers">• C: List docker containers<a href="#-c-list-docker-containers" class="hash-link" aria-label="Direct link to • C: List docker containers" title="Direct link to • C: List docker containers">​</a></h3>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker ps -a</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="-d-delete-a-container">• D: Delete a container<a href="#-d-delete-a-container" class="hash-link" aria-label="Direct link to • D: Delete a container" title="Direct link to • D: Delete a container">​</a></h3>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker container rm CONTAINER_ID</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="-e-build-an-image">• E: Build an image<a href="#-e-build-an-image" class="hash-link" aria-label="Direct link to • E: Build an image" title="Direct link to • E: Build an image">​</a></h3>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker build . -f /path/to/Dockerfile -t &lt;name&gt; --no-cache</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Or the more simple one:</p>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker build . -t &lt;name&gt;</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="-e-run-an-image-locally">• E: Run an image locally<a href="#-e-run-an-image-locally" class="hash-link" aria-label="Direct link to • E: Run an image locally" title="Direct link to • E: Run an image locally">​</a></h3>
<p>To run an image and print all stdout in your terminal:</p>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker run -t --rm -e BACKEND_ENDPOINT=&quot;http://a.com&quot; -e PORT=3000 IMAGE_ID</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Or the more simple one:</p>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker run -t --rm IMAGE_NAME</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>To run an image and also go inside the container to its terminal:</p>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker run -it --rm -e BACKEND_ENDPOINT=&quot;http://a.com&quot; -e PORT=3000 IMAGE_ID sh</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Or the more simple one:</p>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker run -it --rm imageName sh</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>To run an image and also expose its port to the host machine:</p>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker run -t --rm -p 8888:8888 imageName</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="-f-how-to-debug-a-running-container">• F: How to debug a running container?<a href="#-f-how-to-debug-a-running-container" class="hash-link" aria-label="Direct link to • F: How to debug a running container?" title="Direct link to • F: How to debug a running container?">​</a></h3>
<p>To print out a container&#x27;s logs:</p>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker logs IMAGE_NAME_OR_ID</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>To ssh into a running container:</p>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker exec -it &lt;container_name_or_id&gt; bash</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_wiLe" id="3-docker-commands">3. Docker Commands<a href="#3-docker-commands" class="hash-link" aria-label="Direct link to 3. Docker Commands" title="Direct link to 3. Docker Commands">​</a></h2>
<font size="6">Table of contents</font>
<br>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="-command-1-docker-system-prune">• Command 1: docker system prune<a href="#-command-1-docker-system-prune" class="hash-link" aria-label="Direct link to • Command 1: docker system prune" title="Direct link to • Command 1: docker system prune">​</a></h3>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker system prune [OPTIONS] NAME[:TAG|@DIGEST]</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Description:</strong></p>
<p>Remove all unused containers, networks, images (both <em>dangling</em> and <em>unreferenced</em>), and optionally, volumes.</p>
<br>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="-command-2-docker-login">• Command 2: docker login<a href="#-command-2-docker-login" class="hash-link" aria-label="Direct link to • Command 2: docker login" title="Direct link to • Command 2: docker login">​</a></h3>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker login artifactory.playtika.com --username tal.kohavy --password token_key</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Or use <code>--password-stdin</code> instead of <code>--password</code></p>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">cat ~/my_password.txt | docker login artifactory.playtika.com --username tal.kohavy --password-stdin</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Or the more simple form:</p>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker login</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Description:</strong></p>
<p>Log in to a registry</p>
<br>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="-command-2-docker-pull">• Command 2: docker pull<a href="#-command-2-docker-pull" class="hash-link" aria-label="Direct link to • Command 2: docker pull" title="Direct link to • Command 2: docker pull">​</a></h3>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker pull [OPTIONS] &lt;image-name&gt;[:TAG|@DIGEST]</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Download an image from a registry.</p>
<p>If no tag is provided after the image-name, Docker Engine uses the <!-- -->:latest<!-- --> tag as a default.</p>
<p>By default, <code>docker pull</code> tries to pull an image from the website <code>hub.docker.com</code>, also known as <strong>Docker Hub</strong> - the biggest docker image registry out there. All the images you&#x27;ll ever create are a 100% images which were built on top of a <em>base image</em> pulled from <strong>Docker Hub</strong> registry. Docker Hub contains many pre-built images that you can pull and try without needing to define and configure your own.</p>
<p><strong>Pull from a different registry</strong></p>
<p>By default, docker pull pulls images from <strong>Docker Hub</strong>.<br>
<!-- -->It is also possible to manually specify the path of a registry to pull from. For example, if you have set up a local registry, you can specify its path to pull from it. A registry path is similar to a URL, but does not contain a protocol specifier (https://).</p>
<p>The following command pulls the <code>testing/test-image</code> image from a local registry listening on port 5000 (myregistry.local:5000):</p>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker image pull myregistry.local:5000/testing/test-image</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Concurrent downloads:</strong></p>
<p>By default the Docker daemon will pull three layers of an image at a time. If you are on a low bandwidth connection this may cause timeout issues and you may want to lower this via the <code>--max-concurrent-downloads</code> flag.</p>
<br>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="-command-3-docker-build">• Command 3: docker build<a href="#-command-3-docker-build" class="hash-link" aria-label="Direct link to • Command 3: docker build" title="Direct link to • Command 3: docker build">​</a></h3>
<p>The most simple form:</p>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker build .</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>A complex example:</p>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker build . -f /path/to/Dockerfile -t ai_gateway_service --no-cache</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Description:</strong></p>
<p>A command to tell docker to build an image from a <strong><em>Dockerfile</em></strong>.</p>
<div class="theme-admonition theme-admonition-info admonition_KHHp alert alert--info"><div class="admonitionHeading_qZwP"><span class="admonitionIcon_PLTS"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_uytn"><p>Usually, you will not be using this command of <code>docker build</code>, since you&#x27;ll be using it&#x27;s brother <code>docker-compose build</code>.</p></div></div>
<p>By default, the <code>docker build</code> command will look for a <strong>Dockerfile</strong> at the directory at which the command was executed. The &quot;.&quot; notatio is telling docker where to look for a <strong>Dockerfile</strong>. <code>docker build</code> requires at least 1 flag, or just a PATH (i.e. &quot;.&quot;), in order to be used.<br>
<!-- -->Note that in the <strong>Dockerfile</strong> there must be a <strong>FROM</strong> instruction which tells docker what is the <em>base image</em> to be used. By default, docker will try to first pull the image from your local cache, and if not found there, it&#x27;ll look for it on a remote registry.</p>
<p><strong>Commonly used flags:</strong></p>
<ul>
<li>
<p><strong>Flag 1: -t</strong><br>
<!-- -->You can use the <code>-t</code> flag to name, and optionally tag, an image. The most commonly used format is: &quot;name<!-- -->:tag<!-- -->&quot;.</p>
</li>
<li>
<p><strong>Flag 2: -f</strong><br>
<!-- -->By default, <code>docker build</code> looks for a file named exactly as <strong>Dockerfile</strong> in the directory where the command was executed. You can override this behavior and use the <code>-f</code> flag (or <code>--file</code>) followed by a PATH to a custom named <strong>Dockerfile</strong> found on a potentially different path.</p>
</li>
<li>
<p><strong>Flag 3: --no-cache</strong><br>
<!-- -->By default, <code>docker build</code> uses cache, and sometimes, you may encounter some weird issues caused due to it. The <code>--no-cache</code> flag prevents caching when building the image.</p>
</li>
<li>
<p><strong>Flag 4: --pull | --pull=never</strong><br>
<!-- -->By default, <code>docker build</code> first looks up your local cache of image registry, and if it can&#x27;t find an image there, it goes looking for it in a remote registry.<br>
<!-- -->With the <code>--pull</code> flag set on, <code>docker build</code> will <strong>always</strong> attempt to pull a newer version of the image found on the remote, and ignore what&#x27;s on your local registry.<br>
<!-- -->With the <code>--pull=never</code> flag set on, <code>docker build</code> will <strong>never</strong> attempt pulling from a remote registry, and so if an image was not found locally, it would throw an error.</p>
</li>
</ul>
<br>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="-command-4-docker-create">• Command 4: docker create<a href="#-command-4-docker-create" class="hash-link" aria-label="Direct link to • Command 4: docker create" title="Direct link to • Command 4: docker create">​</a></h3>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker create [OPTIONS] IMAGE [COMMAND] [ARG...]</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Description:</strong></p>
<p>The <code>docker create</code> command creates a new container from the specified image, without starting it.</p>
<p>When creating a container, the docker daemon creates a writeable container layer over the specified image and prepares it for running the specified command. The container ID is then printed to STDOUT. This is similar to <code>docker run -d</code> command, except the container is never started. You can then use the <code>docker start</code> command to start the container at any point.</p>
<p>This is useful when you want to set up a container configuration ahead of time so that it is ready to start when you need it. The initial status of the new container is <code>created</code>.</p>
<br>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="-command-5-docker-run">• Command 5: docker run<a href="#-command-5-docker-run" class="hash-link" aria-label="Direct link to • Command 5: docker run" title="Direct link to • Command 5: docker run">​</a></h3>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker run [OPTIONS] IMAGE[:TAG|@DIGEST] [COMMAND] [ARG...]</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Description:</strong></p>
<p>Run a process in an isolated container.</p>
<div class="theme-admonition theme-admonition-info admonition_KHHp alert alert--info"><div class="admonitionHeading_qZwP"><span class="admonitionIcon_PLTS"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_uytn"><p><em>Usually, you will not be <code>docker run</code>, since you&#x27;ll be using kubernetes to orchestrate your containers.</em></p></div></div>
<p>Conceptually speaking, the <code>docker run</code> command is actually made up of 3 separate commands running sequentially:</p>
<ul>
<li><code>docker pull</code> is used to pulling an image from a remote registry.</li>
<li><code>docker create</code> is used to create a container out of an image.</li>
<li><code>docker start</code> is used to start running an existing container.</li>
</ul>
<p>The <code>docker run</code> command <strong>MUST</strong> specify an IMAGE to derive the container from.<br>
<!-- -->The <code>docker run</code> command has the ability to override any of the rules set up within the configuration file, which is why it has the most flags, more option flags than any other docker command.</p>
<div class="theme-admonition theme-admonition-tip admonition_KHHp alert alert--success"><div class="admonitionHeading_qZwP"><span class="admonitionIcon_PLTS"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_uytn"><p>NOTE: To avoid having to use sudo with the docker command, your system administrator can create a Unix group called <code>docker</code> and add users to it.
Add this command to your <code>Dockerfile</code>:</p><div class="language-dockerfile codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">RUN addgroup app &amp;&amp; adduser -S -G app app</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div>
<p><strong>Commonly used flags:</strong></p>
<ul>
<li>
<p><strong>A sub-command: %alternative-startup-command%</strong><br>
<!-- -->Right after the <code>docker run</code> command you can specify an alternative startup command to execute, one that would override the startup command listed in the Dockerfile under the CMD key. Here&#x27;s an example for how CMD looks like in a Dockerfile:</p>
<div class="language-dockerfile codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">CMD [ &quot;pnpm&quot;, &quot;run&quot;, &quot;start-users&quot; ]</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>When using an alternative run, the command listed under CMD would be rendered null, and your command would run instead.<br>
<!-- -->Example:</p>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker run redis echo hello world</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><strong>Flag 1: -d</strong><br>
<!-- -->Run in detached mode. Meaning, it would not occupy a terminal, keeping it busy, and printing logs onto it. The container would run in the background.<br>
<!-- -->Example:</p>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d redis</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><strong>Flag 2: --name</strong><br>
<strong>Recommended!</strong> Defining a name can be a handy way to add meaning to a container. Let&#x27;s make an important distinction right now. When using <code>docker run</code> you give the <em>name of the image to run</em>. The <code>--name</code> flag is for giving a <em>name to the outcome running container</em> a name, so that later you could identify that running container.
Example:</p>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker run &lt;my-image-name&gt; --name &lt;my-container-name&gt;</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><strong>Flag 3: [<!-- -->:tag<!-- -->]</strong><br>
<!-- -->You can specify a version of an image you&#x27;d like to run the container with by adding image[<!-- -->:tag<!-- -->] to the command.<br>
<!-- -->Example:</p>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker run ubuntu:14.04</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>By NOT specifying a tag, the command always tries to pull, build, and run the &quot;latest&quot; version of the image.</p>
</li>
<li>
<p><strong>Flag 4: --rm</strong><br>
<!-- -->By default a container&#x27;s file system persists even after the container exits. This makes debugging a lot easier (since you can inspect the final state) and you retain all your data by default. But if you are running short-term foreground processes, these container file systems can really pile up. If instead you&#x27;d like <strong>docker</strong> to automatically clean up the container and remove the file system when the container exits, you can add the <code>--rm</code> flag.<br>
<!-- -->Example:</p>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker run --rm &lt;image-name&gt;</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><strong>Flag 5: -it</strong><br>
<!-- -->For interactive processes (like a shell), you must use <code>-i</code> <code>-t</code> together in order to allocate a tty for the container process. <code>-i</code> <code>-t</code> is often written <code>-it</code> as you&#x27;ll see in later examples. Specifying <code>-t</code> is forbidden when the client is receiving its standard input from a pipe, as in <code>echo test | docker run -i busybox cat</code>.</p>
<p>Example:</p>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker run -it users-service</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><strong>Flag 6: -p</strong><br>
<!-- -->To expose a <em>port</em> within the container to a port on your localhost.<br>
<!-- -->Example:</p>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker run redis -p 5678:5678</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><strong>Flag 7: --pull | --pull=never</strong><br>
<!-- -->With the <code>--pull</code> flag set on, <code>docker run</code> will <strong>always</strong> attempt to pull a newer version of the image found on the remote, and ignore what&#x27;s on your image-cache (local registry).<br>
<!-- -->With the <code>--pull=never</code> flag set on, <code>docker build</code> will <strong>never</strong> attempt pulling from a remote registry, and so if an image was not found locally, it would throw an error.<br>
<!-- -->Example:</p>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker run redis --pull=never</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<br>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="-command-6-docker-start--restart">• Command 6: docker start / restart<a href="#-command-6-docker-start--restart" class="hash-link" aria-label="Direct link to • Command 6: docker start / restart" title="Direct link to • Command 6: docker start / restart">​</a></h3>
<p>Start a single stopped existing container:</p>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker start &lt;container-name-or-id&gt;</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Restart a single running/stopped existing container:</p>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker restart &lt;container-name-or-id&gt;</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Description:</strong></p>
<p>The <code>docker start</code> command is meant for starting an existing stopped container.<br>
<!-- -->The <code>docker restart</code> command is meant for restarting <em>an existing already running container</em> OR <em>an existing yet stopped container</em>.</p>
<br>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="-command-7-docker-stop--kill">• Command 7: docker stop / kill<a href="#-command-7-docker-stop--kill" class="hash-link" aria-label="Direct link to • Command 7: docker stop / kill" title="Direct link to • Command 7: docker stop / kill">​</a></h3>
<p>Stop a single running container:</p>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker stop &lt;container-name-or-id&gt;</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Stop 2+ running containers:</p>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker stop &lt;container-name-or-id1&gt; &lt;container-name-or-id2&gt;</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Stop ALL running containers:</p>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker stop $(docker ps -a -q)</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Kill a single running container:</p>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker kill &lt;container-name-or-id&gt;</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Description:</strong></p>
<p>Meant for stopping an existing, currently running, container.</p>
<p>The <code>docker stop</code> command sends a <code>SIGTERM</code>, which is short for terminate signal, to the primary process inside our container. <code>SIGTERM</code> gives the running process some grace time to do its thing so it would be able to shut down gracefully, perhaps do some cleans ups, save some files, emit some messages, etc. After that grace period of time, <code>docker stop</code> sends a <code>SIGKILL</code>.</p>
<p>On the other hand...</p>
<p>The <code>docker kill</code> command is also meant for an existing, currently running, container, however it sends a <code>SIGKILL</code>, which is short for <code>kill</code> signal, to the primary process inside our container. <code>SIGKILL</code> essentially means <em>&quot;You have to shut down RIGHT NOW!</em> And you <em>DO NOT</em> get to do any additional work!&quot;.<br>
<!-- -->Ideally, we always stop a container using the <code>docker stop</code> command.</p>
<br>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="-command-8-docker-images">• Command 8: docker images<a href="#-command-8-docker-images" class="hash-link" aria-label="Direct link to • Command 8: docker images" title="Direct link to • Command 8: docker images">​</a></h3>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker images</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Description:</strong></p>
<p>Lists all images found locally in you image-cache registry.</p>
<div class="theme-admonition theme-admonition-info admonition_KHHp alert alert--info"><div class="admonitionHeading_qZwP"><span class="admonitionIcon_PLTS"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_uytn"><p>If you want to list out all <em>running containers</em> (not images), see <code>docker ps</code> command.</p></div></div>
<p>An image will be listed more than once if it has multiple <em>repository names</em> or <em>tags</em>.</p>
<p><strong>Commonly used flags &amp; options:</strong></p>
<ul>
<li>
<p><strong>option 1: image-name</strong><br>
<!-- -->You can list images by their <strong>name</strong>, mentioned under the <code>REPOSITORY</code> column. The returned result would include images who&#x27;s name is an <em>exact match</em> to the name provided.<br>
<!-- -->Example:</p>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker images redis</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In the above example, if two images exist with names &quot;redis&quot; &amp; &quot;redis-server&quot;, only &quot;redis&quot; would return as a result.</p>
</li>
<li>
<p><strong>Flag 1: --filter &quot;before=image1&quot; &quot;since=image1&quot;</strong><br>
<!-- -->The <code>before</code> filter is telling docker to show only images created <em>before</em> the image with given id or reference. <code>since</code> does the exact opposite.<br>
<!-- -->Example:</p>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker images redis --filter &quot;before=&lt;image-id&gt;&quot;</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<br>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="-command-9-docker-ps">• Command 9: docker ps<a href="#-command-9-docker-ps" class="hash-link" aria-label="Direct link to • Command 9: docker ps" title="Direct link to • Command 9: docker ps">​</a></h3>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker ps</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Description:</strong></p>
<p>Lists out containers on your machine.</p>
<p>By default, it lists out <em>running containers only</em>.</p>
<p><strong>Commonly used options:</strong></p>
<ul>
<li>
<p><strong>Flag 1: -a | --all</strong><br>
<!-- -->You can add the <code>-a</code> flag to list all containers, and not just the running containers.</p>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker ps -a</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><strong>Flag 2: -f | --filter</strong><br>
<!-- -->Examples:<br>
<!-- -->filter using <code>status</code>:</p>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker ps --filter &quot;status=exited&quot; --filter &quot;status=dead&quot;</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Possible <code>status</code>&#x27;es are: created | restarting | running | removing | paused | exited | dead.</p>
<p>filter using <code>name</code>:</p>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker ps --filter &quot;name=some-name&quot;</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>filter using <code>label</code>:</p>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker ps --filter &quot;label=some-label&quot;</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<br>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="-command-10-docker-container-rm">• Command 10: docker container rm<a href="#-command-10-docker-container-rm" class="hash-link" aria-label="Direct link to • Command 10: docker container rm" title="Direct link to • Command 10: docker container rm">​</a></h3>
<p>Delete a SINGLE container: (or two)</p>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker container rm %cntnr-name1/id1% %cntnr-name1/id2%</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Delete ALL containers:</p>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker container rm -f $(docker ps -aq)</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Description:</strong></p>
<p>Delete a <em>stopped</em> container.</p>
<p>If you try to delete a running container, you&#x27;ll get an error saying you can&#x27;t delete a running container. So you have 2 options in this scenario. Either stop the container first, and then delete it, or just add a <code>-f</code> (force) flag to your delete command.<br>
<!-- -->The <code>$(docker ps -aq)</code> part lists out the ids of all the containers, both <em>running</em> and <em>not running</em>.</p>
<br>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="-command-11-docker-image-rm">• Command 11: docker image rm<a href="#-command-11-docker-image-rm" class="hash-link" aria-label="Direct link to • Command 11: docker image rm" title="Direct link to • Command 11: docker image rm">​</a></h3>
<p>Delete a SINGLE image:</p>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">TAG_ID=</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker image rm ${TAG_ID} -f</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Delete a 2+ images:</p>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker image rm &lt;name/id-of-image1&gt; &lt;name/id-of-image2&gt; ...</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Delete ALL images:</p>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker image rm -f $(docker image ls -q)</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Description:</strong></p>
<p>Delete an image.</p>
<p>If you try to delete an image, which currently has a container made from it that exists (either running or not running), you&#x27;ll get an error. In this scenario you have 2 options: You can stop the running container, delete the container, and then delete the image, or you can simply add a <code>-f</code> (force) flag to the delete command. This <code>force</code> flag will first stop the running container, delete it, and then delete the image.<br>
<!-- -->The <code>$(docker image ls -q)</code> part lists out the ids of all images on your machine.</p>
<br>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="-command-12-docker-logs">• Command 12: docker logs<a href="#-command-12-docker-logs" class="hash-link" aria-label="Direct link to • Command 12: docker logs" title="Direct link to • Command 12: docker logs">​</a></h3>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker logs &lt;name-or-image-id&gt;</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Description:</strong></p>
<p>Shows the logs of a <em>running</em> container.</p>
<p><strong>Commonly used options:</strong></p>
<ul>
<li>
<p><strong>Flag 1: -n | --tail</strong><br>
<!-- -->Number of lines to show from the end of the logs.</p>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker logs --tail 50</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><strong>Flag 2: -f | --follow</strong><br>
<!-- -->Follow log output.</p>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker logs --tail 50 --follow</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><strong>Flag 3: --since &amp; --until</strong><br>
<!-- -->Show logs since and/or until timestamp (e.g. 2013-01-02T13:23:37Z) or relative (e.g. 42m for 42 minutes).</p>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker logs -f --until=2s test</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<br>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="-command-13-exec---debugging">• Command 13: exec - debugging<a href="#-command-13-exec---debugging" class="hash-link" aria-label="Direct link to • Command 13: exec - debugging" title="Direct link to • Command 13: exec - debugging">​</a></h3>
<p>General form:</p>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">TAG_NAME=</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker exec -it ${CONTAINER_ID} %COMMAND%</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Most commonly used with <code>sh</code>:</p>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker exec -it ${TAG_NAME} sh</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Description:</strong></p>
<p>We can use the <code>exec</code> command to execute an additional command inside of a running container.</p>
<p>The two most important flags of docker are: <code>-i</code> <code>-t</code>.<br>
<!-- -->You might see them in the combined form of: <code>-it</code>.<br>
<!-- -->When we do <code>docker exec -it</code> , the <code>-i</code> flag means: when we execute this new command inside the container, we want to attach our terminal to the std-in channel of that new running process we execute. So by adding on the <code>-i</code> flag we&#x27;re saying &quot;make sure that any stuff that I type in gets directed to std-in of redis-cli&quot;.<br>
<!-- -->The <code>-t</code> flag is what kinda makes all this text show up a little bit pretty.<br>
<!-- -->Alright well... in reality it&#x27;s doing a little bit more than that, but at the end of the day the real effect of the dash t is flag is to make sure that all the text that you are entering in and that is coming out shows up in a nicely formatted manner on your screen.<br>
<!-- -->So we&#x27;ve learned about the importance of the -it flags.<br>
<!-- -->Now let&#x27;s talk about another use of the <code>docker exec -it</code> command, which is probably going to be the most common one you&#x27;ll be using on your own personal projects. A very common thing you&#x27;ll want to do when using docker is to get shell access or terminal access to your running container. In other words, you&#x27;re going to want to run commands inside of your container without having to re-run <code>docker exec</code> again and again all day.<br>
<!-- -->The next command is how you can open up a shell in the context of your running container.</p>
<p>This is what you need:</p>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker run --rm -it ${TAG_NAME} sh</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>What does <code>sh</code> mean?</strong></p>
<p>bash, powershell, zsh, and sh are all <strong>command processors</strong>.<br>
<code>sh</code> is the name of a program, and it is a program that&#x27;s being executed inside of that container. <code>sh</code> is a command processor or a shell. It&#x27;s something that allows us to type commands in and have them be executed inside that container. You are already making use of a program very much like <code>sh</code> on your own computer Traditionally, a LOT of different containers you&#x27;re going to be working with are probably going to have the <code>sh</code> program already included. Some more complete versions of containers or images are going to also have the bash command processor as well. So in some cases you can make use of bash directly, and in the vast majority you&#x27;re probably going to use the sh to start up a command prompt and start typing in commands.</p>
<br>
<hr>
<h2 class="anchor anchorWithStickyNavbar_wiLe" id="4-how-to-create-a-dockerfile">4. How to create a Dockerfile<a href="#4-how-to-create-a-dockerfile" class="hash-link" aria-label="Direct link to 4. How to create a Dockerfile" title="Direct link to 4. How to create a Dockerfile">​</a></h2>
<p>A <strong>Dockerfile</strong> is a text document needed for the <code>docker build</code> process.<br>
<!-- -->A <strong>Dockerfile</strong> contains all the instructions a user could call on the command line to assemble an image. A <strong>Dockerfile</strong> must begin with a <code>FROM</code> instruction.</p>
<p>When you call the command <code>docker build</code> (or <code>docker-compose build</code>), docker builds your image by reading the instructions from a target <strong>Dockerfile</strong>. Docker then runs the instructions inside it in a sequential order.</p>
<p>Here is a basic <strong>Dockerfile</strong> you can copy:</p>
<div class="language-dockerfile codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">FROM node</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CMD [&quot;echo&quot;, &quot;hello world&quot;]</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong><font size="5"></font></strong></p>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="-instruction-1-from">• Instruction 1: FROM<a href="#-instruction-1-from" class="hash-link" aria-label="Direct link to • Instruction 1: FROM" title="Direct link to • Instruction 1: FROM">​</a></h3>
<div class="language-dockerfile codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">FROM node:19-alpine3.16</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Description:</strong></p>
<p>The <code>FROM</code> instruction initializes a new build stage and sets the base image for subsequent instructions.</p>
<p>A <strong>Dockerfile</strong> must begin with a <code>FROM</code> instruction. <code>FROM</code> may appear after globally scoped <code>ARG</code>&#x27;s, comments, or parser directives. The <code>FROM</code> instruction specifies the parent image.</p>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="-instruction-2-arg">• Instruction 2: ARG<a href="#-instruction-2-arg" class="hash-link" aria-label="Direct link to • Instruction 2: ARG" title="Direct link to • Instruction 2: ARG">​</a></h3>
<div class="language-dockerfile codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">ARG %name%[=%default value%]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ARG CODE_VERSION=latest</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Description:</strong></p>
<p>The <strong>ARG</strong> instruction defines a variable that users can pass at build-time to the builder with the <code>docker build</code> command using the <code>--build-arg</code> flag.</p>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker build --build-arg &lt;var-name&gt;=&lt;value&gt;</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-warning admonition_KHHp alert alert--warning"><div class="admonitionHeading_qZwP"><span class="admonitionIcon_PLTS"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_uytn"><p>If a user specifies a build argument that was not defined in the Dockerfile, the build outputs a warning.</p><div class="language-sh codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-sh codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">[Warning] One or more build-args [foo] were not consumed.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">LOOK OUT!!!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">It is not recommended to use build-time variables for passing secrets like GitHub keys, user credentials etc. Build-time variable values are visible to any user of the image with the docker history command.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Refer to the RUN --mount=type=secret section to learn about secure ways to use secrets when building images.</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div>
<p><strong>Setting a default values to an ARG</strong></p>
<p>Typically, an <strong>ARG</strong>&#x27;s value is set from out side, and the value is used inside like so:</p>
<div class="language-dockerfile codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">FROM busybox</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ARG user1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ARG buildNumber</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>You can set a <em>default value</em> to and <strong>ARG</strong>, in case an outside value wasn&#x27;t provided:</p>
<div class="language-dockerfile codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">FROM busybox</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ARG user1=some-user</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ARG buildNumber=1</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If an <strong>ARG</strong> instruction has a <em>default value</em>, and if there is no value passed at build-time, the builder uses the default value you set.</p>
<p><strong>Understanding how ARG and FROM interact:</strong></p>
<p><strong>FROM</strong> instructions support variables that are declared by any <strong>ARG</strong> instructions that occur before the first <strong>FROM</strong>.
An <strong>ARG</strong> declared before a <strong>FROM</strong> is outside of a build stage, so it can&#x27;t be used in any instruction after a <strong>FROM</strong>. To use the <em>default value</em> of an <strong>ARG</strong> declared before the first <strong>FROM</strong> use an <strong>ARG</strong> instruction without a value inside of a build stage.</p>
<p>Example:</p>
<div class="language-dockerfile codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">ARG VERSION=latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FROM busybox:$VERSION</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ARG VERSION</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN echo $VERSION &gt; image_version</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="-instruction-3-workdir">• Instruction 3: WORKDIR<a href="#-instruction-3-workdir" class="hash-link" aria-label="Direct link to • Instruction 3: WORKDIR" title="Direct link to • Instruction 3: WORKDIR">​</a></h3>
<div class="language-dockerfile codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">WORKDIR /my-workspace</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Description</strong></p>
<p>If not specified, the default working directory is <code>/</code>.<br>
<!-- -->The root folder of the running container contains these folders:<br>
<code>bin</code>, <code>dev</code>, <code>etc</code>, <code>tmp</code>, <code>var</code>, <code>lib</code>, <code>mnt</code>, <code>srv</code>, <code>usr</code> and more.<br>
<!-- -->It is somewhat likely in our project we&#x27;d have a folder with the same name, that would override some of the files and folders listed above.<br>
<!-- -->In order to avoid that,<br>
<!-- -->We use the COPY command, but in the target path (the second argument), we might wanna mention a nested directory, like so:</p>
<div class="language-dockerfile codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">COPY ./ ./my-workspace/</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Instead of doing the above, we can use the <strong>WORKDIR</strong> instruction.
The <strong>WORKDIR</strong> instruction sets the working directory on the container for any COPY, ADD, RUN, CMD, and ENTRYPOINT instructions that follow it in the <strong>Dockerfile</strong>. And so now you can simply do:</p>
<div class="language-dockerfile codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">WORKDIR /my-workspace</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">COPY ./ ./</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Without worrying about overriding folders which already exists in the root of the container.</p>
<p><strong>Some basic Rules about WORKDIR:</strong></p>
<ul>
<li>
<p>The <strong>WORKDIR</strong> instruction sets the working directory on the container for any <strong>COPY</strong>, <strong>ADD</strong>, <strong>RUN</strong>, <strong>CMD</strong>, and <strong>ENTRYPOINT</strong> instructions that follow it in the <strong>Dockerfile</strong>.</p>
</li>
<li>
<p>If the <strong>WORKDIR</strong> doesn&#x27;t exist, it will be created, even if it isn&#x27;t used in any of the subsequent Dockerfile instructions.</p>
</li>
<li>
<p>The <strong>WORKDIR</strong> instruction can be used multiple times in a Dockerfile. If a relative path is provided, it will be relative to the path of the previous <strong>WORKDIR</strong> instruction.<br>
<!-- -->Example:</p>
<div class="language-dockerfile codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">WORKDIR /a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WORKDIR b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WORKDIR c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN pwd</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The output of the final pwd command in this <strong>Dockerfile</strong> would be /a/b/c.</p>
</li>
<li>
<p>The WORKDIR instruction can resolve environment variables previously set using ENV. You can only use environment variables explicitly set in the Dockerfile.
Example:</p>
<div class="language-dockerfile codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">ENV DIRPATH=/path</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WORKDIR $DIRPATH/$DIRNAME</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN pwd</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The output of the final pwd command in this Dockerfile would be /path/$DIRNAME</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="-instruction-4-copy">• Instruction 4: COPY<a href="#-instruction-4-copy" class="hash-link" aria-label="Direct link to • Instruction 4: COPY" title="Direct link to • Instruction 4: COPY">​</a></h3>
<div class="language-dockerfile codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">COPY ../package.json ./package.json</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Description:</strong></p>
<p>The first argument is the path to your local file system, and the second argument is the path that you want to copy stuff to inside the container.
When using a relative path in the first argument, it is relative to the build&#x27;s <code>context</code>.<br>
<!-- -->For instance:</p>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">lukcylove-monorepo: docker build .</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Running the above command, the context would be &quot;luckylove-monorepo&quot;.
The <code>context</code> can also be defined within the docker-compose file, and then you can run:</p>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">lukcylove-monorepo: docker-compose build</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>And the context would be taken from there.</p>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="-instruction-5-run">• Instruction 5: RUN<a href="#-instruction-5-run" class="hash-link" aria-label="Direct link to • Instruction 5: RUN" title="Direct link to • Instruction 5: RUN">​</a></h3>
<div class="language-dockerfile codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">RUN [ &quot;pnpm&quot;, &quot;run&quot;, &quot;start&quot; ]</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Description:</strong></p>
<p>The <strong>RUN</strong> instruction will execute any commands in a new layer on top of the current image and commit the results. The resulting committed image will be used for the next step in the Dockerfile.<br>
<!-- -->Layering <strong>RUN</strong> instructions and generating commits conforms to the core concepts of Docker where commits are cheap and containers can be created from any point in an image&#x27;s history, much like source control.</p>
<p><strong>Differences between the shell for and the exec form</strong></p>
<p><strong>RUN</strong> has 2 forms:
The shell form: <code>RUN %command%</code> (shell form, the command is run in a shell, which by default is /bin/sh -c on Linux or cmd /S /C on Windows)</p>
<p>The exec form: <strong>RUN</strong> [&quot;executable&quot;, &quot;param1&quot;, &quot;param2&quot;] (exec form)</p>
<p><strong>Some key notes:</strong></p>
<ul>
<li>
<p>The <code>exec</code> form is preferred, since it makes it possible to avoid shell string munging, and to RUN commands using a base image that does not contain the specified shell executable.</p>
</li>
<li>
<p>The <code>exec</code> form is parsed as a JSON array, which means that you must use double-quotes (&quot;) around words not single-quotes (&#x27;).</p>
</li>
<li>
<p>The default shell for the shell form can be changed using the SHELL command.</p>
</li>
<li>
<p>Unlike the shell form, the exec form does not invoke a command shell. This means that normal shell processing does not happen.<br>
<!-- -->Take this piece of code for example:</p>
</li>
</ul>
<div class="language-dockerfile codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">CMD [ &quot;echo&quot;, &quot;$HOME&quot; ]</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The above code will not do variable substitution on <code>$HOME</code>. If you want shell processing then either use the shell form or execute a shell directly, for example:</p>
<div class="language-dockerfile codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">CMD [ &quot;sh&quot;, &quot;-c&quot;, &quot;echo $HOME&quot; ]</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>When using the <code>exec</code> form and executing a shell directly, as in the case for the shell form, it is the shell that is doing the environment variable expansion, not docker.</p>
<ul>
<li>
<p>In the shell form you can use a backslash <code>\</code> to continue a single RUN instruction onto the next line.</p>
</li>
<li>
<p>Using the shell form for <strong>ENTRYPOINT</strong> likely means you&#x27;re not propagating signals correctly to your app, which can cause problems, in particular in Kubernetes clusters. You can read more about it here in the article named &quot;Why Your Dockerized Application Isn&#x27;t Receiving Signals.&quot; Link --&gt; <a href="https://hynek.me/articles/docker-signals/" target="_blank" rel="noopener noreferrer">https://hynek.me/articles/docker-signals/</a></p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="-instruction-6-entrypoint">• Instruction 6: ENTRYPOINT<a href="#-instruction-6-entrypoint" class="hash-link" aria-label="Direct link to • Instruction 6: ENTRYPOINT" title="Direct link to • Instruction 6: ENTRYPOINT">​</a></h3>
<div class="language-dockerfile codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">ENTRYPOINT</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="-instruction-7-cmd">• Instruction 7: CMD<a href="#-instruction-7-cmd" class="hash-link" aria-label="Direct link to • Instruction 7: CMD" title="Direct link to • Instruction 7: CMD">​</a></h3>
<div class="language-dockerfile codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">CMD [ &quot;pnpm&quot;, &quot;run&quot;, &quot;start&quot; ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```dockerfile</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="-instruction-8-expose">• Instruction 8: EXPOSE<a href="#-instruction-8-expose" class="hash-link" aria-label="Direct link to • Instruction 8: EXPOSE" title="Direct link to • Instruction 8: EXPOSE">​</a></h3>
<div class="language-dockerfile codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">EXPOSE 3000</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Description:</strong></p>
<p>The <strong>EXPOSE</strong> instruction informs Docker that the container listens on the specified network ports at runtime.</p>
<div class="theme-admonition theme-admonition-warning admonition_KHHp alert alert--warning"><div class="admonitionHeading_qZwP"><span class="admonitionIcon_PLTS"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_uytn"><p>The <strong>EXPOSE</strong> instruction <em>DOES NOT</em> actually publish the port!</p><p>It merely functions as a type of documentation between the person who builds the image, and the person who runs the container, about which ports are intended to be published. To actually publish the port when running the container, use the <code>-p</code> flag on docker run to publish and map one or more ports, or the <code>-P</code> flag to publish all exposed ports and map them to high-order ports.</p></div></div>
<p>You can specify whether the port listens on TCP or UDP, and the default is TCP if the protocol is not specified.<br>
<!-- -->By default, <strong>EXPOSE</strong> assumes TCP. You can also specify UDP:</p>
<div class="language-dockerfile codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">EXPOSE 80/udp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">To expose on both TCP and UDP, include two lines:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EXPOSE 80/tcp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EXPOSE 80/udp</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In this case, if you use <code>-P</code> with docker run, the port will be exposed once for TCP and once for UDP. Remember that <code>-P</code> uses an ephemeral high-ordered host port on the host, so the port will not be the same for TCP and UDP.
Regardless of the EXPOSE settings, you can override them at runtime by using the <code>-p</code> flag. For example</p>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker run -p 80:80/tcp -p 80:80/udp ...</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Just like we said the container has its own file system, it also has its own isolated set of ports that can receive traffic. But by default, no incoming traffic to your computer is going to be directed into your container. In order to connect between ports from your local machine to those inside the container, we have to set up an explicit port mapping. A port mapping essentially says &quot;any time that someone makes a request to a given port on your local network, take that request and automatically forward it to some port inside the container&quot;. One thing to make sure we understand - this is only talking about incoming requests! Your docker container can by default make requests on its own behalf.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_wiLe" id="5-docker-compose-commands">5. Docker-Compose commands<a href="#5-docker-compose-commands" class="hash-link" aria-label="Direct link to 5. Docker-Compose commands" title="Direct link to 5. Docker-Compose commands">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="-command-1-docker-compose-build">• Command 1: docker-compose build<a href="#-command-1-docker-compose-build" class="hash-link" aria-label="Direct link to • Command 1: docker-compose build" title="Direct link to • Command 1: docker-compose build">​</a></h3>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker-compose build</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Description:</strong></p>
<p>Services are built once and then tagged, by default as project_service.<br>
<!-- -->If the Compose file specifies an image name (i.e. services: my-service-name: image: some-name), the image is tagged with that name, substituting any variables beforehand. See variable interpolation.</p>
<p><strong>Commonly used flags:</strong></p>
<ul>
<li>
<p><strong>Flag 1: --no-cache</strong><br>
<!-- -->Prevent caching when building the image.</p>
</li>
<li>
<p><strong>Flag 2: -f | --file</strong><br>
<!-- -->Actually, the -f flag belongs to docker-compose command, so it&#x27;s actually use before the sub-command:</p>
<div class="language-dockerfile codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker-compose -f ./path/to/docker-compose.yaml build</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><strong>Flag 3: -t</strong><br>
<!-- -->A flag used for tagging the image. With docker, we had no way for tagging our image within the Dockerfile. We had to do so using the -t flag, and then providing the tag for the image. With docker-compose, we can have tags in our docker-compose file, so it basically rendered null the use for the -t flag, but it still can be used to override whatever is in the docker-compose file.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="-command-2-docker-compose-up">• Command 2: docker-compose up<a href="#-command-2-docker-compose-up" class="hash-link" aria-label="Direct link to • Command 2: docker-compose up" title="Direct link to • Command 2: docker-compose up">​</a></h3>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker-compose up</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-note admonition_KHHp alert alert--secondary"><div class="admonitionHeading_qZwP"><span class="admonitionIcon_PLTS"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_uytn"><p>Flags for this command <strong>MUST</strong> appear AFTER the <code>up</code> command!<br>
<!-- -->Example:</p><div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker-compose up -d --build</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div>
<p><strong>Description:</strong></p>
<p>...</p>
<p><strong>Commonly used flags:</strong></p>
<ul>
<li>
<p><strong>Flag 1: -d</strong><br>
<!-- -->Run in detached mode.</p>
</li>
<li>
<p><strong>Flag 2: --build</strong><br>
<!-- -->Force a re-build. Meaning, create a new image and THEN, run a container from it. Don&#x27;t use an existing image.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="-command-3-docker-compose-down">• Command 3: docker-compose down<a href="#-command-3-docker-compose-down" class="hash-link" aria-label="Direct link to • Command 3: docker-compose down" title="Direct link to • Command 3: docker-compose down">​</a></h3>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker-compose down</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Description:</strong></p>
<p>This command stops and removes an application&#x27;s containers (is it?).</p>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="-command-4-docker-compose-ps">• Command 4: docker-compose ps<a href="#-command-4-docker-compose-ps" class="hash-link" aria-label="Direct link to • Command 4: docker-compose ps" title="Direct link to • Command 4: docker-compose ps">​</a></h3>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">docker-compose ps</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Description:</strong></p>
<p>Show all running containers relevant to the current application.</p>
<p>The command <code>docker-compose ps</code> shows you all the running containers relevant to <em>THIS APPLICATION</em>. This is in contrast to running it &quot;cousin&quot;, <code>docker ps</code>, which shows you all the running containers, across <em>ALL APPLICATIONS</em>.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_wiLe" id="6-docker-compose-file">6. Docker-Compose file<a href="#6-docker-compose-file" class="hash-link" aria-label="Direct link to 6. Docker-Compose file" title="Direct link to 6. Docker-Compose file">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="-rule-1-services">• Rule 1: services<a href="#-rule-1-services" class="hash-link" aria-label="Direct link to • Rule 1: services" title="Direct link to • Rule 1: services">​</a></h3>
<p>A Compose file <strong>MUST</strong> declare a <code>services</code> key in the root.<br>
<!-- -->The <code>services</code> value is an object (a map) whose keys are string representations of <em>service names</em>, and whose values are <em>service definitions</em>.<br>
<!-- -->A <em>service definition</em> contains the configuration that is applied to each container started for that service.<br>
<!-- -->Each service MAY also include a <code>build</code> section, which defines how to create the Docker image for the service.<br>
<!-- -->Compose implementations <em>may</em> support building docker images using this service definition.
If not implemented, the <code>build</code> section <em>should</em> be ignored and the Compose file <strong>MUST</strong> still be considered valid.<br>
<code>build</code> support is an OPTIONAL aspect of the Compose specification, and is described in detail in the Build support documentation.</p>
<p>Each Service defines runtime constraints and requirements to run its containers.
The <code>deploy</code> section groups these constraints and allows the platform to adjust the deployment strategy to best match containers&#x27; needs with available resources. Deploy support is an OPTIONAL aspect of the Compose specification, and is described in detail in the Deployment support documentation. If not implemented the Deploy section SHOULD be ignored and the Compose file MUST still be considered valid.</p>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="-rule-2-servicesimage">• Rule 2: services.image<a href="#-rule-2-servicesimage" class="hash-link" aria-label="Direct link to • Rule 2: services.image" title="Direct link to • Rule 2: services.image">​</a></h3>
<p><code>image</code> specifies the image to start the container from.<br>
<code>image</code> <strong>MUST</strong> follow the Open Container Specification addressable image format, as <code>[%registry%/][%project%/]%image%[:%tag%|@%digest%]</code>.</p>
<div class="language-yaml codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-yaml codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> redis</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> redis</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> redis@sha256</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">0ed5d5928d4737458944eb604cc8509e245c3e19d02ad83935398bc4b991aac7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> library/redis</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> docker.io/library/redis</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> my_private.registry</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">5000/redis</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="-rule-3-servicesbuild">• Rule 3: services.build<a href="#-rule-3-servicesbuild" class="hash-link" aria-label="Direct link to • Rule 3: services.build" title="Direct link to • Rule 3: services.build">​</a></h3>
<ul>
<li>
<p>build
<code>build</code> an OPTIONAL build subsection on services
<code>build</code> specifies the build configuration for creating container image from source.
When a Build subsection is present for a service, it is valid for a Compose file to miss an <code>Image</code> attribute for corresponding service, as Compose implementation can build image from source.</p>
</li>
<li>
<p>build.context v.s. build = context
Build can be either specified as a single string defining a context path, or as a detailed build definition.
In the former case, the whole path is used as a Docker context to execute a docker build, looking for a canonical Dockerfile at context root. Context path can be absolute or relative, and if so relative path MUST be resolved from Compose file parent folder. As an absolute path prevent the Compose file to be portable, Compose implementation SHOULD warn user accordingly.</p>
</li>
<li>
<p>build.dockerfile
In the later case, build arguments can be specified, including an alternate Dockerfile location. This one can be absolute or relative path. If Dockerfile path is relative, it MUST be resolved from context path. As an absolute path prevent the Compose file to be portable, Compose implementation SHOULD warn user if an absolute alternate Dockerfile path is used.</p>
</li>
<li>
<p>Consistency with Image
When service definition do include both <code>Image</code> attribute and a <code>Build</code> section, Compose implementation can&#x27;t guarantee a pulled image is strictly equivalent to building the same image from sources. Without any explicit user directives, Compose implementation with Build support MUST first try to pull Image, then build from source if image was not found on registry. Compose implementation MAY offer options to customize this behavior by user request.</p>
</li>
<li>
<p>Illustrative sample</p>
<div class="language-yaml codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-yaml codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">services</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">frontend</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> awesome/webapp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">build</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ./webapp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">backend</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> awesome/database</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">build</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">context</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> backend</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">dockerfile</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ../backend.Dockerfile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">custom</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">build</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ~/custom</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>When used to build service images from source, such a Compose file will create three docker images:
• awesome/webapp docker image is built using webapp sub-directory within Compose file parent folder as docker build context. Lack of a Dockerfile within this folder will throw an error.
• awesome/database docker image is built using backend sub-directory within Compose file parent folder. backend.Dockerfile file is used to define build steps, this file is searched relative to context path, which means for this sample .. will resolve to Compose file parent folder, so backend.Dockerfile is a sibling file.
• a docker image is built using custom directory within user&#x27;s HOME as docker context. Compose implementation warn user about non-portable path used to build image.</p>
</li>
<li>
<p>Build Definition
The <code>build</code> element define configuration options that are applied by Compose implementations to build Docker image from source. <code>build</code> can be specified either as a string containing a path to the build context or a detailed structure:
Using this string syntax, only the build context can be configured as either:
• a relative path to the Compose file&#x27;s parent folder. This path MUST be a directory and contain a Dockerfile</p>
<div class="language-yaml codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-yaml codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">services</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">webapp</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">build</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ./dir</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>• a git repository URL. Git URLs accept context configuration in their fragment section, separated by a colon (:). The first part represents the reference that Git
will check out, and can be either a branch, a tag, or a remote reference. The second part represents a subdirectory inside the repository that will be used as a
build context.
services:
webapp:
build: <a href="https://github.com/mycompany/example.git#branch_or_tag:subdirectory" target="_blank" rel="noopener noreferrer">https://github.com/mycompany/example.git#branch_or_tag:subdirectory</a></p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="-rule-4-servicesbuildcontext-required">• Rule 4: services.build.context (REQUIRED)<a href="#-rule-4-servicesbuildcontext-required" class="hash-link" aria-label="Direct link to • Rule 4: services.build.context (REQUIRED)" title="Direct link to • Rule 4: services.build.context (REQUIRED)">​</a></h3>
<p><code>context</code> defines either a path to a directory containing a Dockerfile, or a url to a git repository.
When the value supplied is a relative path, it MUST be interpreted as relative to the location of the Compose file. Compose implementations MUST warn user about absolute path used to define build context as those prevent Compose file from being portable.</p>
<div class="language-yaml codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-yaml codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">This</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">build</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">context</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ./dir</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">V.S. this</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">services</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">webapp</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">build</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> https</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">//github.com/mycompany/webapp.git</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="-rule-5-servicesbuilddockerfile">• Rule 5: services.build.dockerfile<a href="#-rule-5-servicesbuilddockerfile" class="hash-link" aria-label="Direct link to • Rule 5: services.build.dockerfile" title="Direct link to • Rule 5: services.build.dockerfile">​</a></h3>
<p><code>dockerfile</code> allows to set an alternate Dockerfile. A relative path MUST be resolved from the build context. Compose implementations MUST warn user about absolute path used to define Dockerfile as those prevent Compose file from being portable. When set, <code>dockerfile_inline</code> attribute is not allowed and a Compose Implementation SHOULD reject any Compose file having both set.</p>
<div class="language-yaml codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-yaml codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">build</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">context</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">dockerfile</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> webapp.Dockerfile</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="-rule-6-servicesbuilddockerfile_inline">• Rule 6: services.build.dockerfile_inline<a href="#-rule-6-servicesbuilddockerfile_inline" class="hash-link" aria-label="Direct link to • Rule 6: services.build.dockerfile_inline" title="Direct link to • Rule 6: services.build.dockerfile_inline">​</a></h3>
<p><code>dockerfile_inline</code> allows to define Dockerfile content as inlined string in a Compose file. When set, <code>dockerfile</code> attribute is not allowed and a Compose Implementation SHOULD reject any Compose file having both set.
Use of YAML multi-line string syntax is recommended to define Dockerfile content:</p>
<div class="language-dockerfile codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">build:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">context: .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dockerfile_inline: |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FROM baseimage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN some command</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="-rule-7-servicesbuildargs">• Rule 7: services.build.args<a href="#-rule-7-servicesbuildargs" class="hash-link" aria-label="Direct link to • Rule 7: services.build.args" title="Direct link to • Rule 7: services.build.args">​</a></h3>
<p><code>args</code> define build arguments, i.e. Dockerfile <code>ARG</code> values.<br>
<code>args</code> can be set in Compose file under the <code>build</code> key to define some arguments.<br>
<code>args</code> can be set a mapping or a list:</p>
<div class="language-yaml codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-yaml codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">// Way number 1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">build</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">context</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">args</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">GIT_COMMIT</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> %some</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">value%</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">// Way number 2</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">build</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">context</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">args</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> GIT_COMMIT=%some</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">value%</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>-- HARDCODED:</strong></p>
<p><code>args</code> can be hardcoded:</p>
<div class="language-yaml codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-yaml codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">build</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">context</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">args</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> VERDION=0.0.1</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>-- PASSED FROM OUTSIDE:</strong></p>
<p><code>args</code> can be passed from outside:</p>
<div class="language-yaml codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-yaml codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">build</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">context</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">args</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># The names do not need to match! First VERSION is the inner name, second VERSION is the outer name.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> VERSION=$</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">VERSION</span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">0.0.1</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In which, you would call the build sub-command like so:</p>
<div class="language-bash codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-bash codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token plain">VERSION=1.2.3 docker-compose build --no-cache</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="-rule-8-servicesbuildprivileged">• Rule 8: services.build.privileged<a href="#-rule-8-servicesbuildprivileged" class="hash-link" aria-label="Direct link to • Rule 8: services.build.privileged" title="Direct link to • Rule 8: services.build.privileged">​</a></h3>
<p><code>privileged</code> configures the service image to build with elevated privileges. Support and actual impacts are platform-specific.
build:
context: .
privileged: true</p>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="-rule-9-servicesbuildlabels">• Rule 9: services.build.labels<a href="#-rule-9-servicesbuildlabels" class="hash-link" aria-label="Direct link to • Rule 9: services.build.labels" title="Direct link to • Rule 9: services.build.labels">​</a></h3>
<p><code>labels</code> add metadata to the resulting image. <code>labels</code> can be set either as an array or a map.
This:</p>
<div class="language-yaml codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-yaml codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">build</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">context</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">com.example.description</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Accounting webapp&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">com.example.department</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Finance&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">com.example.label-with-empty-value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>V.S. this:</p>
<div class="language-yaml codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-yaml codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">build</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">context</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> &quot;com.example.description=Accounting webapp&quot; </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> &quot;com.example.department=Finance&quot; </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;com.example.label-with-empty-value&quot;</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="-rule-10-servicesbuildno_cache">• Rule 10: services.build.no_cache<a href="#-rule-10-servicesbuildno_cache" class="hash-link" aria-label="Direct link to • Rule 10: services.build.no_cache" title="Direct link to • Rule 10: services.build.no_cache">​</a></h3>
<p><code>no_cache</code> disables image builder cache and enforce a full rebuild from source for all image layers. This only applies to layers declared in the Dockerfile, referenced images COULD be retrieved from local image store whenever tag has been updated on registry (see pull).</p>
<div class="language-yaml codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-yaml codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">services</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">users-service</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> users</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">build</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">no_cache</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="-rule-11-servicesbuildpull">• Rule 11: services.build.pull<a href="#-rule-11-servicesbuildpull" class="hash-link" aria-label="Direct link to • Rule 11: services.build.pull" title="Direct link to • Rule 11: services.build.pull">​</a></h3>
<p><code>pull</code> require the image builder to pull referenced images (FROM Dockerfile directive), even if those are already available in the local image store.</p>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="-rule-12-servicesbuildshm_size">• Rule 12: services.build.shm_size<a href="#-rule-12-servicesbuildshm_size" class="hash-link" aria-label="Direct link to • Rule 12: services.build.shm_size" title="Direct link to • Rule 12: services.build.shm_size">​</a></h3>
<p><code>shm_size</code> set the size of the shared memory (/dev/shm partition on Linux) allocated for building Docker image. Specify as an integer value representing the number of bytes or as a string expressing a byte value.</p>
<p><strong>Byte values:</strong></p>
<ul>
<li>2b</li>
<li>1024kb</li>
<li>2048k</li>
<li>300m</li>
<li>1gb</li>
</ul>
<p>This:</p>
<div class="language-yaml codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-yaml codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">build</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">context</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">shm_size</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;2gb&#x27;</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>V.S. this:</p>
<div class="language-yaml codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-yaml codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">build</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">context</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">shm_size</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10000000</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="-rule-13-servicesbuildsecrets">• Rule 13: services.build.secrets<a href="#-rule-13-servicesbuildsecrets" class="hash-link" aria-label="Direct link to • Rule 13: services.build.secrets" title="Direct link to • Rule 13: services.build.secrets">​</a></h3>
<p><code>Docker Secrets</code> are only available in <code>Swarm mode</code>, so standalone containers can not use this feature.
A given secret is only accessible to those services which have been granted explicit access to it, and while they&#x27;re running.</p>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="-rule-14-servicesbuildtags">• Rule 14: services.build.tags<a href="#-rule-14-servicesbuildtags" class="hash-link" aria-label="Direct link to • Rule 14: services.build.tags" title="Direct link to • Rule 14: services.build.tags">​</a></h3>
<p><code>tags</code> defines a list of tag mappings that MUST be associated to the build image.
This list comes in addition of the <code>image</code> property defined in the service section
tags:</p>
<ul>
<li>&quot;myimage<!-- -->:mytag<!-- -->&quot;</li>
<li>&quot;registry/username/myrepos<!-- -->:my-other-tag<!-- -->&quot;</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_wiLe" id="-rule-15-servicesenv_file">• Rule 15: services.env_file<a href="#-rule-15-servicesenv_file" class="hash-link" aria-label="Direct link to • Rule 15: services.env_file" title="Direct link to • Rule 15: services.env_file">​</a></h3>
<p>Defining an <code>env_file</code> inside the yaml will take environment variables from the file and inject them into the container. That makes it visible to your application, but cannot be used for variables inside your yaml that you want docker-compose to expand since that variable expansion happens before the env_file contents are parsed.</p>
<div class="language-yaml codeBlockContainer_Tb1O theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jGDM"><pre tabindex="0" class="prism-code language-yaml codeBlock_fzUO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QV9m"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">services</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">users-service</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">env_file</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> .env</span><br></span></code></pre><div class="buttonGroup_fUYf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_dt2M" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_urKy"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QSVW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>When both <code>env_file</code> and <code>environment</code> are set for a service, values set by <code>environment</code> have precedence.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/talkohavy/guides/docs/programming/docker.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_r6Nk" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_SbW_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/guides/docs/programming/design-patterns/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">- Design Patterns</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/guides/docs/programming/elk/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">- ELK Stack</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_uxRT thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-overall-project-workflow-process" class="table-of-contents__link toc-highlight">1. Overall Project Workflow Process</a><ul><li><a href="#--11-have-a-project-ready" class="table-of-contents__link toc-highlight">- 1.1. Have a project ready</a></li><li><a href="#--12-create-a-dockerfile" class="table-of-contents__link toc-highlight">- 1.2. Create a Dockerfile</a></li><li><a href="#--13-build-the-image-with-docker-composedocker-build" class="table-of-contents__link toc-highlight">- 1.3. build the image with docker-compose/docker build</a></li><li><a href="#--14-uploading-the-image-to-a-registry" class="table-of-contents__link toc-highlight">- 1.4. Uploading the image to a registry</a></li><li><a href="#--15-download-and-run-the-image" class="table-of-contents__link toc-highlight">- 1.5. Download and Run the image</a></li></ul></li><li><a href="#2-daily-use-workflow-process" class="table-of-contents__link toc-highlight">2. Daily Use Workflow Process</a><ul><li><a href="#-a-list-docker-images" class="table-of-contents__link toc-highlight">• A: List docker images</a></li><li><a href="#-b-delete-an-image" class="table-of-contents__link toc-highlight">• B: Delete an image</a></li><li><a href="#-c-list-docker-containers" class="table-of-contents__link toc-highlight">• C: List docker containers</a></li><li><a href="#-d-delete-a-container" class="table-of-contents__link toc-highlight">• D: Delete a container</a></li><li><a href="#-e-build-an-image" class="table-of-contents__link toc-highlight">• E: Build an image</a></li><li><a href="#-e-run-an-image-locally" class="table-of-contents__link toc-highlight">• E: Run an image locally</a></li><li><a href="#-f-how-to-debug-a-running-container" class="table-of-contents__link toc-highlight">• F: How to debug a running container?</a></li></ul></li><li><a href="#3-docker-commands" class="table-of-contents__link toc-highlight">3. Docker Commands</a><ul><li><a href="#-command-1-docker-system-prune" class="table-of-contents__link toc-highlight">• Command 1: docker system prune</a></li><li><a href="#-command-2-docker-login" class="table-of-contents__link toc-highlight">• Command 2: docker login</a></li><li><a href="#-command-2-docker-pull" class="table-of-contents__link toc-highlight">• Command 2: docker pull</a></li><li><a href="#-command-3-docker-build" class="table-of-contents__link toc-highlight">• Command 3: docker build</a></li><li><a href="#-command-4-docker-create" class="table-of-contents__link toc-highlight">• Command 4: docker create</a></li><li><a href="#-command-5-docker-run" class="table-of-contents__link toc-highlight">• Command 5: docker run</a></li><li><a href="#-command-6-docker-start--restart" class="table-of-contents__link toc-highlight">• Command 6: docker start / restart</a></li><li><a href="#-command-7-docker-stop--kill" class="table-of-contents__link toc-highlight">• Command 7: docker stop / kill</a></li><li><a href="#-command-8-docker-images" class="table-of-contents__link toc-highlight">• Command 8: docker images</a></li><li><a href="#-command-9-docker-ps" class="table-of-contents__link toc-highlight">• Command 9: docker ps</a></li><li><a href="#-command-10-docker-container-rm" class="table-of-contents__link toc-highlight">• Command 10: docker container rm</a></li><li><a href="#-command-11-docker-image-rm" class="table-of-contents__link toc-highlight">• Command 11: docker image rm</a></li><li><a href="#-command-12-docker-logs" class="table-of-contents__link toc-highlight">• Command 12: docker logs</a></li><li><a href="#-command-13-exec---debugging" class="table-of-contents__link toc-highlight">• Command 13: exec - debugging</a></li></ul></li><li><a href="#4-how-to-create-a-dockerfile" class="table-of-contents__link toc-highlight">4. How to create a Dockerfile</a><ul><li><a href="#-instruction-1-from" class="table-of-contents__link toc-highlight">• Instruction 1: FROM</a></li><li><a href="#-instruction-2-arg" class="table-of-contents__link toc-highlight">• Instruction 2: ARG</a></li><li><a href="#-instruction-3-workdir" class="table-of-contents__link toc-highlight">• Instruction 3: WORKDIR</a></li><li><a href="#-instruction-4-copy" class="table-of-contents__link toc-highlight">• Instruction 4: COPY</a></li><li><a href="#-instruction-5-run" class="table-of-contents__link toc-highlight">• Instruction 5: RUN</a></li><li><a href="#-instruction-6-entrypoint" class="table-of-contents__link toc-highlight">• Instruction 6: ENTRYPOINT</a></li><li><a href="#-instruction-7-cmd" class="table-of-contents__link toc-highlight">• Instruction 7: CMD</a></li><li><a href="#-instruction-8-expose" class="table-of-contents__link toc-highlight">• Instruction 8: EXPOSE</a></li></ul></li><li><a href="#5-docker-compose-commands" class="table-of-contents__link toc-highlight">5. Docker-Compose commands</a><ul><li><a href="#-command-1-docker-compose-build" class="table-of-contents__link toc-highlight">• Command 1: docker-compose build</a></li><li><a href="#-command-2-docker-compose-up" class="table-of-contents__link toc-highlight">• Command 2: docker-compose up</a></li><li><a href="#-command-3-docker-compose-down" class="table-of-contents__link toc-highlight">• Command 3: docker-compose down</a></li><li><a href="#-command-4-docker-compose-ps" class="table-of-contents__link toc-highlight">• Command 4: docker-compose ps</a></li></ul></li><li><a href="#6-docker-compose-file" class="table-of-contents__link toc-highlight">6. Docker-Compose file</a><ul><li><a href="#-rule-1-services" class="table-of-contents__link toc-highlight">• Rule 1: services</a></li><li><a href="#-rule-2-servicesimage" class="table-of-contents__link toc-highlight">• Rule 2: services.image</a></li><li><a href="#-rule-3-servicesbuild" class="table-of-contents__link toc-highlight">• Rule 3: services.build</a></li><li><a href="#-rule-4-servicesbuildcontext-required" class="table-of-contents__link toc-highlight">• Rule 4: services.build.context (REQUIRED)</a></li><li><a href="#-rule-5-servicesbuilddockerfile" class="table-of-contents__link toc-highlight">• Rule 5: services.build.dockerfile</a></li><li><a href="#-rule-6-servicesbuilddockerfile_inline" class="table-of-contents__link toc-highlight">• Rule 6: services.build.dockerfile_inline</a></li><li><a href="#-rule-7-servicesbuildargs" class="table-of-contents__link toc-highlight">• Rule 7: services.build.args</a></li><li><a href="#-rule-8-servicesbuildprivileged" class="table-of-contents__link toc-highlight">• Rule 8: services.build.privileged</a></li><li><a href="#-rule-9-servicesbuildlabels" class="table-of-contents__link toc-highlight">• Rule 9: services.build.labels</a></li><li><a href="#-rule-10-servicesbuildno_cache" class="table-of-contents__link toc-highlight">• Rule 10: services.build.no_cache</a></li><li><a href="#-rule-11-servicesbuildpull" class="table-of-contents__link toc-highlight">• Rule 11: services.build.pull</a></li><li><a href="#-rule-12-servicesbuildshm_size" class="table-of-contents__link toc-highlight">• Rule 12: services.build.shm_size</a></li><li><a href="#-rule-13-servicesbuildsecrets" class="table-of-contents__link toc-highlight">• Rule 13: services.build.secrets</a></li><li><a href="#-rule-14-servicesbuildtags" class="table-of-contents__link toc-highlight">• Rule 14: services.build.tags</a></li><li><a href="#-rule-15-servicesenv_file" class="table-of-contents__link toc-highlight">• Rule 15: services.env_file</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/guides/docs/programming/">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_v6aR"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_v6aR"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_v6aR"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/guides/blog/">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_v6aR"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>