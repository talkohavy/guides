"use strict";(self.webpackChunkdocusaurus_guides=self.webpackChunkdocusaurus_guides||[]).push([[2317],{4640:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"programming/nest","title":"Guide For Nest JS","description":"1. Getting Started - Create an Advanced Server","source":"@site/docs/programming/nest.md","sourceDirName":"programming","slug":"/programming/nest","permalink":"/guides/docs/programming/nest","draft":false,"unlisted":false,"editUrl":"https://github.com/talkohavy/guides/docs/programming/nest.md","tags":[],"version":"current","frontMatter":{},"sidebar":"mySidebar","previous":{"title":"- Micro-Frontends","permalink":"/guides/docs/programming/micro-frontends"},"next":{"title":"- Node","permalink":"/guides/docs/programming/node"}}');var r=s(6070),o=s(7010);const i={},a="Guide For Nest JS",l={},c=[{value:"<strong>1. Getting Started - Create an Advanced Server</strong>",id:"1-getting-started---create-an-advanced-server",level:2},{value:"- Step 1: Create new project",id:"--step-1-create-new-project",level:3},{value:"- Step 2: add dev script",id:"--step-2-add-dev-script",level:3},{value:"- Step 3: Eslint",id:"--step-3-eslint",level:3},{value:"- Step 4: tsconfig.json",id:"--step-4-tsconfigjson",level:3},{value:"- Step 5: package.json type",id:"--step-5-packagejson-type",level:3},{value:"- Step 6: use SWC",id:"--step-6-use-swc",level:3},{value:"SWC + Jest",id:"swc--jest",level:4},{value:"- Step 7: Configuration",id:"--step-7-configuration",level:3},{value:"- A. Installation",id:"--a-installation",level:4},{value:"- B. Basic Usage",id:"--b-basic-usage",level:4},{value:"- C. Disable env variables loading",id:"--c-disable-env-variables-loading",level:4},{value:"- D. Advanced Usage - Custom configuration files",id:"--d-advanced-usage---custom-configuration-files",level:4},{value:"- E. Enable CORS",id:"--e-enable-cors",level:4},{value:"- F. Enable Cookie Parser",id:"--f-enable-cookie-parser",level:4},{value:"- Step 8: Add a Custom Logger",id:"--step-8-add-a-custom-logger",level:3},{value:"- A. Introduction",id:"--a-introduction",level:4},{value:"- B. Basic Customization",id:"--b-basic-customization",level:4},{value:"- C. Custom Implementation",id:"--c-custom-implementation",level:4},{value:"- D. Logger as a module",id:"--d-logger-as-a-module",level:4},{value:"- E. Logger on Nest load",id:"--e-logger-on-nest-load",level:4},{value:"- F. Logger with context",id:"--f-logger-with-context",level:4},{value:"- Step 9: add handlers for UncaughtException &amp; UnhandledRejection",id:"--step-9-add-handlers-for-uncaughtexception--unhandledrejection",level:3},{value:"- Step 10: add your first Controller",id:"--step-10-add-your-first-controller",level:3},{value:"<strong>2. Nest Objects</strong>",id:"2-nest-objects",level:2},{value:"- A. Providers (Services)",id:"--a-providers-services",level:3},{value:"- B. Controllers",id:"--b-controllers",level:3},{value:"- C. Modules",id:"--c-modules",level:3},{value:"1. Overview",id:"1-overview",level:4},{value:"2. Shared modules",id:"2-shared-modules",level:4},{value:"3. Global modules",id:"3-global-modules",level:4},{value:"4. Dynamic modules",id:"4-dynamic-modules",level:4},{value:"- D. Filters",id:"--d-filters",level:3},{value:"- E. Pipes",id:"--e-pipes",level:3},{value:"\u2022 Type 1: Data Transformation",id:"-type-1-data-transformation",level:4},{value:"\u2022 Type 2: Data Validation",id:"-type-2-data-validation",level:4},{value:"- E. Guards",id:"--e-guards",level:3},{value:"<strong>3. Nest Swagger</strong>",id:"3-nest-swagger",level:2},{value:"- A. Installation",id:"--a-installation-1",level:3},{value:"- B. Configure &amp; Serve from main.ts",id:"--b-configure--serve-from-maints",level:3},{value:"- C. Adjust TAGs",id:"--c-adjust-tags",level:3},{value:"- D. Param Validation",id:"--d-param-validation",level:3},{value:"- E. Expected Response",id:"--e-expected-response",level:3},{value:"- D. Expected Query",id:"--d-expected-query",level:3},{value:"Nest config",id:"nest-config",level:3},{value:"How to handle CORS",id:"how-to-handle-cors",level:3},{value:"How to attach a Logger",id:"how-to-attach-a-logger",level:3},{value:"<strong>4. Nest CLI</strong>",id:"4-nest-cli",level:2},{value:"<strong>Install Nest CLI</strong>",id:"install-nest-cli",level:3},{value:"- A. Command: resource",id:"--a-command-resource",level:3},{value:"- B. Command: service",id:"--b-command-service",level:3},{value:"- D. Command: module",id:"--d-command-module",level:3}];function d(e){const n={admonition:"admonition",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"guide-for-nest-js",children:"Guide For Nest JS"})}),"\n",(0,r.jsx)(n.h2,{id:"1-getting-started---create-an-advanced-server",children:(0,r.jsx)(n.strong,{children:"1. Getting Started - Create an Advanced Server"})}),"\n",(0,r.jsx)(n.h3,{id:"--step-1-create-new-project",children:"- Step 1: Create new project"}),"\n",(0,r.jsx)(n.p,{children:"Run the command:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"nest new project-name\n"})}),"\n",(0,r.jsx)(n.p,{children:"Followed by:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cd project-name\npnpm run start\n"})}),"\n",(0,r.jsxs)(n.p,{children:["You now have a running server on port 3000.",(0,r.jsx)(n.br,{}),"\n","You can change the port number over at ",(0,r.jsx)(n.code,{children:"main.ts"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"You might wanna add the lines:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"const PORT = process.env.PORT ?? 8000;\nawait app.listen(PORT, () => console.log(`server running on port ${PORT}`));\n"})}),"\n",(0,r.jsx)(n.h3,{id:"--step-2-add-dev-script",children:"- Step 2: add dev script"}),"\n",(0,r.jsx)(n.p,{children:"In your package.json, add:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "dev": "nest start --watch",\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"--step-3-eslint",children:"- Step 3: Eslint"}),"\n",(0,r.jsx)(n.p,{children:"Nest is configured with the old eslint (v8), so you'll need to replace it with v9."}),"\n",(0,r.jsx)(n.p,{children:"You'll need to uninstall all of these:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"eslint"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"@typescript-eslint/eslint-plugin"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"@typescript-eslint/parser"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"eslint-config-prettier"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"eslint-plugin-prettier"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"and install these:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"eslint"})," (latest)"]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"@eslint/js"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"eslint-plugin-perfectionist"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"eslint-plugin-react-compiler"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"globals"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"typescript-eslint"})}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"--step-4-tsconfigjson",children:"- Step 4: tsconfig.json"}),"\n",(0,r.jsxs)(n.p,{children:["Copy the tsconfig from ",(0,r.jsx)(n.code,{children:"vs-vite-template"})," project, as it is more organized."]}),"\n",(0,r.jsx)(n.p,{children:"You'll need to manually change these however:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"module"}),": set to ",(0,r.jsx)(n.code,{children:"commonjs"})," instead of ",(0,r.jsx)(n.code,{children:"ESNEXT"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"noEmit"}),": set to ",(0,r.jsx)(n.code,{children:"false"})," instead of ",(0,r.jsx)(n.code,{children:"true"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"emitDecoratorMetadata"}),": set to ",(0,r.jsx)(n.code,{children:"true"})," instead of ",(0,r.jsx)(n.code,{children:"false"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"experimentalDecorators"}),": set to ",(0,r.jsx)(n.code,{children:"true"})," instead of ",(0,r.jsx)(n.code,{children:"false"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"outDir"}),': set to "./dist"']}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"removeComments"}),": set to ",(0,r.jsx)(n.code,{children:"true"})," instead of ",(0,r.jsx)(n.code,{children:"false"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"moduleResolution"}),": set to ",(0,r.jsx)(n.code,{children:"classic"})," instead of ",(0,r.jsx)(n.code,{children:"bundler"})," (or simply unset it)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"declaration"}),": set to ",(0,r.jsx)(n.code,{children:"true"})," instead of ",(0,r.jsx)(n.code,{children:"false"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"--step-5-packagejson-type",children:["- Step 5: package.json type",":commonjs"]}),"\n",(0,r.jsx)(n.p,{children:'I\'m 99% sure that nest can\'t work in esm. I tried to put "type": "module", and the dev server threw an esm related error. Therefore, make sure your package.json is set to:'}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "type": "commonjs"\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"--step-6-use-swc",children:"- Step 6: use SWC"}),"\n",(0,r.jsx)(n.p,{children:"SWC (Speedy Web Compiler) is an extensible Rust-based platform that can be used for both compilation and bundling. Using SWC with Nest CLI is a great and simple way to significantly speed up your development process."}),"\n",(0,r.jsx)(n.p,{children:"SWC is approximately x20 times faster than the default TypeScript compiler."}),"\n",(0,r.jsx)(n.p,{children:"Install these packages:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"p add -D @swc/cli @swc/core\n"})}),"\n",(0,r.jsxs)(n.p,{children:["And modify the ",(0,r.jsx)(n.code,{children:"nest-cli.json"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "$schema": "https://json.schemastore.org/nest-cli",\n  "collection": "@nestjs/schematics",\n  "sourceRoot": "src",\n  "compilerOptions": {\n    "builder": {\n      "type": "swc",\n      "options": {\n        "outDir": "dist",\n        "watch": false\n      }\n    },\n    "deleteOutDir": true,\n    "typeCheck": false // <--- in SWC, this defaults to false, and needs to be enabled manually.\n  }\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["SWC does not perform any type checking itself (as opposed to the default TypeScript compiler), so to turn it on, you need to use the --type-check flag, or you can just set the ",(0,r.jsx)(n.code,{children:"compilerOptions.typeCheck"})," property to true in your nest-cli.json."]}),"\n",(0,r.jsx)(n.h4,{id:"swc--jest",children:"SWC + Jest"}),"\n",(0,r.jsx)(n.p,{children:"To have support for jest in SWC, you first need to install:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"p add -D jest @swc/core @swc/jest\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Then update your ",(0,r.jsx)(n.code,{children:"package.json"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "jest": {\n    "moduleFileExtensions": [\n      "js",\n      "json",\n      "ts"\n    ],\n    "rootDir": "src",\n    "testRegex": ".*\\\\.spec\\\\.ts$",\n    // diff-add-start\n    "transform": {\n      "^.+\\\\.(t|j)s?$": [\n        "@swc/jest"\n      ]\n    },\n    "moduleNameMapper": {\n      "^@src/(.*)": "<rootDir>/$1"\n    },\n    // diff-add-end\n    "collectCoverageFrom": [\n      "**/*.(t|j)s"\n    ],\n    "coverageDirectory": "../coverage",\n    "testEnvironment": "node"\n  }\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["And add a ",(0,r.jsx)(n.code,{children:".swcrc"})," file at the root of your project, with the following contents:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "$schema": "https://json.schemastore.org/swcrc",\n  "sourceMaps": true,\n  "jsc": {\n    "parser": {\n      "syntax": "typescript",\n      "decorators": true,\n      "dynamicImport": true\n    },\n    "transform": {\n      "legacyDecorator": true,\n      "decoratorMetadata": true\n    },\n    "baseUrl": "./"\n  },\n  "minify": false\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"--step-7-configuration",children:"- Step 7: Configuration"}),"\n",(0,r.jsx)(n.h4,{id:"--a-installation",children:"- A. Installation"}),"\n",(0,r.jsxs)(n.p,{children:["To be able to read ",(0,r.jsx)(n.code,{children:".env"})," files, install the following:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"p add @nestjs/config\n"})}),"\n",(0,r.jsxs)(n.p,{children:["The @nestjs/config package internally uses ",(0,r.jsx)(n.code,{children:"dotenv"}),".\nSince ",(0,r.jsx)(n.code,{children:"@nestjs/config"})," relies on dotenv, it uses that package's rules for resolving conflicts in environment variable names. When a key exists both in the runtime environment as an environment variable (e.g., via OS shell exports like export DATABASE_USER=test) and in a .env file, the runtime environment variable takes precedence."]}),"\n",(0,r.jsx)(n.h4,{id:"--b-basic-usage",children:"- B. Basic Usage"}),"\n",(0,r.jsxs)(n.p,{children:["Once the installation process is complete, we can import the ",(0,r.jsx)(n.code,{children:"ConfigModule"})," in the root ",(0,r.jsx)(n.code,{children:"AppModule"})," and control its behavior using the ",(0,r.jsx)(n.strong,{children:".forRoot()"})," static method:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",metastring:"title=app.module.ts",children:"import { Module } from '@nestjs/common';\nimport { ConfigModule } from '@nestjs/config';\n\n@Module({\n  imports: [ConfigModule.forRoot()],\n})\nexport class AppModule {\n  // ...\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"What this does:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["It looks for a file named ",(0,r.jsx)(n.code,{children:".env"})," at the root of your project, reads it, and adds its contents to ",(0,r.jsx)(n.code,{children:"process.env"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["The ",(0,r.jsx)(n.strong,{children:"forRoot()"})," method registers the ",(0,r.jsx)(n.code,{children:"ConfigService"})," provider, which provides a ",(0,r.jsx)(n.strong,{children:"get()"})," method for reading these parsed/merged configuration variables. For example:","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"const nodeEnv = configService.get<EnvOptions>('nodeEnv');\nconsole.log(nodeEnv);\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["You can also specify a different path/name for the ",(0,r.jsx)(n.code,{children:".env"})," files like so:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",metastring:"title=app.module.ts",children:"ConfigModule.forRoot({\n  envFilePath: '.env.development.local',\n});\n"})}),"\n",(0,r.jsx)(n.p,{children:"You can also specify multiple paths for .env files like so:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",metastring:"title=app.module.ts",children:"ConfigModule.forRoot({\n  envFilePath: ['.env.development.local', '.env.development'],\n});\n"})}),"\n",(0,r.jsx)(n.p,{children:"If a variable is found in multiple files, the first one takes precedence."}),"\n",(0,r.jsx)(n.h4,{id:"--c-disable-env-variables-loading",children:"- C. Disable env variables loading"}),"\n",(0,r.jsxs)(n.p,{children:["If you don't want to load the ",(0,r.jsx)(n.code,{children:".env"})," file, but instead would like to simply access environment variables from the runtime environment (as with OS shell exports like export DATABASE_USER=test), set the options object's ",(0,r.jsx)(n.code,{children:"ignoreEnvFile"})," property to ",(0,r.jsx)(n.code,{children:"true"}),"."]}),"\n",(0,r.jsx)(n.h4,{id:"--d-advanced-usage---custom-configuration-files",children:"- D. Advanced Usage - Custom configuration files"}),"\n",(0,r.jsx)(n.p,{children:"For more complex projects, you may utilize custom configuration files to return nested configuration objects."}),"\n",(0,r.jsxs)(n.p,{children:["A custom configuration file exports a factory function that returns a configuration object. The configuration object can be any arbitrarily nested plain JavaScript object. The ",(0,r.jsx)(n.code,{children:"process.env"})," object will contain the fully resolved environment variable key/value pairs (with .env file and externally defined variables resolved and merged as described above). Since you control the returned configuration object, you can add any required logic to cast values to an appropriate type, set default values, etc. For example:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",metastring:"title=src/config/getConfiguration.ts",children:"export default function getConfiguration() {\n  return {\n    port: parseInt(process.env.PORT, 10) || 3000,\n    database: {\n      host: process.env.DATABASE_HOST,\n      port: parseInt(process.env.DATABASE_PORT, 10) || 5432,\n    },\n  };\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"You can even add a validation schema to your configuration:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",metastring:"title=src/config/validationSchema.ts",children:"import joi from 'joi';\n\nexport const envVariablesSchema = joi.object({\n  PORT: joi.number().port(),\n  IS_DEV: joi.string(),\n});\n"})}),"\n",(0,r.jsx)(n.p,{children:"then..."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",metastring:"title=app.module.ts",children:"@Module({\n  imports: [\n    ConfigModule.forRoot({\n      envFilePath: '.env', // <--- defaults to '.env'\n      isGlobal: true, // <--- defaults to false\n      cache: true, // <--- defaults to false\n      load: [getConfiguration],\n      validationSchema: envVariablesSchema,\n    }),\n  ],\n})\nexport class AppModule {\n  configure(consumer: MiddlewareConsumer) {\n  }\n}\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"import { Module } from '@nestjs/common';\nimport { ConfigModule } from '@nestjs/config';\nimport { getConfiguration } from './config';\nimport { envVariablesSchema } from './config/validationSchema';\n\n@Module({\n  imports: [\n    ConfigModule.forRoot({\n      envFilePath: '.env', // <--- defaults to '.env'\n      ignoreEnvFile: false, // <--- defaults to false.\n      isGlobal: true, // <--- defaults to false\n      cache: true, // <--- defaults to false\n      load: [getConfiguration],\n      validationSchema: envVariablesSchema,\n    }),\n  ],\n})\nexport class AppModule {\n  // ...\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"Then we can inject it using standard constructor injection:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"import { ConfigService } from '@nestjs/config';\n\n@Injectable()\nexport class UsersService {\n  constructor(private configService: ConfigService) {}\n  // ...\n}\n"})}),"\n",(0,r.jsx)(n.h4,{id:"--e-enable-cors",children:"- E. Enable CORS"}),"\n",(0,r.jsxs)(n.p,{children:["On the main file of ",(0,r.jsx)(n.code,{children:"main.ts"}),", add this line:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",metastring:"title=main.ts",children:"import { handleCors } from './common/utils/handleCors';\n\nconst nodeEnv = configService.get<EnvOptions>('nodeEnv');\napp.enableCors({ origin: handleCors(nodeEnv), credentials: true });\n"})}),"\n",(0,r.jsxs)(n.p,{children:["And create a file ",(0,r.jsx)(n.code,{children:"src/common/utils/handleCors.ts"}),", with the contents of:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"import { UnauthorizedException } from '@nestjs/common';\nimport { EnvOptions } from '@src/config/types';\n\nconst ALLOWED_DOMAINS = ['http://localhost:3000', 'https://luckylove.co.il'];\nconst PROD_DOMAIN_REGEX = '.luckylove.co.il';\n\nexport function handleCors(nodeEnv: EnvOptions) {\n  return (\n    origin: string,\n    callback: (err: Error | null, origin?: any) => void,\n  ) => {\n    const isAllowed =\n      origin === undefined ||\n      ALLOWED_DOMAINS.includes(origin) ||\n      (nodeEnv !== EnvOptions.Prod && origin.endsWith(PROD_DOMAIN_REGEX));\n\n    if (isAllowed) return void callback(null, true);\n\n    callback(new UnauthorizedException('CORS not allowed'), false);\n  };\n}\n"})}),"\n",(0,r.jsx)(n.h4,{id:"--f-enable-cookie-parser",children:"- F. Enable Cookie Parser"}),"\n",(0,r.jsx)(n.p,{children:"To enable cookie parser, first install:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"p add cookie-parser\np add -D @types/cookie-parser\n"})}),"\n",(0,r.jsx)(n.p,{children:"Once the installation is complete, apply the cookie-parser middleware as global middleware (for example, in your main.ts file)."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"import cookieParser from 'cookie-parser';\n\n// somewhere in your initialization file\napp.use(cookieParser());\n"})}),"\n",(0,r.jsx)(n.h3,{id:"--step-8-add-a-custom-logger",children:"- Step 8: Add a Custom Logger"}),"\n",(0,r.jsx)(n.h4,{id:"--a-introduction",children:"- A. Introduction"}),"\n",(0,r.jsxs)(n.p,{children:["Nest comes with a built-in text-based logger which is used during application bootstrapping and several other circumstances such as displaying caught exceptions. This functionality is provided via the ",(0,r.jsx)(n.code,{children:"Logger"})," class in the ",(0,r.jsx)(n.code,{children:"@nestjs/common"})," package."]}),"\n",(0,r.jsx)(n.p,{children:"You can also make use of the built-in logger, or create your own custom implementation, to log your own application-level events and messages."}),"\n",(0,r.jsx)(n.h4,{id:"--b-basic-customization",children:"- B. Basic Customization"}),"\n",(0,r.jsxs)(n.p,{children:["To disable logging, set the ",(0,r.jsx)(n.code,{children:"logger"})," property to ",(0,r.jsx)(n.code,{children:"false"})," in the (optional) Nest application options object passed as the second argument to the ",(0,r.jsx)(n.code,{children:"NestFactory.create()"})," method."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"\nconst app = await NestFactory.create(AppModule, {\n  logger: false,\n});\nawait app.listen(process.env.PORT ?? 3000);\n"})}),"\n",(0,r.jsxs)(n.p,{children:["To enable specific logging levels, set the ",(0,r.jsx)(n.code,{children:"logger"})," property to an array of strings specifying the log levels to display, as follows:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"\nconst app = await NestFactory.create(AppModule, {\n  logger: ['error', 'warn'],\n});\nawait app.listen(process.env.PORT ?? 3000);\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Values in the array can be any combination of ",(0,r.jsx)(n.code,{children:"'log'"}),", ",(0,r.jsx)(n.code,{children:"'fatal'"}),", ",(0,r.jsx)(n.code,{children:"'error'"}),", ",(0,r.jsx)(n.code,{children:"'warn'"}),", ",(0,r.jsx)(n.code,{children:"'debug'"}),", and ",(0,r.jsx)(n.code,{children:"'verbose'"}),"."]}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["To disable color in the default logger's messages, set the ",(0,r.jsx)(n.code,{children:"NO_COLOR"})," environment variable to some non-empty string."]})}),"\n",(0,r.jsx)(n.h4,{id:"--c-custom-implementation",children:"- C. Custom Implementation"}),"\n",(0,r.jsx)(n.p,{children:"There are several way in which you can attach a logger to Nest. But the two most recommended ones are:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Implementing the ",(0,r.jsx)(n.code,{children:"LoggerService"})," interface"]}),"\n",(0,r.jsxs)(n.li,{children:["Extending the ",(0,r.jsx)(n.code,{children:"ConsoleLogger"})," class"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Extending the ",(0,r.jsx)(n.code,{children:"ConsoleLogger"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"import { ConsoleLogger } from '@nestjs/common';\n\nexport class MyLogger extends ConsoleLogger {\n  error(message: any, stack?: string, context?: string) {\n    // add your tailored logic here\n    super.error(...arguments);\n  }\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Implementing the ",(0,r.jsx)(n.code,{children:"LoggerService"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"import { Injectable, LoggerService } from '@nestjs/common';\n\n@Injectable()\nexport class MyLogger implements LoggerService {\n  /**\n   * Write a 'log' level log.\n   */\n  log(message: any, ...optionalParams: any[]) {}\n\n  /**\n   * Write a 'fatal' level log.\n   */\n  fatal(message: any, ...optionalParams: any[]) {}\n\n  /**\n   * Write an 'error' level log.\n   */\n  error(message: any, ...optionalParams: any[]) {}\n\n  /**\n   * Write a 'warn' level log.\n   */\n  warn(message: any, ...optionalParams: any[]) {}\n\n  /**\n   * Write a 'debug' level log.\n   */\n  debug?(message: any, ...optionalParams: any[]) {}\n\n  /**\n   * Write a 'verbose' level log.\n   */\n  verbose?(message: any, ...optionalParams: any[]) {}\n}\n"})}),"\n",(0,r.jsx)(n.h4,{id:"--d-logger-as-a-module",children:"- D. Logger as a module"}),"\n",(0,r.jsxs)(n.p,{children:["For more advanced logging functionality, you'll want to take advantage of dependency injection. For example, you may want to inject a ",(0,r.jsx)(n.code,{children:"ConfigService"})," into your logger to customize it, and in turn inject your custom logger into other controllers and/or providers. To enable dependency injection for your custom logger, create a class that implements ",(0,r.jsx)(n.code,{children:"LoggerService"})," and register that class as a provider in some module."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"import { Module } from '@nestjs/common';\nimport { MyLoggerService } from './myLogger.service';\n\n@Module({\n  providers: [MyLoggerService],\n  exports: [MyLoggerService],\n})\nexport class LoggerModule {}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["With this construct, you are now providing your custom logger for use by any other module. Because your ",(0,r.jsx)(n.code,{children:"MyLoggerService"})," class is part of a module, it can use dependency injection (for example, to inject a ",(0,r.jsx)(n.code,{children:"ConfigService"}),")."]}),"\n",(0,r.jsx)(n.h4,{id:"--e-logger-on-nest-load",children:"- E. Logger on Nest load"}),"\n",(0,r.jsx)(n.p,{children:"There's one more technique needed to provide this custom logger for use by Nest for system logging (e.g., for bootstrapping and error handling)."}),"\n",(0,r.jsxs)(n.p,{children:["Because application instantiation (",(0,r.jsx)(n.code,{children:"NestFactory.create()"}),") happens outside the context of any module, it doesn't participate in the normal Dependency Injection phase of initialization. So we must ensure that at least one application module imports the ",(0,r.jsx)(n.code,{children:"LoggerModule"})," to trigger Nest to instantiate a singleton instance of our ",(0,r.jsx)(n.code,{children:"MyLoggerService"})," class."]}),"\n",(0,r.jsxs)(n.p,{children:["We can then instruct Nest to use the same singleton instance of ",(0,r.jsx)(n.code,{children:"MyLoggerService"})," with the following construction:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"const app = await NestFactory.create(AppModule, {\n  bufferLogs: true,\n});\napp.useLogger(app.get(MyLoggerService));\nawait app.listen(process.env.PORT ?? 3000);\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Here we use the ",(0,r.jsx)(n.code,{children:"get()"})," method on the ",(0,r.jsx)(n.code,{children:"NestApplication"})," instance to retrieve the singleton instance of the ",(0,r.jsx)(n.code,{children:"MyLoggerService"}),' object. This technique is essentially a way to "inject" an instance of a logger for use by Nest. The ',(0,r.jsx)(n.code,{children:"app.get()"})," call retrieves the singleton instance of ",(0,r.jsx)(n.code,{children:"MyLoggerService"}),", and depends on that instance being first injected in another module, as described above."]}),"\n",(0,r.jsxs)(n.p,{children:["When we supply a custom logger via ",(0,r.jsx)(n.code,{children:"app.useLogger()"}),", it will actually be used by Nest internally. That means that our code remains implementation agnostic, while we can easily substitute the default logger for our custom one by calling ",(0,r.jsx)(n.code,{children:"app.useLogger()"}),". That way calling to ",(0,r.jsx)(n.code,{children:"this.logger.log()"})," from MyService would result in calls to method ",(0,r.jsx)(n.code,{children:"log"})," from ",(0,r.jsx)(n.code,{children:"MyLoggerService"})," instance."]}),"\n",(0,r.jsxs)(n.p,{children:["You can also inject this ",(0,r.jsx)(n.code,{children:"MyLoggerService"})," provider in your feature classes, thus ensuring consistent logging behavior across both Nest system logging and application logging."]}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["In the example above, we set the ",(0,r.jsx)(n.code,{children:"bufferLogs"})," to ",(0,r.jsx)(n.code,{children:"true"})," to make sure all logs will be buffered until a custom logger is attached (",(0,r.jsx)(n.code,{children:"MyLoggerService"})," in this case) and the application initialization process either completes or fails. If the initialization process fails, Nest will fallback to the original ",(0,r.jsx)(n.code,{children:"ConsoleLogger"})," to print out any reported error messages."]})}),"\n",(0,r.jsx)(n.h4,{id:"--f-logger-with-context",children:"- F. Logger with context"}),"\n",(0,r.jsxs)(n.p,{children:["A good practice is to instantiate ",(0,r.jsx)(n.code,{children:"Logger"})," class from ",(0,r.jsx)(n.code,{children:"@nestjs/common"})," in each of our services. We can supply our ",(0,r.jsx)(n.strong,{children:"service name"})," as the ",(0,r.jsx)(n.code,{children:"context"})," argument in the Logger constructor, like so:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"import { Injectable, Logger } from '@nestjs/common';\n\n@Injectable()\nclass MyService {\n  private readonly logger = new Logger(MyService.name);\n\n  doSomething() {\n    this.logger.log('Doing something...');\n  }\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["In the default logger implementation, ",(0,r.jsx)(n.code,{children:"context"})," is printed in the square brackets, like ",(0,r.jsx)(n.code,{children:"NestFactory"})," in the example below:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"[Nest] 19096   - 12/08/2019, 7:12:59 AM   [NestFactory] Starting Nest application...\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Fortunately, Nest supplies the ",(0,r.jsx)(n.code,{children:"scope"})," option as configuration metadata for the ",(0,r.jsx)(n.code,{children:"ConsoleLogger"})," class, specifying a ",(0,r.jsx)(n.strong,{children:"transient"})," scope, to ensure that we'll have a unique instance of the ",(0,r.jsx)(n.code,{children:"MyLoggerService"})," in each feature module. In this example, we do not extend the individual ",(0,r.jsx)(n.code,{children:"ConsoleLogger"})," methods (like ",(0,r.jsx)(n.code,{children:"log()"}),", ",(0,r.jsx)(n.code,{children:"warn()"}),", etc.), though you may choose to do so."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"import { ConsoleLogger, Injectable, Scope } from '@nestjs/common';\n\n@Injectable({ scope: Scope.TRANSIENT })\nexport class MyLogger extends ConsoleLogger {\n  customLog() {\n    this.log('Please feed the cat!');\n  }\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Next, import the ",(0,r.jsx)(n.code,{children:"LoggerModule"})," into your feature module. Since we extended default ",(0,r.jsx)(n.code,{children:"Logger"})," we have the convenience of using ",(0,r.jsx)(n.code,{children:"setContext"})," method. So we can start using the context-aware custom logger, like this:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"\nimport { Injectable } from '@nestjs/common';\nimport { MyLogger } from './my-logger.service';\n\n@Injectable()\nexport class CatsService {\n  private readonly cats: Cat[] = [];\n\n  constructor(private myLogger: MyLogger) {\n    // Due to transient scope, CatsService has its own unique instance of MyLogger,\n    // so setting context here will not affect other instances in other services\n    this.myLogger.setContext('CatsService');\n  }\n\n  findAll(): Cat[] {\n    // You can call all the default methods\n    this.myLogger.warn('About to return cats!');\n    // And your custom methods\n    this.myLogger.customLog();\n    return this.cats;\n  }\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"Finally, instruct Nest to create a new instance of your logger:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"const app = await NestFactory.create(AppModule, {\n  bufferLogs: true,\n});\n// diff-remove-start\napp.useLogger(app.get(MyLoggerService));\n// diff-remove-end\n// diff-add-start\napp.useLogger(new MyLogger());\n// diff-add-end\nawait app.listen(process.env.PORT ?? 3000);\n"})}),"\n",(0,r.jsx)(n.h3,{id:"--step-9-add-handlers-for-uncaughtexception--unhandledrejection",children:"- Step 9: add handlers for UncaughtException & UnhandledRejection"}),"\n",(0,r.jsxs)(n.p,{children:["At the main file of ",(0,r.jsx)(n.code,{children:"main.ts"}),", under ",(0,r.jsx)(n.code,{children:"await app.listen"}),", add these lines:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"process.on('uncaughtException', () => {\n  console.error('AVOID SERVER CRASH - uncaughtException');\n});\n\nprocess.on('unhandledRejection', () => {\n  console.error('AVOID SERVER CRASH - unhandledRejection');\n});\n"})}),"\n",(0,r.jsx)(n.h3,{id:"--step-10-add-your-first-controller",children:"- Step 10: add your first Controller"}),"\n",(0,r.jsx)(n.p,{children:"Let's use the CLI to generate the controller, and everything around it."}),"\n",(0,r.jsx)(n.p,{children:"Run the following command:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"nest g resource NAME\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Move the newly created folder into ",(0,r.jsx)(n.code,{children:"./src/modules/"})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"2-nest-objects",children:(0,r.jsx)(n.strong,{children:"2. Nest Objects"})}),"\n",(0,r.jsx)(n.h3,{id:"--a-providers-services",children:"- A. Providers (Services)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Providers are a fundamental concept in Nest."}),"\n",(0,r.jsx)(n.li,{children:"Many things in Nest are considered as providers: services, repositories, factories, helpers, and so on."}),"\n",(0,r.jsxs)(n.li,{children:["In 90% of cases, Providers in nest are actually ",(0,r.jsx)(n.strong,{children:"services"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"The main idea of a provider is that it can be injected as a dependency"}),"."]}),"\n",(0,r.jsx)(n.li,{children:'\u0422he act of "wiring up" these objects is delegated to the Nest runtime system.'}),"\n",(0,r.jsxs)(n.li,{children:["Implementation-wise, Providers are really just a class with the ",(0,r.jsx)(n.strong,{children:"@Injectable()"})," decorator.\nThis means that this provider is something that can be injected into any class that depends on it."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Here is a Service Provider implementation example:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"import { Injectable } from '@nestjs/common';\nimport { GetUsersDto, LoginDto } from './dto/users.dto';\n\n@Injectable()\nexport class UsersService {\n  async login(body: LoginDto): Promise<string> {\n    console.log('body is:', body);\n    return 'you are logged in!';\n  }\n\n  async getUsers(query: GetUsersDto): Promise<string> {\n    console.log('query is:', query);\n    return 'get users';\n  }\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["And Here is how it can be consumed in a Controller:",(0,r.jsx)(n.br,{}),"\n","(we'll learn about controller in the next section)"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"import { Controller } from '@nestjs/common';\nimport { UsersService } from './users.service';\n\n@Controller('users')\nexport class UsersController {\n  constructor(private readonly usersService: UsersService) {}\n\n  // ...\n}\n"})}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"--b-controllers",children:"- B. Controllers"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"- Description:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Controllers are responsible for handling incoming requests and returning responses to the client."}),"\n",(0,r.jsx)(n.li,{children:"A controller's purpose is to receive specific requests for the application (not handle them! just receive them)."}),"\n",(0,r.jsx)(n.li,{children:"The routing mechanism controls which controller receives which requests. Frequently, each controller has more than one route, and different routes can perform different actions."}),"\n",(0,r.jsxs)(n.li,{children:["In Nest, a basic controller is a class with a decorator of ",(0,r.jsx)(n.strong,{children:"@Controller"}),", which has the required metadata that enables Nest to create a routing map, and tie requests to the corresponding controllers."]}),"\n",(0,r.jsx)(n.li,{children:"In Nest, often times a controller will have a Provider (a class with injectable) injected into it, which will carry the heavy-lifting of the task itself."}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import {\n  Body,\n  Controller,\n  Delete,\n  Get,\n  HttpException,\n  HttpStatus,\n  Param,\n  Post,\n  Put,\n  Query,\n} from '@nestjs/common';\nimport {\n  GetUsersDto,\n  LoginDto,\n  RegisterDto,\n  UpdateUserDto,\n} from './dto/users.dto';\nimport { UsersService } from './users.service';\n\n@Controller('users')\nexport class UsersController {\n  constructor(private readonly usersService: UsersService) {}\n\n  @Get()\n  async getUsers(@Query() query: GetUsersDto): Promise<string> {\n    const response = await this.usersService.getUsers(query);\n\n    return response;\n  }\n\n  @Get(':id')\n  async getUserById(@Param('id') id: string): Promise<string> {\n    const response = await this.usersService.getUserById(id);\n\n    return response;\n  }\n\n  @Put(':id')\n  async updateUser(\n    @Param('id') id: string,\n    @Body() updateUserDto: UpdateUserDto,\n  ) {\n    console.log('updateUserDto is:', updateUserDto);\n    return `This action updates a user of id ${id}`;\n  }\n\n  @Delete(':id')\n  async deleteUser(@Param('id') id: string) {\n    return `This action removes a user with an id of ${id}`;\n  }\n}\n"})}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"--c-modules",children:"- C. Modules"}),"\n",(0,r.jsx)(n.h4,{id:"1-overview",children:"1. Overview"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["A ",(0,r.jsx)(n.code,{children:"module"})," is a class annotated with a ",(0,r.jsx)(n.strong,{children:"@Module()"})," decorator."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.strong,{children:"@Module()"})," decorator takes a single object whose properties describe the module:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"imports"}),": the list of imported modules that export the providers which are required in this module."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"exports"}),": the subset of providers that are provided by this module and should be available in other modules which import this module. You can use either the provider itself or just its token (provide value)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"controllers"}),": the set of controllers defined in this module which have to be instantiated."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"providers"}),": the providers that will be instantiated by the Nest injector and that may be shared at least across this module."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.strong,{children:"@Module()"})," decorator provides metadata that Nest makes use of to organize the application structure."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"The module encapsulates providers by default. This means that it's impossible to inject providers that are neither directly part of the current module nor exported from the imported modules. Thus, you may consider the exported providers from a module as the module's public interface, or API."}),"\n",(0,r.jsx)(n.p,{children:"In Nest, modules are singletons by default, and thus you can share the same instance of any provider between multiple modules effortlessly."}),"\n",(0,r.jsx)(n.h4,{id:"2-shared-modules",children:"2. Shared modules"}),"\n",(0,r.jsx)(n.p,{children:"Every module is automatically a shared module. Once created it can be reused by any module. Let's imagine that we want to share an instance of the CatsService between several other modules. In order to do that, we first need to export the CatsService provider by adding it to the module's exports array, as shown below:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"\nimport { Module } from '@nestjs/common';\nimport { CatsController } from './cats.controller';\nimport { CatsService } from './cats.service';\n\n@Module({\n  controllers: [CatsController],\n  providers: [CatsService],\n  exports: [CatsService]\n})\nexport class CatsModule {}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Now any module that imports the ",(0,r.jsx)(n.code,{children:"CatsModule"})," has access to the ",(0,r.jsx)(n.code,{children:"CatsService"})," and will share the same instance with all other modules that import it as well."]}),"\n",(0,r.jsxs)(n.p,{children:["If we were to directly register the ",(0,r.jsx)(n.code,{children:"CatsService"})," in every module that requires it, it would indeed work, but it would result in each module getting its own separate instance of the ",(0,r.jsx)(n.code,{children:"CatsService"}),". This can lead to increased memory usage since multiple instances of the same service are created, and it could also cause unexpected behavior, such as state inconsistency if the service maintains any internal state."]}),"\n",(0,r.jsxs)(n.p,{children:["By encapsulating the ",(0,r.jsx)(n.code,{children:"CatsService"})," inside a module, such as the ",(0,r.jsx)(n.code,{children:"CatsModule"}),", and exporting it, we ensure that the same instance of ",(0,r.jsx)(n.code,{children:"CatsService"})," is reused across all modules that import ",(0,r.jsx)(n.code,{children:"CatsModule"}),". This not only reduces memory consumption but also leads to more predictable behavior, as all modules share the same instance, making it easier to manage shared states or resources. This is one of the key benefits of modularity and dependency injection in frameworks like NestJS\u2014allowing services to be efficiently shared throughout the application."]}),"\n",(0,r.jsx)(n.admonition,{type:"danger",children:(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"module"})," classes themselves cannot be injected as providers due to circular dependency. Avoid listing a ",(0,r.jsx)(n.code,{children:"module"})," inside the ",(0,r.jsx)(n.code,{children:"providers"})," array."]})}),"\n",(0,r.jsx)(n.h4,{id:"3-global-modules",children:"3. Global modules"}),"\n",(0,r.jsx)(n.p,{children:"If you have to import the same set of modules everywhere, it can get tedious. Unlike in Nest, Angular providers are registered in the global scope. Once defined, they're available everywhere. Nest, however, encapsulates providers inside the module scope. You aren't able to use a module's providers elsewhere without first importing the encapsulating module."}),"\n",(0,r.jsxs)(n.p,{children:["When you want to provide a set of providers which should be available everywhere out-of-the-box (e.g., helpers, database connections, etc.), make the module global with the ",(0,r.jsx)(n.strong,{children:"@Global()"})," decorator."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"\nimport { Global, Module } from '@nestjs/common';\nimport { CatsController } from './cats.controller';\nimport { CatsService } from './cats.service';\n\n@Global()\n@Module({\n  controllers: [CatsController],\n  providers: [CatsService],\n  exports: [CatsService],\n})\nexport class CatsModule {}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.strong,{children:"@Global()"})," decorator makes the module global-scoped. Global modules should be registered only once, generally by the root or core module. In the above example, the ",(0,r.jsx)(n.code,{children:"CatsService"})," provider will be ubiquitous, and modules that wish to inject the service will not need to import the ",(0,r.jsx)(n.code,{children:"CatsModule"})," in their imports array."]}),"\n",(0,r.jsx)(n.admonition,{type:"warning",children:(0,r.jsx)(n.p,{children:"Making everything global is not a good design decision. Global modules are available to reduce the amount of necessary boilerplate. The imports array is generally the preferred way to make the module's API available to consumers."})}),"\n",(0,r.jsx)(n.h4,{id:"4-dynamic-modules",children:"4. Dynamic modules"}),"\n",(0,r.jsx)(n.p,{children:"The Nest module system includes a powerful feature called dynamic modules. This feature enables you to easily create customizable modules that can register and configure providers dynamically."}),"\n",(0,r.jsxs)(n.p,{children:["Following is an example of a dynamic module definition for a ",(0,r.jsx)(n.code,{children:"DatabaseModule"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"\nimport { DynamicModule, Module } from '@nestjs/common';\nimport { Connection } from './connection.provider';\nimport { createDatabaseProviders } from './database.providers';\n\n@Module({\n  providers: [Connection],\n  exports: [Connection],\n})\nexport class DatabaseModule {\n  static forRoot(entities = [], options?): DynamicModule {\n    const providers = createDatabaseProviders(options, entities);\n    return {\n      module: DatabaseModule,\n      providers,\n      exports: providers,\n    };\n  }\n}\n"})}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsx)(n.p,{children:"The forRoot() method may return a dynamic module either synchronously or asynchronously (i.e., via a Promise)."})}),"\n",(0,r.jsxs)(n.p,{children:["This module defines the ",(0,r.jsx)(n.code,{children:"Connection"})," provider by default (in the ",(0,r.jsx)(n.strong,{children:"@Module()"})," decorator metadata), but additionally - depending on the ",(0,r.jsx)(n.code,{children:"entities"})," and ",(0,r.jsx)(n.code,{children:"options"})," objects passed into the ",(0,r.jsx)(n.code,{children:"forRoot()"})," method - exposes a collection of providers, for example, repositories. Note that the properties returned by the dynamic module extend (rather than override) the base module metadata defined in the ",(0,r.jsx)(n.strong,{children:"@Module()"})," decorator. That's how both the statically declared ",(0,r.jsx)(n.code,{children:"Connection"})," provider and the dynamically generated repository providers are exported from the module."]}),"\n",(0,r.jsxs)(n.p,{children:["If you want to register a dynamic module in the global scope, set the ",(0,r.jsx)(n.code,{children:"global"})," property to ",(0,r.jsx)(n.code,{children:"true"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"{\n  global: true,\n  module: DatabaseModule,\n  providers: providers,\n  exports: providers,\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"The DatabaseModule can be imported and configured in the following manner:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"import { Module } from '@nestjs/common';\nimport { DatabaseModule } from './database/database.module';\nimport { User } from './users/entities/user.entity';\n\n@Module({\n  imports: [DatabaseModule.forRoot([User])],\n})\nexport class AppModule {}\n"})}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"--d-filters",children:"- D. Filters"}),"\n",(0,r.jsx)(n.p,{children:"HttpException"}),"\n",(0,r.jsx)(n.h3,{id:"--e-pipes",children:"- E. Pipes"}),"\n",(0,r.jsx)(n.p,{children:'You can think of pipes in nest as kind of "middleware".'}),"\n",(0,r.jsx)(n.p,{children:"Pipes in nest are used for 2 main purposes: data transformation & data validation."}),"\n",(0,r.jsx)(n.p,{children:"So it's either to transform your data, or to validate your data."}),"\n",(0,r.jsx)(n.h4,{id:"-type-1-data-transformation",children:"\u2022 Type 1: Data Transformation"}),"\n",(0,r.jsxs)(n.p,{children:["The simplest way to explain data transformation, is the very common use case getting ",(0,r.jsx)(n.code,{children:":path"})," as a string, when it is in fact wanted as an integer.\nSince ",(0,r.jsx)(n.code,{children:"path"})," always comes as a string, we would need to convert it to a number every time. Using a pipe, you could have its value transformed to int. Nest has many of those built-in pipes. One of them is called ",(0,r.jsx)(n.code,{children:"ParseIntPipe"}),", which you can use just for that case:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",metastring:"{6} showLineNumbers",children:"/* eslint-disable */\n@Controller()\nexport class GatewayController {\n\tconstructor(private readonly httpService: HttpService) {}\n\n    @Get(':id')\n    getOnUser(@Param('id', ParseIntPipe) id: number) {\n        try {\n            return this.service.getUser(id);\n        } catch (err) {\n            throw new NotFoundException();\n        }\n    }\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"You can, of course, create your own pipes. Nest allows you to do that very easily."}),"\n",(0,r.jsx)(n.h4,{id:"-type-2-data-validation",children:"\u2022 Type 2: Data Validation"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",metastring:"title=create-user.dto.ts {1,4,8} showLineNumbers",children:"import { MinLength } from 'class-validator';\n\nexport class CreateUserDto {\n    @MinLength(3)\n    name: string;\n\n    // You can even provide your own customized error message.\n    @IsEnum(['dog', 'cat'], { message: 'Use correct Pet!' })\n    pet: 'dog' | 'cat';\n}\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",metastring:"title=users.controller.ts {6} showLineNumbers",children:"import { CreateUserDto } from './create-user-dto.ts';\n\n// ...\n\n@Post()\ncreateUser(@Body(new ValidationPipe) createUserDto){\n    return this.service.createUser(createUserDto);\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["If the validation fails, it automatically knows to throw a ",(0,r.jsx)(n.code,{children:"BadRequestException"})," with a 400 status code."]}),"\n",(0,r.jsx)(n.h3,{id:"--e-guards",children:"- E. Guards"}),"\n",(0,r.jsx)(n.p,{children:"A guard is a class annotated with the @Injectable() decorator, which implements the CanActivate interface."}),"\n",(0,r.jsx)(n.p,{children:"Guards really only have a single responsibility, which is to protect the underlying routes based on some kind of logic."}),"\n",(0,r.jsx)(n.p,{children:"For example, authentication & authorization."}),"\n",(0,r.jsx)(n.p,{children:"We will use the CLI to generate a guard:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"nest g guard isAuthenticated\n"})}),"\n",(0,r.jsx)(n.p,{children:"This will create 2 files for you:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"src/isAuthenticated/isAuthenticated.guard.spec.ts"}),"\n",(0,r.jsx)(n.li,{children:"src/isAuthenticated/isAuthenticated.guard.ts"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["A Guard is just another class with the @Injectable() decorator, kind of like a provider, only that it implements the ",(0,r.jsx)(n.code,{children:"CanActivate"})," interface. The interface simply returns a true or false value. The core idea behind a Guard is that you can attach a guard either to a controller, or to individual methods on a controller."]}),"\n",(0,r.jsxs)(n.p,{children:["When the value returned by that Guard is ",(0,r.jsx)(n.code,{children:"true"}),", the requests moves on to the route.",(0,r.jsx)(n.br,{}),"\n","If the Guard returns ",(0,r.jsx)(n.code,{children:"false"})," as its value, the process stops, and a 403 forbidden exception is returned by default."]}),"\n",(0,r.jsx)(n.p,{children:"The way you'd use a Guard on your controller is by using the @UseGuard() decorator."}),"\n",(0,r.jsx)(n.p,{children:"Here's an example of using @UseGuard() on a controller, which will protect all of its routes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",metastring:"{4} showLineNumbers",children:"import { IsAuthenticatedGuard } from './IsAuthenticatedGuard.guard';\n\n@Controller('users')\n@UseGuards(IsAuthenticatedGuard)\nexport class UserController{\n    constructor(private readonly usersService: UserService) {}\n\n    @Get()\n    getUsers(){\n        return this.usersService.getUsers();\n    }\n\n    @Get(:id)\n    getOneUser(@Param() id: string){\n        return this.usersService.getUsers(id);\n    }\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"And here's an example of using @UseGuard() on a single route, to protect only that route:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",metastring:"{8} showLineNumbers",children:"import { IsAuthenticatedGuard } from './IsAuthenticatedGuard.guard';\n\n@Controller('users')\nexport class UserController{\n    constructor(private readonly usersService: UserService) {}\n\n    @Get()\n    @UseGuards(IsAuthenticatedGuard)\n    getUsers(){\n        return this.usersService.getUsers();\n    }\n\n    @Get(:id)\n    getOneUser(@Param() id: string){\n        return this.usersService.getUsers(id);\n    }\n}\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"ExecutionContext"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["How to decide whether to return true or false is up to your business logic.",(0,r.jsx)(n.br,{}),"\n","Check out the code below. You can see that we're passing an ",(0,r.jsx)(n.code,{children:"ExecutionContext"})," object, and what you'd usually want to do is parse the request out of that context."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"/* eslint-disable */\nimport { Observable } from 'rxjs';\nimport { CanActivate, ExecutionContext, Injectable } from '@nestjs/common';\n\n@Injectable()\nexport class IsAuthenticatedGuard implements CanActivate {\n\tcanActivate(context: ExecutionContext): boolean | Promise<boolean> | Observable<boolean> {\n        const request = context.switchToHttp().getRequest();\n\n        // validation flow process:\n        const isAllowed = request.user.belts.includes('black');\n\n\t\treturn isAllowed;\n\t}\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"3-nest-swagger",children:(0,r.jsx)(n.strong,{children:"3. Nest Swagger"})}),"\n",(0,r.jsx)(n.h3,{id:"--a-installation-1",children:"- A. Installation"}),"\n",(0,r.jsx)(n.p,{children:"First you need to install a couple things:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"yarn add @nestjs/swagger swagger-ui-express\n"})}),"\n",(0,r.jsx)(n.h3,{id:"--b-configure--serve-from-maints",children:"- B. Configure & Serve from main.ts"}),"\n",(0,r.jsxs)(n.p,{children:["Next you need to go to ",(0,r.jsx)(n.code,{children:"main.ts"})," file:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",metastring:"title=main.ts {3,9-17} showLineNumbers",children:"/* eslint-disable */\nimport { NestFactory } from '@nestjs/core';\nimport { NestExpressApplication } from '@nestjs/platform-express';\nimport { DocumentBuilder, SwaggerModule } from '@nestjs/swagger';\nimport { AppModule } from './modules/app.module';\n\nasync function bootstrap() {\n    const app = await NestFactory.create<NestExpressApplication>(AppModule);\n\n\tconst config = new DocumentBuilder()\n\t\t.setTitle('API Gateway')\n\t\t.setDescription('The Gateway app for all services.')\n\t\t.setVersion('1.0.0')\n\t\t.build();\n\n\tconst document = SwaggerModule.createDocument(app, config);\n\n\tSwaggerModule.setup('/', app, document);\n\n\tawait app.listen(8000, () => console.log('app is running on 8000'));\n}\n\nbootstrap();\n"})}),"\n",(0,r.jsxs)(n.p,{children:["The '/' tells nest where to serve swagger-ui. In the above case, it will be served on ",(0,r.jsx)(n.code,{children:"http://localhost:8000"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"--c-adjust-tags",children:"- C. Adjust TAGs"}),"\n",(0,r.jsx)(n.p,{children:"You can add TAGs to controllers, to have them grouped differently:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",metastring:"{1} showLineNumbers",children:"/* eslint-disable */\n@ApiTags('infra-chat-service')\n@Controller()\nexport class GatewayController {\n  constructor(private readonly httpService: HttpService) {}\n\n  @Get('is-alive')\n  isAlive(): string {\n    return 'OK';\n  }\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"--d-param-validation",children:"- D. Param Validation"}),"\n",(0,r.jsx)(n.p,{children:"When using Dto objects, swagger-ui will be populated with the schemas already down at the bottom. To have routes make validations of those schemes, you can use something called an @ApiProperty decorator. Go to the Dto file inside the project and add the following:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",metastring:"title=create-user.dto.ts {4,7} showLineNumbers",children:"import { ApiProperty } from './@nestjs/swagger';\n\nexport class CreateUserDto {\n    @ApiProperty()\n    name: string;\n\n    @ApiProperty({ required: false })\n    age?: number;\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"The only \"gotcha\" above is that the @ApiProperty does not automatically catch the '?' which mark that a prop is optional. You need to specify that inside the @ApiProperty decorator."}),"\n",(0,r.jsx)(n.h3,{id:"--e-expected-response",children:"- E. Expected Response"}),"\n",(0,r.jsx)(n.p,{children:"You are able to represent the schema for the response using the @ApiCreatedResponse decorator."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",metastring:"title=user.controller.ts {6,12} showLineNumbers",children:"@Controller()\nexport class GatewayController {\n  constructor(private readonly httpService: HttpService) {}\n\n  @Post()\n  @ApiCreatedResponse({ type: User })\n  createUser(@Body() body: CreateUserDto) {\n    return this.service.createUser();\n  }\n\n  @Get()\n  @ApiOkResponse({ type: User, isArray: true, description: 'Get multiple users' })\n  getUsers(@Query(name) name?: string) {\n    return this.service.getUsers();\n  }\n\n  @Get(':id')\n  @ApiNotFoundResponse()\n  getOnUser(@Param('id', ParseIntPipe) id: number) {\n    const user = this.service.getUser(id);\n\n    if (!user) throw new NotFoundException();\n\n    return user;\n  }\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"--d-expected-query",children:"- D. Expected Query"}),"\n",(0,r.jsx)(n.p,{children:"When fetching an array of objects, you often filter out using query params. This is the most common use-case for the @Query() decorator of nest. You can let swagger know of the structure of your query params using the @ApiQuery() decorator."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",metastring:"{6} showLineNumbers",children:"@Controller()\nexport class GatewayController {\n  constructor(private readonly httpService: HttpService) {}\n\n  @Get()\n  @ApiQuery({ name: 'name', required: false })\n  getUsers(@Query(name) name?: string) {\n    return this.service.getUsers();\n  }\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"Note that once again, the '?' isn't telling swagger that this prop is optional, you need to specify that explicitly within the @ApiQuery decorator."}),"\n",(0,r.jsx)(n.h3,{id:"nest-config",children:"Nest config"}),"\n",(0,r.jsx)(n.p,{children:"...to do ..."}),"\n",(0,r.jsx)(n.h3,{id:"how-to-handle-cors",children:"How to handle CORS"}),"\n",(0,r.jsx)(n.p,{children:"...to do ..."}),"\n",(0,r.jsx)(n.h3,{id:"how-to-attach-a-logger",children:"How to attach a Logger"}),"\n",(0,r.jsx)(n.p,{children:"...to do ..."}),"\n",(0,r.jsx)(n.h2,{id:"4-nest-cli",children:(0,r.jsx)(n.strong,{children:"4. Nest CLI"})}),"\n",(0,r.jsx)(n.h3,{id:"install-nest-cli",children:(0,r.jsx)(n.strong,{children:"Install Nest CLI"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"p add -g @nestjs/cli\n"})}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"--a-command-resource",children:"- A. Command: resource"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"- Command's form:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"nest g resource NAME\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"- Description:"})}),"\n",(0,r.jsxs)(n.p,{children:["Creates a ",(0,r.jsx)(n.code,{children:"module"}),", with a ",(0,r.jsx)(n.code,{children:"controller"}),", that uses a ",(0,r.jsx)(n.code,{children:"service"}),", and creates matching test files for the controller, and the service. Also creates a ",(0,r.jsx)(n.code,{children:"dto"})," folder, for both the ",(0,r.jsx)(n.strong,{children:"create"})," & ",(0,r.jsx)(n.strong,{children:"update"})," routes."]}),"\n",(0,r.jsxs)(n.p,{children:["It will also update your main ",(0,r.jsx)(n.code,{children:"app.module.ts"})," file to use the newly created ",(0,r.jsx)(n.code,{children:"name"})," module."]}),"\n",(0,r.jsxs)(n.p,{children:["After running the command, move the generated folder into your ",(0,r.jsx)(n.code,{children:"src/modules"})," folder."]}),"\n",(0,r.jsx)(n.p,{children:"For 99% of times, this is the only command you'll be using."}),"\n",(0,r.jsx)(n.p,{children:"Running the command creates the following folder structure:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"\ud83d\udcc2 name\n \u2523 \ud83d\udcc2 dto\n \u2503 \u2523 \ud83d\udcdc create-name.dto.ts\n \u2503 \u2517 \ud83d\udcdc update-name.dto.ts\n \u2523 \ud83d\udcc2 entities\n \u2503 \u2517 \ud83d\udcdcname.entity.ts\n \u2523 \ud83d\udcdc name.controller.spec.ts\n \u2523 \ud83d\udcdc name.controller.ts\n \u2523 \ud83d\udcdc name.module.ts\n \u2523 \ud83d\udcdc name.service.spec.ts\n \u2517 \ud83d\udcdc name.service.ts\n"})}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"--b-command-service",children:"- B. Command: service"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"- Command's form:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"nest g service NAME\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"- Description:"})}),"\n",(0,r.jsxs)(n.p,{children:["Creates a folder named ",(0,r.jsx)(n.code,{children:"name"}),", with 2 files:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"\ud83d\udcc2 name\n \u2523 \ud83d\udcdc name.service.spec.ts\n \u2517 \ud83d\udcdc name.service.ts\n"})}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"--d-command-module",children:"- D. Command: module"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"- Command's form:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"nest g module NAME\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"- Description:"})}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(n.hr,{})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},7010:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>a});var t=s(758);const r={},o=t.createContext(r);function i(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);