"use strict";(self.webpackChunkdocusaurus_guides=self.webpackChunkdocusaurus_guides||[]).push([[9668],{4867:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>h,frontMatter:()=>d,metadata:()=>o,toc:()=>a});const o=JSON.parse('{"id":"programming/devops/kubernetes/most-useful-commands","title":"Most useful Commands","description":"- Command 1: show logs of pod","source":"@site/docs/programming/devops/kubernetes/most-useful-commands.md","sourceDirName":"programming/devops/kubernetes","slug":"/programming/devops/kubernetes/most-useful-commands","permalink":"/guides/docs/programming/devops/kubernetes/most-useful-commands","draft":false,"unlisted":false,"editUrl":"https://github.com/talkohavy/guides/docs/programming/devops/kubernetes/most-useful-commands.md","tags":[],"version":"current","frontMatter":{},"sidebar":"mySidebar","previous":{"title":"- Overview","permalink":"/guides/docs/programming/devops/kubernetes/overview"},"next":{"title":"- All Kubectl Commands","permalink":"/guides/docs/programming/devops/kubernetes/kubectl-commands"}}');var r=s(5813),l=s(3546);const d={},t="Most useful Commands",c={},a=[{value:"<strong>- Command 1: show logs of pod</strong>",id:"--command-1-show-logs-of-pod",level:2},{value:"<strong>- Command 2: port-forward</strong>",id:"--command-2-port-forward",level:2},{value:"<strong>- Command 3: kubectl exec</strong>",id:"--command-3-kubectl-exec",level:2},{value:"<strong>- Command 4: manually delete a pod</strong>",id:"--command-4-manually-delete-a-pod",level:2},{value:"<strong>- Command 5: rollout status deploy</strong>",id:"--command-5-rollout-status-deploy",level:2},{value:"<strong>- Command 6: manually scale a deployment</strong>",id:"--command-6-manually-scale-a-deployment",level:2}];function i(e){const n={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"most-useful-commands",children:"Most useful Commands"})}),"\n",(0,r.jsx)(n.h2,{id:"--command-1-show-logs-of-pod",children:(0,r.jsx)(n.strong,{children:"- Command 1: show logs of pod"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"The command:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"kubectl logs POD_NAME -n NAMESPACE -f\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description:"})}),"\n",(0,r.jsx)(n.p,{children:"Show logs inside a pod."}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(n.h2,{id:"--command-2-port-forward",children:(0,r.jsx)(n.strong,{children:"- Command 2: port-forward"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"The command:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"kubectl port-forward TYPE/NAME [options] [LOCAL_PORT:]REMOTE_PORT [...[LOCAL_PORT_N:]REMOTE_PORT_N]\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description:"})}),"\n",(0,r.jsx)(n.p,{children:"You way of connecting to a pod from the host."}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"kubectl port-forward"})," command in Kubernetes allows you to forward one or more local ports to a port on a Pod (or other Kubernetes resource like a Service). ",(0,r.jsx)(n.strong,{children:"This is useful for debugging or temporarily accessing services running inside your cluster without exposing them externally"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["Use resource type/name such as deployment/my_deployment to select a pod. Resource type defaults to ",(0,r.jsx)(n.code,{children:"pod"})," if omitted."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Common Use-Case:"})}),"\n",(0,r.jsx)(n.p,{children:"Accessing a web app running in a pod."}),"\n",(0,r.jsx)(n.p,{children:"\u2705 Do this:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"kubectl port-forward svc/frontend-server -n application 8080:3000\n"})}),"\n",(0,r.jsxs)(n.p,{children:["You can now access the service at ",(0,r.jsx)(n.a,{href:"http://localhost:8080",children:"http://localhost:8080"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"\u274c NEVER DO THIS:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"kubectl port-forward deployment/my-service 8080:3000\n"})}),"\n",(0,r.jsxs)(n.p,{children:["While using ",(0,r.jsx)(n.code,{children:"deployment/"})," may seem like it works, you're losing so many benefits that ",(0,r.jsx)(n.code,{children:"svc/"})," provides. The former is a direct connection to one specific pod (Kubernetes picks one), where the latter routes through the Service's load balancing mechanism, so you have multiple pods, a service discovery, and resilience: (If a pod dies),"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Notes:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["This is a ",(0,r.jsx)(n.strong,{children:"temporary and local-only"})," tunnel; it's not for production use."]}),"\n",(0,r.jsxs)(n.li,{children:["It requires ",(0,r.jsx)(n.code,{children:"kubectl"})," to stay running in your terminal."]}),"\n",(0,r.jsx)(n.li,{children:"You must have access to the pod via your Kubernetes context."}),"\n",(0,r.jsxs)(n.li,{children:["always use ",(0,r.jsx)(n.code,{children:"svc/"}),", do not use ",(0,r.jsx)(n.code,{children:"deployment/"}),"."]}),"\n"]}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(n.h2,{id:"--command-3-kubectl-exec",children:(0,r.jsx)(n.strong,{children:"- Command 3: kubectl exec"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"The command:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"kubectl exec -it -n NAMESPACE POD_NAME -c CONTAINER_NAME -- sh\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description:"})}),"\n",(0,r.jsx)(n.p,{children:"Use this command to:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Execute a command inside a ",(0,r.jsx)(n.strong,{children:"running"})," pod."]}),"\n",(0,r.jsxs)(n.li,{children:["Execute a command inside a ",(0,r.jsx)(n.strong,{children:"running"})," container inside a ",(0,r.jsx)(n.strong,{children:"running"})," pod."]}),"\n"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["If the ",(0,r.jsx)(n.code,{children:"-n"})," flag is omitted, namespace defaults to ",(0,r.jsx)(n.code,{children:"default"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["If the ",(0,r.jsx)(n.code,{children:"-c"})," flag is omitted, ssh is to the pod."]}),"\n",(0,r.jsxs)(n.li,{children:["If the ",(0,r.jsx)(n.code,{children:"-c"})," flag is used, ssh is to the container inside the pod."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["This command is very similar to the ",(0,r.jsx)(n.code,{children:"docker exec"})," command."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Common Use-Case:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"kubectl exec -it -n solve-dev solvebe-admin-server-3d45e6 -c solve-admin-server -- sh\n"})}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(n.h2,{id:"--command-4-manually-delete-a-pod",children:(0,r.jsx)(n.strong,{children:"- Command 4: manually delete a pod"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"The command:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"kubectl delete pod POD_NAME\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description:"})}),"\n",(0,r.jsx)(n.p,{children:"Deletes a pod by name."}),"\n",(0,r.jsxs)(n.p,{children:["A deleted pod, which was ",(0,r.jsx)(n.strong,{children:"manually created"}),", would be deleted forever.",(0,r.jsx)(n.br,{}),"\n","A deleted pod, which was created by a ",(0,r.jsx)(n.strong,{children:"deployment"}),", would also be deleted, but a few seconds later, the deployment would create a new pod that would have a different hash and a IP address."]}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(n.h2,{id:"--command-5-rollout-status-deploy",children:(0,r.jsx)(n.strong,{children:"- Command 5: rollout status deploy"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"The command:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"kubectl rollout status deploy DEPLOYMENT_NAME\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description:"})}),"\n",(0,r.jsxs)(n.p,{children:["The terminal is kept busy until the rollout is complete.",(0,r.jsx)(n.br,{}),"\n","You get online updates about completed steps.",(0,r.jsx)(n.br,{}),"\n","Most commonly used with:",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.code,{children:"kubectl scale deployment DEPLOYMENT_NAME --replicas=#number"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example Usage:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"kubectl rollout status deploy ai-gateway-service -n dev-chatbot\n"})}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(n.h2,{id:"--command-6-manually-scale-a-deployment",children:(0,r.jsx)(n.strong,{children:"- Command 6: manually scale a deployment"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"The command:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"kubectl scale deployment DEPLOYMENT_NAME --replicas=#number\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example Usage:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"kubectl rollout status deploy ai-gateway-service -n dev-chatbot\n"})}),"\n",(0,r.jsx)("br",{})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(i,{...e})}):i(e)}},3546:(e,n,s)=>{s.d(n,{R:()=>d,x:()=>t});var o=s(9729);const r={},l=o.createContext(r);function d(e){const n=o.useContext(l);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),o.createElement(l.Provider,{value:n},e.children)}}}]);