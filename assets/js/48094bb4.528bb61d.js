"use strict";(self.webpackChunkdocusaurus_guides=self.webpackChunkdocusaurus_guides||[]).push([[9350],{5466:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>g,frontMatter:()=>i,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"programming/socket-io/getting-started","title":"Getting Started","description":"1. On the server","source":"@site/docs/programming/socket-io/getting-started.md","sourceDirName":"programming/socket-io","slug":"/programming/socket-io/getting-started","permalink":"/guides/docs/programming/socket-io/getting-started","draft":false,"unlisted":false,"editUrl":"https://github.com/talkohavy/guides/docs/programming/socket-io/getting-started.md","tags":[],"version":"current","frontMatter":{},"sidebar":"mySidebar","previous":{"title":"- Socket IO","permalink":"/guides/docs/socket-io"},"next":{"title":"- Broadcasting","permalink":"/guides/docs/programming/socket-io/broadcasting"}}');var o=t(5813),s=t(3546);const i={},a="Getting Started",c={},d=[{value:"<strong>1. On the server</strong>",id:"1-on-the-server",level:2},{value:"<strong>2. On the client</strong>",id:"2-on-the-client",level:2}];function l(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",pre:"pre",strong:"strong",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"getting-started",children:"Getting Started"})}),"\n",(0,o.jsx)(n.h2,{id:"1-on-the-server",children:(0,o.jsx)(n.strong,{children:"1. On the server"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"import express from 'express';\nimport { createServer } from 'node:http';\nimport { fileURLToPath } from 'node:url';\nimport { dirname, join } from 'node:path';\n// diff-add-start\nimport { Server } from 'socket.io';\n// diff-add-end\n\nconst app = express();\nconst server = createServer(app);\n// diff-add-start\nconst io = new Server(server);\n// diff-add-end\n\nconst __dirname = dirname(fileURLToPath(import.meta.url));\n\napp.get('/', (req, res) => {\n  res.sendFile(join(__dirname, 'index.html'));\n});\n\n// diff-add-start\nio.on('connection', (socket) => {\n  console.log('a user connected');\n\n  socket.on('disconnect', () => {\n    console.log('user disconnected');\n  });\n});\n// diff-add-end\n\nserver.listen(3000, () => {\n  console.log('server running at http://localhost:3000');\n});\n"})}),"\n",(0,o.jsx)(n.h2,{id:"2-on-the-client",children:(0,o.jsx)(n.strong,{children:"2. On the client"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:"import React, { useEffect, useRef } from 'react';\n\nconst socket = window.io();\n\nexport default function Chat() {\n  const onHitEnter = (value: string) => {\n    socket.emit('chat message', value);\n  };\n\n  return (\n    <form>\n      <input onChange={(e) => setText(e.target.value)} autoComplete=\"off\" />\n      <button type=\"button\" onClick={onHitEnter}>Send</button>\n    </form>\n  );\n};\n"})})]})}function g(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},3546:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>a});var r=t(9729);const o={},s=r.createContext(o);function i(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);