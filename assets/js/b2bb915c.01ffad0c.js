"use strict";(self.webpackChunkdocusaurus_guides=self.webpackChunkdocusaurus_guides||[]).push([[4533],{7989:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>a,contentTitle:()=>c,default:()=>d,frontMatter:()=>s,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"programming/web/service-worker","title":"Service Worker","description":"Quick comparison - Web Worker V.S. Service Worker","source":"@site/docs/programming/web/service-worker.md","sourceDirName":"programming/web","slug":"/programming/web/service-worker","permalink":"/guides/docs/programming/web/service-worker","draft":false,"unlisted":false,"editUrl":"https://github.com/talkohavy/guides/docs/programming/web/service-worker.md","tags":[],"version":"current","frontMatter":{},"sidebar":"mySidebar","previous":{"title":"- Inert","permalink":"/guides/docs/programming/web/inert"},"next":{"title":"- Web Worker","permalink":"/guides/docs/programming/web/web-worker"}}');var o=n(6070),t=n(7010);const s={},c="Service Worker",a={},l=[{value:"Quick comparison - Web Worker V.S. Service Worker",id:"quick-comparison---web-worker-vs-service-worker",level:2},{value:"Motivation",id:"motivation",level:2},{value:"Core Building Blocks",id:"core-building-blocks",level:2},{value:"Important to know",id:"important-to-know",level:2},{value:"Service Worker Events",id:"service-worker-events",level:2},{value:"- <code>fetch</code>",id:"--fetch",level:3},{value:"- <code>push notifications</code>",id:"--push-notifications",level:3},{value:"- <code>notification interaction</code>",id:"--notification-interaction",level:3},{value:"- <code>background synchronization</code>",id:"--background-synchronization",level:3},{value:"Service Worker Lifecycle",id:"service-worker-lifecycle",level:2}];function h(e){const r={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r.header,{children:(0,o.jsx)(r.h1,{id:"service-worker",children:"Service Worker"})}),"\n",(0,o.jsx)(r.h2,{id:"quick-comparison---web-worker-vs-service-worker",children:"Quick comparison - Web Worker V.S. Service Worker"}),"\n",(0,o.jsxs)(r.p,{children:[(0,o.jsx)(r.strong,{children:"Service Workers"})," are a special type of ",(0,o.jsx)(r.strong,{children:"Web Workers"}),"."]}),"\n",(0,o.jsxs)(r.p,{children:[(0,o.jsx)(r.strong,{children:"Service Workers"})," also run on a background thread, decoupled from the DOM, however, as opposed to ",(0,o.jsx)(r.strong,{children:"Web Workers"}),", they do not die after the page is closed, they keep on living/running - depending on the operating system."]}),"\n",(0,o.jsx)(r.hr,{}),"\n",(0,o.jsx)(r.h2,{id:"motivation",children:"Motivation"}),"\n",(0,o.jsxs)(r.p,{children:[(0,o.jsx)(r.strong,{children:"Service Workers"})," are basically javascript running in a background process."]}),"\n",(0,o.jsxs)(r.p,{children:[(0,o.jsx)(r.strong,{children:"Service Workers"})," is a technology that allows us to cache some resources in our application, and make our website available offline because we cached those resources."]}),"\n",(0,o.jsxs)(r.p,{children:[(0,o.jsx)(r.strong,{children:"Service Workers"})," also allow us to make interactions with the offline website, save data from those interactions, so that when we come back online we can send this data to the server."]}),"\n",(0,o.jsx)(r.hr,{}),"\n",(0,o.jsx)(r.h2,{id:"core-building-blocks",children:"Core Building Blocks"}),"\n",(0,o.jsxs)(r.ul,{children:["\n",(0,o.jsx)(r.li,{children:"Service Workers"}),"\n",(0,o.jsx)(r.li,{children:"Background Synchronization"}),"\n",(0,o.jsx)(r.li,{children:"Web Push"}),"\n",(0,o.jsx)(r.li,{children:"Application Manifest"}),"\n",(0,o.jsx)(r.li,{children:"Geo location API"}),"\n",(0,o.jsx)(r.li,{children:"Media API"}),"\n"]}),"\n",(0,o.jsx)(r.hr,{}),"\n",(0,o.jsx)(r.h2,{id:"important-to-know",children:"Important to know"}),"\n",(0,o.jsx)(r.p,{children:"Service workers also run on a single thread, separate from the thread running the normal javascript code from your html page. They have their own thread."}),"\n",(0,o.jsxs)(r.ul,{children:["\n",(0,o.jsxs)(r.li,{children:["Service Workers run on an additional thread, ",(0,o.jsx)(r.strong,{children:"decoupled"})," from HTML pages."]}),"\n",(0,o.jsx)(r.li,{children:"Service Workers have a certain scope where they apply to (i.e. the domain of your page)."}),"\n",(0,o.jsx)(r.li,{children:"The initial registration of a worker is done by normal javascript coming from your HTML."}),"\n",(0,o.jsx)(r.li,{children:"Service Workers continue to live on even after pages have been closed, or sometimes for example on mobile phones, even after you close off the browser."}),"\n",(0,o.jsx)(r.li,{children:"Service Workers are processes that run in the background."}),"\n",(0,o.jsx)(r.li,{children:"Service Workers cannot interact with the DOM."}),"\n",(0,o.jsx)(r.li,{children:"Service Workers are not attached to a page."}),"\n",(0,o.jsx)(r.li,{children:"Service Workers are all about events, they react to events."}),"\n",(0,o.jsxs)(r.li,{children:["Service Workers only work on HTTPS. ",(0,o.jsx)(r.code,{children:"localhost"})," is an exception to that rule."]}),"\n"]}),"\n",(0,o.jsx)(r.hr,{}),"\n",(0,o.jsx)(r.h2,{id:"service-worker-events",children:"Service Worker Events"}),"\n",(0,o.jsxs)(r.h3,{id:"--fetch",children:["- ",(0,o.jsx)(r.code,{children:"fetch"})]}),"\n",(0,o.jsx)(r.p,{children:"It is triggered whenever the browser initiates a fetch (http) request."}),"\n",(0,o.jsx)(r.p,{children:"It is worth mentioning:"}),"\n",(0,o.jsxs)(r.ul,{children:["\n",(0,o.jsxs)(r.li,{children:["an ",(0,o.jsx)(r.code,{children:"img"})," tag sends a fetch request, which triggers the ",(0,o.jsx)(r.code,{children:"fetch"})," event."]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.code,{children:"XMLHttpRequest"})," does not trigger a ",(0,o.jsx)(r.code,{children:"fetch"})," event."]}),"\n",(0,o.jsxs)(r.li,{children:["The ",(0,o.jsx)(r.code,{children:"Axios"})," package is built upon ",(0,o.jsx)(r.code,{children:"XMLHttpRequest"}),", hence won't trigger the ",(0,o.jsx)(r.code,{children:"fetch"})," event."]}),"\n"]}),"\n",(0,o.jsx)(r.p,{children:"Since most requests go through the service worker (as soon as you start listening at least), you have ways of manipulating these requests, you can block them, you can return cached assets, etc."}),"\n",(0,o.jsxs)(r.h3,{id:"--push-notifications",children:["- ",(0,o.jsx)(r.code,{children:"push notifications"})]}),"\n",(0,o.jsx)(r.p,{children:"Every browser window has its own push web push server."}),"\n",(0,o.jsx)(r.p,{children:"You can send push notifications to these servers from your own server, and then these vendor service of the browser vendors will send this push notifications to your client application. And in the service worker you can listen for such a push event"}),"\n",(0,o.jsxs)(r.h3,{id:"--notification-interaction",children:["- ",(0,o.jsx)(r.code,{children:"notification interaction"})]}),"\n",(0,o.jsx)(r.p,{children:"If a user interacts with a notification, for example he taps on the notification, you can also listen to that interaction in the service worker, to do something with it, i.e. show an example page, load something from the cache, whatever you wanna do. So you can react to user interaction with notifications in the service worker."}),"\n",(0,o.jsxs)(r.h3,{id:"--background-synchronization",children:["- ",(0,o.jsx)(r.code,{children:"background synchronization"})]}),"\n",(0,o.jsx)(r.p,{children:"Imagine you don't have a really good internet connection, and you just happened to send a post. Now if the internet connection is bad, that will fail. Now some browsers allow you to use background synchronization, which means you store a certain action, if it can't be executed right now, and you execute it once internet connection has been reestablished."}),"\n",(0,o.jsx)(r.hr,{}),"\n",(0,o.jsx)(r.h2,{id:"service-worker-lifecycle",children:"Service Worker Lifecycle"}),"\n",(0,o.jsx)(r.p,{children:"..."})]})}function d(e={}){const{wrapper:r}={...(0,t.R)(),...e.components};return r?(0,o.jsx)(r,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}},7010:(e,r,n)=>{n.d(r,{R:()=>s,x:()=>c});var i=n(758);const o={},t=i.createContext(o);function s(e){const r=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function c(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),i.createElement(t.Provider,{value:r},e.children)}}}]);