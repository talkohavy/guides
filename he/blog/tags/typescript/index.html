<!doctype html>
<html lang="he" dir="rtl" class="blog-wrapper blog-tags-post-list-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.1">
<title data-rh="true">×¨×©×•××” ××—×ª ×¢× ×”×ª×’×™×ª &quot;typescript&quot; | âœ¨ Super Guides âœ¨</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://talkohavy.github.io/guides/he/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://talkohavy.github.io/guides/he/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://talkohavy.github.io/guides/he/blog/tags/typescript/"><meta data-rh="true" property="og:locale" content="he"><meta data-rh="true" property="og:locale:alternate" content="en_US"><meta data-rh="true" name="docusaurus_locale" content="he"><meta data-rh="true" name="docsearch:language" content="he"><meta data-rh="true" property="og:title" content="×¨×©×•××” ××—×ª ×¢× ×”×ª×’×™×ª &quot;typescript&quot; | âœ¨ Super Guides âœ¨"><meta data-rh="true" name="docusaurus_tag" content="blog_tags_posts"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_tags_posts"><link data-rh="true" rel="icon" href="/guides/he/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://talkohavy.github.io/guides/he/blog/tags/typescript/"><link data-rh="true" rel="alternate" href="https://talkohavy.github.io/guides/blog/tags/typescript/" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://talkohavy.github.io/guides/he/blog/tags/typescript/" hreflang="he"><link data-rh="true" rel="alternate" href="https://talkohavy.github.io/guides/blog/tags/typescript/" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/guides/he/blog/rss.xml" title="âœ¨ Super Guides âœ¨ RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/guides/he/blog/atom.xml" title="âœ¨ Super Guides âœ¨ Atom Feed"><link rel="stylesheet" href="/guides/he/assets/css/styles.286b91f5.css">
<script src="/guides/he/assets/js/runtime~main.fabc5609.js" defer="defer"></script>
<script src="/guides/he/assets/js/main.0cd14a55.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="×“×œ×’ ×œ×ª×•×›×Ÿ ×”×¨××©×™"><a class="skipToContent_RAJn" href="#__docusaurus_skipToContent_fallback">×“×œ×’ ×œ×ª×•×›×Ÿ ×”×¨××©×™</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/guides/he/"><div class="navbar__logo"><img src="/guides/he/img/logo.svg" alt="My Site Logo" class="themedComponent_REuZ themedComponent--light_XtwS"><img src="/guides/he/img/logo_dark.svg" alt="My Site Logo" class="themedComponent_REuZ themedComponent--dark_Hu0z"></div><b class="navbar__title text--truncate">Home</b></a><a class="navbar__item navbar__link" alt="Developer Guides" href="/guides/he/docs/programming/">Guides</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/guides/he/blog/">Blogs</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage__ntr"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>×¢×‘×¨×™×ª</a><ul class="dropdown__menu"><li><a href="/guides/blog/tags/typescript/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en-US">English</a></li><li><a href="/guides/he/blog/tags/typescript/" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="he">×¢×‘×¨×™×ª</a></li></ul></div><a href="https://github.com/talkohavy/guides/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="toggle_RgnN colorModeToggle_VOM9"><button class="clean-btn toggleButton_b5kj toggleButtonDisabled_UIgk" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_YKEb"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_UAZy"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_ZDQZ"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_w5Xt"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_YMZj thin-scrollbar" aria-label="××¢×‘×¨ ×œ×¨×©×•××•×ª ××—×¨×•× ×•×ª ×‘×‘×œ×•×’"><div class="sidebarItemTitle_WFxG margin-bottom--md">Recent posts</div><div role="group"><h3 class="yearGroupHeading_t7UJ">2024</h3><ul class="sidebarItemList_e4Ol clean-list"><li class="sidebarItem_q5iT"><a class="sidebarItemLink_clWs" href="/guides/he/blog/vite-library-mode/">Create a Component Library Fast ğŸš€ (using Vite&#x27;s library mode)</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_t7UJ">2021</h3><ul class="sidebarItemList_e4Ol clean-list"><li class="sidebarItem_q5iT"><a class="sidebarItemLink_clWs" href="/guides/he/blog/welcome/">Welcome</a></li><li class="sidebarItem_q5iT"><a class="sidebarItemLink_clWs" href="/guides/he/blog/mdx-blog-post/">MDX Blog Post</a></li><li class="sidebarItem_q5iT"><a class="sidebarItemLink_clWs" href="/guides/he/blog/greetings/">Greetings!</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_t7UJ">2019</h3><ul class="sidebarItemList_e4Ol clean-list"><li class="sidebarItem_q5iT"><a class="sidebarItemLink_clWs" href="/guides/he/blog/long-blog-post/">Long Blog Post</a></li></ul></div></nav></aside><main class="col col--7"><header class="margin-bottom--xl"><h1>×¨×©×•××” ××—×ª ×¢× ×”×ª×’×™×ª &quot;typescript&quot;</h1><a href="/guides/he/blog/tags/">×›×œ ×”×ª×’×™×•×ª</a></header><article class="margin-bottom--xl"><header><h2 class="title_ORqu"><a href="/guides/he/blog/vite-library-mode/">Create a Component Library Fast ğŸš€ (using Vite&#x27;s library mode)</a></h2><div class="container_vzq4 margin-vert--md"><time datetime="2024-08-10T00:00:00.000Z">10 ×‘××•×’×•×¡×˜ 2024</time> Â· <!-- -->17 ×“×§×•×ª ×§×¨×™××”</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_QL5V"><div class="avatar margin-bottom--sm"><a href="https://github.com/talkohavy" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_nbWo" src="https://avatars.githubusercontent.com/u/51020442" alt="Tal Kohavy"></a><div class="avatar__intro authorDetails_InzP"><div class="avatar__name"><a href="https://github.com/talkohavy" target="_blank" rel="noopener noreferrer"><span class="authorName_y_pI">Tal Kohavy</span></a></div><small class="authorTitle_PDCd" title="Full Stack Developer">Full Stack Developer</small><div class="authorSocials_KkDB"></div></div></div></div></div></header><div class="markdown"><p>If you are managing multiple React applications and want consistency across your user interfaces, sooner or later you&#x27;ll find that you need a component library.</p>
<p>When I first wanted to create a React component library, it took me a lot of time to find a setup that met all my requirements and wasn&#x27;t too complicated.</p>
<p>A guide like this would&#x27;ve spared me a great amount of energy wrestling with this stuff myself. I hope it can help you as much as it would have helped me.</p>
<p>This post covers setting up and publishing a React component library, including configuring your build process and publishing your package to npm so you and/or others can use it.</p>
<p><strong>I&#x27;ve done my best to keep all configurations simple and concise, using default settings whenever possible.</strong></p>
<p>When you are done, you can install your library like any other npm package:</p>
<div class="language-bash codeBlockContainer_Gi3m theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QB9L"><pre tabindex="0" class="prism-code language-bash codeBlock_FPJv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZxGG"><span class="token-line" style="color:#393A34"><span class="token plain">npm install @username/my-component-library</span><br></span></code></pre><div class="buttonGroup_KXtX"><button type="button" aria-label="×”×¢×ª×§ ×§×•×“ ×œ×œ×•×— ×”×¢×¨×™×›×”" title="×”×¢×ª×§" class="clean-btn"><span class="copyButtonIcons_VUb8" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_BOMJ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_xGLn"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>And use it like:</p>
<div class="language-jsx codeBlockContainer_Gi3m theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QB9L"><pre tabindex="0" class="prism-code language-jsx codeBlock_FPJv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZxGG"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">Button</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@username/my-component-library&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">MyComponent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">Click me!</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">Button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_KXtX"><button type="button" aria-label="×”×¢×ª×§ ×§×•×“ ×œ×œ×•×— ×”×¢×¨×™×›×”" title="×”×¢×ª×§" class="clean-btn"><span class="copyButtonIcons_VUb8" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_BOMJ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_xGLn"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_gWk7" id="before-we-start">Before we start<a href="#before-we-start" class="hash-link" aria-label="×§×™×©×•×¨ ×™×©×™×¨ ××œ Before we start" title="×§×™×©×•×¨ ×™×©×™×¨ ××œ Before we start">â€‹</a></h2>
<p>Before we dig into the implementation details, I would like to elaborate on some technical details regarding the setup of the library.</p>
<h3 class="anchor anchorWithStickyNavbar_gWk7" id="-fully-tree-shakeable">ğŸŒ³ Fully tree shakeable<a href="#-fully-tree-shakeable" class="hash-link" aria-label="×§×™×©×•×¨ ×™×©×™×¨ ××œ ğŸŒ³ Fully tree shakeable" title="×§×™×©×•×¨ ×™×©×™×¨ ××œ ğŸŒ³ Fully tree shakeable">â€‹</a></h3>
<p>For me it was particularly important that only necessary code ends up in the final application. When you import a component, it only includes the necessary JS and CSS styles. Pretty cool, right?</p>
<h3 class="anchor anchorWithStickyNavbar_gWk7" id="-compiled-css-modules">ğŸ¦‘ Compiled CSS modules<a href="#-compiled-css-modules" class="hash-link" aria-label="×§×™×©×•×¨ ×™×©×™×¨ ××œ ğŸ¦‘ Compiled CSS modules" title="×§×™×©×•×¨ ×™×©×™×¨ ××œ ğŸ¦‘ Compiled CSS modules">â€‹</a></h3>
<p>The components are styled with <a href="https://github.com/css-modules/css-modules" target="_blank" rel="noopener noreferrer">CSS modules</a>. When building the library, these styles will get transformed to normal CSS style sheets. This means that the consuming application will not even be required to support CSS modules.</p>
<p>As a bonus compiling the CSS modules avoids a compatibility issue and the package can be consumed in both, environments that support named imports for CSS modules, and environments that don&#x27;t.</p>
<p>(In the future I want to extend this tutorial to use <a href="https://vanilla-extract.style" target="_blank" rel="noopener noreferrer">vanilla-extract</a> instead.)</p>
<h3 class="anchor anchorWithStickyNavbar_gWk7" id="-typescript">ğŸ˜ TypeScript<a href="#-typescript" class="hash-link" aria-label="×§×™×©×•×¨ ×™×©×™×¨ ××œ ğŸ˜ TypeScript" title="×§×™×©×•×¨ ×™×©×™×¨ ××œ ğŸ˜ TypeScript">â€‹</a></h3>
<p>While the library is written in TypeScript, it can be consumed in any &quot;normal&quot; JavaScript project as well. If you never used TypeScript before, give it a try. It not only forces you to write cleaner code, but also helps your AI coding assistant make better suggestions ğŸ˜‰</p>
<p>OK enough reading, now let&#x27;s have some fun!</p>
<h2 class="anchor anchorWithStickyNavbar_gWk7" id="1-setup-a-new-vite-project">1. Setup a new Vite project<a href="#1-setup-a-new-vite-project" class="hash-link" aria-label="×§×™×©×•×¨ ×™×©×™×¨ ××œ 1. Setup a new Vite project" title="×§×™×©×•×¨ ×™×©×™×¨ ××œ 1. Setup a new Vite project">â€‹</a></h2>
<p>If you have never worked with <a href="https://vitejs.dev" target="_blank" rel="noopener noreferrer">Vite</a>, think of it as a replacement for <a href="https://medium.com/@dawid.niegrebecki/create-react-app-is-dead-what-to-use-instead-fcdd46b70295" target="_blank" rel="noopener noreferrer">Create React App</a>. Just a few commands and you are ready to go.</p>
<div class="language-bash codeBlockContainer_Gi3m theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QB9L"><pre tabindex="0" class="prism-code language-bash codeBlock_FPJv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZxGG"><span class="token-line" style="color:#393A34"><span class="token plain">npm create vite@latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">? Project name: â€º my-component-library</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">? Select a framework: â€º React</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">? Select a variant: â€º TypeScript</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd my-component-library</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm i</span><br></span></code></pre><div class="buttonGroup_KXtX"><button type="button" aria-label="×”×¢×ª×§ ×§×•×“ ×œ×œ×•×— ×”×¢×¨×™×›×”" title="×”×¢×ª×§" class="clean-btn"><span class="copyButtonIcons_VUb8" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_BOMJ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_xGLn"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>That&#x27;s it, your new Vite/React project is ready to go.</p>
<p>Here are 4 things I recommend you to do right after installing Vite:</p>
<ol>
<li>Early first commit
Committing regularly is a very good habit. And there is one point in time where it is especially helpful, right after you created a new project and BEFORE you type the first character in your project.</li>
<li>Create a .nvmrc file
Working with different versions of Node on the same project might cause unnecessary trouble. So the second thing I do after setting up a node project is to create a .nvmrc file in the project root.</li>
</ol>
<div class="language-bash codeBlockContainer_Gi3m theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QB9L"><pre tabindex="0" class="prism-code language-bash codeBlock_FPJv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZxGG"><span class="token-line" style="color:#393A34"><span class="token plain">node --version &gt; .nvmrc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git add .nvmrc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git commit -m &quot;created .nvmrc file&quot;</span><br></span></code></pre><div class="buttonGroup_KXtX"><button type="button" aria-label="×”×¢×ª×§ ×§×•×“ ×œ×œ×•×— ×”×¢×¨×™×›×”" title="×”×¢×ª×§" class="clean-btn"><span class="copyButtonIcons_VUb8" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_BOMJ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_xGLn"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="3">
<li>
<p>Install node&#x27;s types
If working with TypeScript I also install the types package for node. Sooner or later you will need this.</p>
<div class="language-bash codeBlockContainer_Gi3m theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QB9L"><pre tabindex="0" class="prism-code language-bash codeBlock_FPJv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZxGG"><span class="token-line" style="color:#393A34"><span class="token plain">npm install @types/node -D</span><br></span></code></pre><div class="buttonGroup_KXtX"><button type="button" aria-label="×”×¢×ª×§ ×§×•×“ ×œ×œ×•×— ×”×¢×¨×™×›×”" title="×”×¢×ª×§" class="clean-btn"><span class="copyButtonIcons_VUb8" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_BOMJ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_xGLn"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Add a jsconfig.json
If you are going to use an editor that uses LSP (VSCode, Sublime Text, etc.) make sure you have a <code>jsconfig.json</code> (or <code>tsconfig.json</code>) file for your project. Not having this file might bring you into trouble.</p>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_gWk7" id="2-basic-build-setup">2. Basic build setup<a href="#2-basic-build-setup" class="hash-link" aria-label="×§×™×©×•×¨ ×™×©×™×¨ ××œ 2. Basic build setup" title="×§×™×©×•×¨ ×™×©×™×¨ ××œ 2. Basic build setup">â€‹</a></h2>
<p>You can now run <code>npm run dev</code> and browse to the url provided by Vite. While working on your library, this is a place where you can easily import your library and actually see your components. Think of all code inside the <code>src</code> folder as your demo page.</p>
<p>The actual library code will reside in another folder. Let&#x27;s create this folder and name it <code>lib</code>. You could also name it differently, but <code>lib</code> is a solid choice.</p>
<p>The main entry point of your library will be a file named <code>main.ts</code> inside of <code>lib</code>. When installing the library you can import everything that is exported from this file.</p>
<div class="language-diff codeBlockContainer_Gi3m theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QB9L"><pre tabindex="0" class="prism-code language-diff codeBlock_FPJv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZxGG"><span class="token-line" style="color:#393A34"><span class="token plain"> ğŸ“‚ my-component-library</span><br></span><span class="token-line custom-code-block-diff-add" style="color:#393A34"><span class="token plain">â”£ ğŸ“‚ lib</span><br></span><span class="token-line custom-code-block-diff-add" style="color:#393A34"><span class="token plain">â”ƒ â”— ğŸ“œ main.ts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  â”£ ğŸ“‚ public</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  â”£ ğŸ“‚ src</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  â€¦</span><br></span></code></pre><div class="buttonGroup_KXtX"><button type="button" aria-label="×”×¢×ª×§ ×§×•×“ ×œ×œ×•×— ×”×¢×¨×™×›×”" title="×”×¢×ª×§" class="clean-btn"><span class="copyButtonIcons_VUb8" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_BOMJ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_xGLn"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong><font size="6">Vite Library Mode</font></strong></p>
<p>At this time, if you build the project with <code>npm run build</code> Vite will transpile the code inside <code>src</code> to the <code>dist</code> folder. This is default Vite behavior.</p>
<p>For now you will use the demo page for development purposes only. So there is no need to transpile this part of the project yet. Instead you want to transpile and ship the code inside of <code>lib</code>.</p>
<p>This is where Vite&#x27;s <em>Library Mode</em> comes into play. It was designed specifically for building/transpiling libraries. To activate this mode, simply specify your library entry point in <code>vite.config.ts</code>.</p>
<p>Like so:</p>
<div class="language-jsx codeBlockContainer_Gi3m theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QB9L"><pre tabindex="0" class="prism-code language-jsx codeBlock_FPJv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZxGG codeBlockLinesWithNumbering_NE6T"><span class="token-line codeLine_kYmc" style="color:#393A34"><span class="codeLineNumber_WAhT"></span><span class="codeLineContent_hB5O"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> defineConfig </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;vite&#x27;</span><span class="token plain"></span></span><br></span><span class="token-line custom-code-block-diff-add codeLine_kYmc" style="color:#393A34"><span class="codeLineNumber_WAhT"></span><span class="codeLineContent_hB5O"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> resolve </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;path&#x27;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_kYmc" style="color:#393A34"><span class="codeLineNumber_WAhT"></span><span class="codeLineContent_hB5O"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports">react</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@vitejs/plugin-react&#x27;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_kYmc" style="color:#393A34"><span class="codeLineNumber_WAhT"></span><span class="codeLineContent_hB5O"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_kYmc" style="color:#393A34"><span class="codeLineNumber_WAhT"></span><span class="codeLineContent_hB5O"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">defineConfig</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_kYmc" style="color:#393A34"><span class="codeLineNumber_WAhT"></span><span class="codeLineContent_hB5O"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">plugins</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token function" style="color:#d73a49">react</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line custom-code-block-diff-add codeLine_kYmc" style="color:#393A34"><span class="codeLineNumber_WAhT"></span><span class="codeLineContent_hB5O"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">build</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line custom-code-block-diff-add codeLine_kYmc" style="color:#393A34"><span class="codeLineNumber_WAhT"></span><span class="codeLineContent_hB5O"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">lib</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line custom-code-block-diff-add codeLine_kYmc" style="color:#393A34"><span class="codeLineNumber_WAhT"></span><span class="codeLineContent_hB5O"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">entry</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">resolve</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">__dirname</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;lib/main.ts&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line custom-code-block-diff-add codeLine_kYmc" style="color:#393A34"><span class="codeLineNumber_WAhT"></span><span class="codeLineContent_hB5O"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">formats</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;es&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><br></span><span class="token-line custom-code-block-diff-add codeLine_kYmc" style="color:#393A34"><span class="codeLineNumber_WAhT"></span><span class="codeLineContent_hB5O"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line custom-code-block-diff-add codeLine_kYmc" style="color:#393A34"><span class="codeLineNumber_WAhT"></span><span class="codeLineContent_hB5O"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_kYmc" style="color:#393A34"><span class="codeLineNumber_WAhT"></span><span class="codeLineContent_hB5O"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre><div class="buttonGroup_KXtX"><button type="button" aria-label="×”×¢×ª×§ ×§×•×“ ×œ×œ×•×— ×”×¢×¨×™×›×”" title="×”×¢×ª×§" class="clean-btn"><span class="copyButtonIcons_VUb8" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_BOMJ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_xGLn"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-info admonition_p331 alert alert--info"><div class="admonitionHeading_JzKD"><span class="admonitionIcon_hjNE"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_gyVC"><p>ğŸ’¡ The default formats are <code>&#x27;es&#x27;</code> and <code>&#x27;umd&#x27;</code>. For your component library &#x27;es&#x27; is all you need. This also removes the necessity for adding the <code>name</code> property.</p><p>ğŸ’¡ If your TypeScript linter complains about <code>&#x27;path&#x27;</code> and <code>__dirname</code> just install the types for node: <code>npm i @types/node -D</code></p></div></div>
<ul>
<li>ğŸ“˜ Library mode <a href="https://vitejs.dev/guide/build.html#library-mode" target="_blank" rel="noopener noreferrer">docs</a></li>
<li>ğŸ“˜ <code>lib</code> mode <a href="https://vitejs.dev/config/build-options.html#build-lib" target="_blank" rel="noopener noreferrer">docs</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_gWk7" id="typescript-and-library-mode">TypeScript and library mode<a href="#typescript-and-library-mode" class="hash-link" aria-label="×§×™×©×•×¨ ×™×©×™×¨ ××œ TypeScript and library mode" title="×§×™×©×•×¨ ×™×©×™×¨ ××œ TypeScript and library mode">â€‹</a></h3>
<p>The <code>tsconfig.json</code> created by Vite only includes the folder <code>src</code>. To enable TypeScript for your newly created <code>lib</code> folder as well you need to add it to the TypeScript configuration file like this:</p>
<div class="language-diff codeBlockContainer_Gi3m theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QB9L"><pre tabindex="0" class="prism-code language-diff codeBlock_FPJv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZxGG"><span class="token-line custom-code-block-diff-add" style="color:#393A34"><span class="token plain">&quot;include&quot;: [&quot;src&quot;],</span><br></span><span class="token-line custom-code-block-diff-remove" style="color:#393A34"><span class="token plain">&quot;include&quot;: [&quot;src&quot;, &quot;lib&quot;],</span><br></span></code></pre><div class="buttonGroup_KXtX"><button type="button" aria-label="×”×¢×ª×§ ×§×•×“ ×œ×œ×•×— ×”×¢×¨×™×›×”" title="×”×¢×ª×§" class="clean-btn"><span class="copyButtonIcons_VUb8" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_BOMJ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_xGLn"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Although TypeScript needs to be enabled for both the <code>src</code> and <code>lib</code> folders, it is better to not include <code>src</code> when building the library.</p>
<p>To ensure only the <code>lib</code> directory is included during the build process you can create a separate TypeScript configuration file specifically for building.</p>
<div class="theme-admonition theme-admonition-info admonition_p331 alert alert--info"><div class="admonitionHeading_JzKD"><span class="admonitionIcon_hjNE"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_gyVC"><p>ğŸ’¡ Implementing this separate configuration helps avoid TypeScript errors when you import components directly from the <code>dist</code> folder on the demo page and those components haven&#x27;t been built yet.</p></div></div>
<div class="language-diff codeBlockContainer_Gi3m theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QB9L"><pre tabindex="0" class="prism-code language-diff codeBlock_FPJv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZxGG"><span class="token-line" style="color:#393A34"><span class="token plain"> ğŸ“‚my-component-library</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  â”£ ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  â”£ ğŸ“œtsconfig.json</span><br></span><span class="token-line custom-code-block-diff-add" style="color:#393A34"><span class="token plain">â”£ ğŸ“œtsconfig-build.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ...</span><br></span></code></pre><div class="buttonGroup_KXtX"><button type="button" aria-label="×”×¢×ª×§ ×§×•×“ ×œ×œ×•×— ×”×¢×¨×™×›×”" title="×”×¢×ª×§" class="clean-btn"><span class="copyButtonIcons_VUb8" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_BOMJ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_xGLn"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The only difference is that the build config includes only the <code>lib</code> directory, whereas the default configuration includes both <code>lib</code> and <code>src</code></p>
<p><code>ğŸ“œtsconfig-build.json</code></p>
<div class="language-json codeBlockContainer_Gi3m theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QB9L"><pre tabindex="0" class="prism-code language-json codeBlock_FPJv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZxGG"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;extends&quot;: &quot;./tsconfig.json&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;include&quot;: [&quot;lib&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_KXtX"><button type="button" aria-label="×”×¢×ª×§ ×§×•×“ ×œ×œ×•×— ×”×¢×¨×™×›×”" title="×”×¢×ª×§" class="clean-btn"><span class="copyButtonIcons_VUb8" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_BOMJ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_xGLn"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>To use <code>tsconfig-build.json</code> for building you need to pass the configuration file to <code>tsc</code> in the build script in your package.json:</p>
<div class="language-json codeBlockContainer_Gi3m theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QB9L"><pre tabindex="0" class="prism-code language-json codeBlock_FPJv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZxGG"><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;scripts&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     ...</span><br></span><span class="token-line custom-code-block-diff-remove" style="color:#393A34"><span class="token plain">  &quot;build&quot;: &quot;tsc &amp;&amp; vite build&quot;,</span><br></span><span class="token-line custom-code-block-diff-add" style="color:#393A34"><span class="token plain">  &quot;build&quot;: &quot;tsc -p ./tsconfig-build.json &amp;&amp; vite build&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span></code></pre><div class="buttonGroup_KXtX"><button type="button" aria-label="×”×¢×ª×§ ×§×•×“ ×œ×œ×•×— ×”×¢×¨×™×›×”" title="×”×¢×ª×§" class="clean-btn"><span class="copyButtonIcons_VUb8" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_BOMJ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_xGLn"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Finally you will also need to copy the file <code>vite-env.d.ts</code> from <code>src</code> to <code>lib</code>. Without this file Typescript will miss some types definitions provided by Vite when building (because we don&#x27;t include <code>src</code> anymore).</p>
<p>You can now execute <code>npm run build</code> once more and this is what you will see in your dist folder:</p>
<div class="language-bash codeBlockContainer_Gi3m theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QB9L"><pre tabindex="0" class="prism-code language-bash codeBlock_FPJv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZxGG"><span class="token-line" style="color:#393A34"><span class="token plain"> ğŸ“‚dist</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  â”£ ğŸ“œmy-component-library.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  â”— ğŸ“œvite.svg</span><br></span></code></pre><div class="buttonGroup_KXtX"><button type="button" aria-label="×”×¢×ª×§ ×§×•×“ ×œ×œ×•×— ×”×¢×¨×™×›×”" title="×”×¢×ª×§" class="clean-btn"><span class="copyButtonIcons_VUb8" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_BOMJ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_xGLn"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-info admonition_p331 alert alert--info"><div class="admonitionHeading_JzKD"><span class="admonitionIcon_hjNE"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_gyVC"><p>ğŸ’¡ The name of the output file is identical with the <code>name</code> property in your package.json per default. This can be changed in the Vite config (<code>build.lib.fileName</code>) but we will do something else about this later.</p></div></div>
<p>The file <code>vite.svg</code> is in your <code>dist</code> folder because Vite copies all files from the <code>public</code> directory to the output folder. Let&#x27;s disable this behavior:</p>
<div class="language-tsx codeBlockContainer_Gi3m theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QB9L"><pre tabindex="0" class="prism-code language-tsx codeBlock_FPJv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZxGG codeBlockLinesWithNumbering_NE6T"><span class="token-line codeLine_kYmc" style="color:#393A34"><span class="codeLineNumber_WAhT"></span><span class="codeLineContent_hB5O"><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">default</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">defineConfig</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_kYmc" style="color:#393A34"><span class="codeLineNumber_WAhT"></span><span class="codeLineContent_hB5O"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_kYmc" style="color:#393A34"><span class="codeLineNumber_WAhT"></span><span class="codeLineContent_hB5O"><span class="token plain">  build</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line custom-code-block-diff-add codeLine_kYmc" style="color:#393A34"><span class="codeLineNumber_WAhT"></span><span class="codeLineContent_hB5O"><span class="token plain">    copyPublicDir</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_kYmc" style="color:#393A34"><span class="codeLineNumber_WAhT"></span><span class="codeLineContent_hB5O"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_kYmc" style="color:#393A34"><span class="codeLineNumber_WAhT"></span><span class="codeLineContent_hB5O"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></span><br></span></code></pre><div class="buttonGroup_KXtX"><button type="button" aria-label="×”×¢×ª×§ ×§×•×“ ×œ×œ×•×— ×”×¢×¨×™×›×”" title="×”×¢×ª×§" class="clean-btn"><span class="copyButtonIcons_VUb8" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_BOMJ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_xGLn"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-info admonition_p331 alert alert--info"><div class="admonitionHeading_JzKD"><span class="admonitionIcon_hjNE"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_gyVC"><p>You can read a more detailed explanation here: <a href="https://stackoverflow.com/questions/75276160/why-is-the-file-vite-svg-in-the-dist-folder-when-building-with-vite-library" target="_blank" rel="noopener noreferrer">Why is the file vite.svg in the dist folder?</a></p></div></div>
<h3 class="anchor anchorWithStickyNavbar_gWk7" id="building-the-types">Building the types<a href="#building-the-types" class="hash-link" aria-label="×§×™×©×•×¨ ×™×©×™×¨ ××œ Building the types" title="×§×™×©×•×¨ ×™×©×™×¨ ××œ Building the types">â€‹</a></h3>
<p>As this is a Typescript library you also want to ship type definitions with your package. Fortunately there is a Vite plugin that does exactly this: <a href="https://github.com/qmhc/vite-plugin-dts" target="_blank" rel="noopener noreferrer">vite-plugin-dts</a></p>
<div class="language-bash codeBlockContainer_Gi3m theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QB9L"><pre tabindex="0" class="prism-code language-bash codeBlock_FPJv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZxGG"><span class="token-line" style="color:#393A34"><span class="token plain">npm i vite-plugin-dts -D</span><br></span></code></pre><div class="buttonGroup_KXtX"><button type="button" aria-label="×”×¢×ª×§ ×§×•×“ ×œ×œ×•×— ×”×¢×¨×™×›×”" title="×”×¢×ª×§" class="clean-btn"><span class="copyButtonIcons_VUb8" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_BOMJ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_xGLn"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Per default <code>dts</code> will generate types for both <code>src</code> and <code>lib</code> because both folders are included in the project&#x27;s <code>.tsconfig</code>. This is why we need to pass one configuration parameter: <code>include: [&#x27;lib&#x27;]</code>.</p>
<div class="language-ts codeBlockContainer_Gi3m theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QB9L"><pre tabindex="0" class="prism-code language-ts codeBlock_FPJv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZxGG"><span class="token-line custom-code-block-diff-add" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> dts </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;vite-plugin-dts&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">default</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">defineConfig</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  plugins</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">react</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line custom-code-block-diff-add" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">dts</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> include</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;lib&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_KXtX"><button type="button" aria-label="×”×¢×ª×§ ×§×•×“ ×œ×œ×•×— ×”×¢×¨×™×›×”" title="×”×¢×ª×§" class="clean-btn"><span class="copyButtonIcons_VUb8" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_BOMJ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_xGLn"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-info admonition_p331 alert alert--info"><div class="admonitionHeading_JzKD"><span class="admonitionIcon_hjNE"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_gyVC"><p>ğŸ’¡ It would also work to <code>exclude: [&#x27;src&#x27;]</code> or use a different Typescript config file for building.</p></div></div>
<p>To test things out, let&#x27;s add some actual code to your library. Open <code>lib/main.ts</code> and export something, for example:</p>
<div class="language-ts codeBlockContainer_Gi3m theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QB9L"><pre tabindex="0" class="prism-code language-ts codeBlock_FPJv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZxGG"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">helloAnything</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">thing</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">Hello </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">thing</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c">!</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_KXtX"><button type="button" aria-label="×”×¢×ª×§ ×§×•×“ ×œ×œ×•×— ×”×¢×¨×™×›×”" title="×”×¢×ª×§" class="clean-btn"><span class="copyButtonIcons_VUb8" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_BOMJ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_xGLn"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Then run <code>npm run build</code> to transpile your code. If the content of your <code>dist</code> folder looks like below you should be all set ğŸ¥³:</p>
<div class="language-bash codeBlockContainer_Gi3m theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QB9L"><pre tabindex="0" class="prism-code language-bash codeBlock_FPJv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZxGG"><span class="token-line" style="color:#393A34"><span class="token plain"> ğŸ“‚dist</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  â”£ ğŸ“œmain.d.ts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  â”— ğŸ“œmy-component-library.js</span><br></span></code></pre><div class="buttonGroup_KXtX"><button type="button" aria-label="×”×¢×ª×§ ×§×•×“ ×œ×œ×•×— ×”×¢×¨×™×›×”" title="×”×¢×ª×§" class="clean-btn"><span class="copyButtonIcons_VUb8" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_BOMJ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_xGLn"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-info admonition_p331 alert alert--info"><div class="admonitionHeading_JzKD"><span class="admonitionIcon_hjNE"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_gyVC"><p>ğŸ’¡ Don&#x27;t be shy, open the files and see what the program did for you!</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_gWk7" id="3-what-is-a-react-component-library-without-components">3. What is a React component library without components?<a href="#3-what-is-a-react-component-library-without-components" class="hash-link" aria-label="×§×™×©×•×¨ ×™×©×™×¨ ××œ 3. What is a React component library without components?" title="×§×™×©×•×¨ ×™×©×™×¨ ××œ 3. What is a React component library without components?">â€‹</a></h2>
<p>We didn&#x27;t do all of this just to export a <code>helloAnything</code> function. So let&#x27;s add some meat ğŸ– (or tofu ğŸŒ± or both) to our library.</p>
<p>Let&#x27;s go with two very common basic components: A button, and a label.</p>
<div class="language-bash codeBlockContainer_Gi3m theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QB9L"><pre tabindex="0" class="prism-code language-bash codeBlock_FPJv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZxGG"><span class="token-line" style="color:#393A34"><span class="token plain"> ğŸ“‚my-component-library</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  â”£ ğŸ“‚lib</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> +â”ƒ â”£ ğŸ“‚components</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> +â”ƒ â”ƒ â”£ ğŸ“‚Button</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> +â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚Button.tsx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> +â”ƒ â”ƒ â”ƒ â”— ğŸ“œindex.ts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> +â”ƒ â”ƒ â”— ğŸ“‚Label</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> +â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚Label.tsx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> +â”ƒ â”ƒ   â”— ğŸ“œindex.ts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  â”ƒ â”— ğŸ“œmain.ts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  â€¦</span><br></span></code></pre><div class="buttonGroup_KXtX"><button type="button" aria-label="×”×¢×ª×§ ×§×•×“ ×œ×œ×•×— ×”×¢×¨×™×›×”" title="×”×¢×ª×§" class="clean-btn"><span class="copyButtonIcons_VUb8" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_BOMJ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_xGLn"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>And a very basic implementation for these components:</p>
<div class="language-tsx codeBlockContainer_Gi3m theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QB9L"><pre tabindex="0" class="prism-code language-tsx codeBlock_FPJv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZxGG"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">default</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Button</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">props</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">React</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access maybe-class-name">ButtonHTMLAttributes</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">HTMLButtonElement</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">button</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&#x27;</span><span class="token tag attr-value" style="color:#e3116c">button</span><span class="token tag attr-value punctuation" style="color:#393A34">&#x27;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag spread punctuation" style="color:#393A34">{</span><span class="token tag spread operator" style="color:#393A34">...</span><span class="token tag spread" style="color:#00009f">props</span><span class="token tag spread punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_KXtX"><button type="button" aria-label="×”×¢×ª×§ ×§×•×“ ×œ×œ×•×— ×”×¢×¨×™×›×”" title="×”×¢×ª×§" class="clean-btn"><span class="copyButtonIcons_VUb8" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_BOMJ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_xGLn"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-tsx codeBlockContainer_Gi3m theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QB9L"><pre tabindex="0" class="prism-code language-tsx codeBlock_FPJv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZxGG"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Label</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">props</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">React</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access maybe-class-name">LabelHTMLAttributes</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">HTMLLabelElement</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">label</span><span class="token tag" style="color:#00009f"> </span><span class="token tag spread punctuation" style="color:#393A34">{</span><span class="token tag spread operator" style="color:#393A34">...</span><span class="token tag spread" style="color:#00009f">props</span><span class="token tag spread punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_KXtX"><button type="button" aria-label="×”×¢×ª×§ ×§×•×“ ×œ×œ×•×— ×”×¢×¨×™×›×”" title="×”×¢×ª×§" class="clean-btn"><span class="copyButtonIcons_VUb8" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_BOMJ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_xGLn"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Finally export the components from the library&#x27;s main file:</p>
<div class="language-tsx codeBlockContainer_Gi3m theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QB9L"><pre tabindex="0" class="prism-code language-tsx codeBlock_FPJv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZxGG"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token exports punctuation" style="color:#393A34">{</span><span class="token exports"> </span><span class="token exports maybe-class-name">Button</span><span class="token exports"> </span><span class="token exports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;./components/Button&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token exports punctuation" style="color:#393A34">{</span><span class="token exports"> </span><span class="token exports maybe-class-name">Label</span><span class="token exports"> </span><span class="token exports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;./components/Label&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_KXtX"><button type="button" aria-label="×”×¢×ª×§ ×§×•×“ ×œ×œ×•×— ×”×¢×¨×™×›×”" title="×”×¢×ª×§" class="clean-btn"><span class="copyButtonIcons_VUb8" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_BOMJ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_xGLn"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If you <code>npm run build</code> again you will notice that the transpiled file <code>my-component-library.js</code> now has <strong>78kb</strong> ğŸ˜® (a bit less because I removed &quot;Input&quot; from my example)</p>
<p>The implementation of the components above contains React JSX code and therefore <code>react</code> (and <code>react/jsx-runtime</code>) gets bundled as well.</p>
<p>As this library will be used in projects that have React installed anyways, you can externalize this dependencies to remove the code from bundle:</p>
<div class="language-tsx codeBlockContainer_Gi3m theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QB9L"><pre tabindex="0" class="prism-code language-tsx codeBlock_FPJv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZxGG"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">default</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">defineConfig</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  build</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line custom-code-block-diff-add" style="color:#393A34"><span class="token plain">   rollupOptions</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line custom-code-block-diff-add" style="color:#393A34"><span class="token plain">       external</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;react&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;react/jsx-runtime&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line custom-code-block-diff-add" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_KXtX"><button type="button" aria-label="×”×¢×ª×§ ×§×•×“ ×œ×œ×•×— ×”×¢×¨×™×›×”" title="×”×¢×ª×§" class="clean-btn"><span class="copyButtonIcons_VUb8" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_BOMJ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_xGLn"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_gWk7" id="4-add-some-styles">4. Add some styles<a href="#4-add-some-styles" class="hash-link" aria-label="×§×™×©×•×¨ ×™×©×™×¨ ××œ 4. Add some styles" title="×§×™×©×•×¨ ×™×©×™×¨ ××œ 4. Add some styles">â€‹</a></h2>
<p>As mentioned in the beginning, this library will use CSS modules to style the components.</p>
<p>CSS modules are supported by Vite per default. All you have to do is to create CSS files that end with <code>.module.css</code>.</p>
<div class="language-bash codeBlockContainer_Gi3m theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QB9L"><pre tabindex="0" class="prism-code language-bash codeBlock_FPJv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZxGG"><span class="token-line" style="color:#393A34"><span class="token plain"> ğŸ“‚my-component-library</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  â”£ ğŸ“‚lib</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  â”ƒ â”£ ğŸ“‚components</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  â”ƒ â”ƒ â”£ ğŸ“‚Button</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚Button.tsx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  â”ƒ â”ƒ â”ƒ â”£ ğŸ“œindex.ts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+ â”ƒ â”ƒ â”ƒ â”— ğŸ“‚Button.module.css</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  â”ƒ â”ƒ â”— ğŸ“‚Label</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  â”ƒ â”ƒ   â”£ ğŸ“‚Label.tsx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  â”ƒ â”ƒ   â”£ ğŸ“œindex.ts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+ â”ƒ â”ƒ   â”— ğŸ“‚Label.module.css</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  â”ƒ â”— ğŸ“œmain.ts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  â€¦</span><br></span></code></pre><div class="buttonGroup_KXtX"><button type="button" aria-label="×”×¢×ª×§ ×§×•×“ ×œ×œ×•×— ×”×¢×¨×™×›×”" title="×”×¢×ª×§" class="clean-btn"><span class="copyButtonIcons_VUb8" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_BOMJ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_xGLn"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>And add some basic CSS classes:</p>
<div class="language-css codeBlockContainer_Gi3m theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QB9L"><pre tabindex="0" class="prism-code language-css codeBlock_FPJv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZxGG"><span class="token-line" style="color:#393A34"><span class="token selector class" style="color:#00009f">.button</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">padding</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token unit">rem</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_KXtX"><button type="button" aria-label="×”×¢×ª×§ ×§×•×“ ×œ×œ×•×— ×”×¢×¨×™×›×”" title="×”×¢×ª×§" class="clean-btn"><span class="copyButtonIcons_VUb8" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_BOMJ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_xGLn"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-css codeBlockContainer_Gi3m theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QB9L"><pre tabindex="0" class="prism-code language-css codeBlock_FPJv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZxGG"><span class="token-line" style="color:#393A34"><span class="token selector class" style="color:#00009f">.label</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">font-weight</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> bold</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_KXtX"><button type="button" aria-label="×”×¢×ª×§ ×§×•×“ ×œ×œ×•×— ×”×¢×¨×™×›×”" title="×”×¢×ª×§" class="clean-btn"><span class="copyButtonIcons_VUb8" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_BOMJ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_xGLn"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>And import/use them inside your components eg:</p>
<div class="language-tsx codeBlockContainer_Gi3m theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QB9L"><pre tabindex="0" class="prism-code language-tsx codeBlock_FPJv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZxGG"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports">styles</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;./styles.module.css&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Button</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">props</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">React</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access maybe-class-name">ButtonHTMLAttributes</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">HTMLButtonElement</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> className</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain">restProps </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> props</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">button</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&#x27;</span><span class="token tag attr-value" style="color:#e3116c">button</span><span class="token tag attr-value punctuation" style="color:#393A34">&#x27;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">className</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript template-string template-punctuation string" style="color:#e3116c">`</span><span class="token tag script language-javascript template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token tag script language-javascript template-string interpolation" style="color:#00009f">className</span><span class="token tag script language-javascript template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token tag script language-javascript template-string string" style="color:#e3116c"> </span><span class="token tag script language-javascript template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token tag script language-javascript template-string interpolation" style="color:#00009f">styles</span><span class="token tag script language-javascript template-string interpolation punctuation" style="color:#393A34">.</span><span class="token tag script language-javascript template-string interpolation" style="color:#00009f">button</span><span class="token tag script language-javascript template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token tag script language-javascript template-string template-punctuation string" style="color:#e3116c">`</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#00009f"> </span><span class="token tag spread punctuation" style="color:#393A34">{</span><span class="token tag spread operator" style="color:#393A34">...</span><span class="token tag spread" style="color:#00009f">restProps</span><span class="token tag spread punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_KXtX"><button type="button" aria-label="×”×¢×ª×§ ×§×•×“ ×œ×œ×•×— ×”×¢×¨×™×›×”" title="×”×¢×ª×§" class="clean-btn"><span class="copyButtonIcons_VUb8" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_BOMJ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_xGLn"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_gWk7" id="ï¸-ship-your-style">â›´ï¸ Ship your style<a href="#ï¸-ship-your-style" class="hash-link" aria-label="×§×™×©×•×¨ ×™×©×™×¨ ××œ â›´ï¸ Ship your style" title="×§×™×©×•×¨ ×™×©×™×¨ ××œ â›´ï¸ Ship your style">â€‹</a></h3>
<p>After transpiling your library you will notice that there is a new file in your distribution folder:</p>
<div class="language-bash codeBlockContainer_Gi3m theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QB9L"><pre tabindex="0" class="prism-code language-bash codeBlock_FPJv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZxGG"><span class="token-line" style="color:#393A34"><span class="token plain"> ğŸ“‚dist</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  â”£ â€¦</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  â”£ ğŸ“œmy-component-library.js</span><br></span><span class="token-line custom-code-block-diff-add" style="color:#393A34"><span class="token plain">â”— ğŸ“œstyle.css</span><br></span></code></pre><div class="buttonGroup_KXtX"><button type="button" aria-label="×”×¢×ª×§ ×§×•×“ ×œ×œ×•×— ×”×¢×¨×™×›×”" title="×”×¢×ª×§" class="clean-btn"><span class="copyButtonIcons_VUb8" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_BOMJ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_xGLn"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>But there are two issues with this file:</p>
<ol>
<li>You need to manually import the file in the consuming application.</li>
<li>It is one file that contains all styles for all components.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_gWk7" id="import-the-css">Import the CSS<a href="#import-the-css" class="hash-link" aria-label="×§×™×©×•×¨ ×™×©×™×¨ ××œ Import the CSS" title="×§×™×©×•×¨ ×™×©×™×¨ ××œ Import the CSS">â€‹</a></h3>
<p>CSS files just can&#x27;t easily be imported in JavaScript. Therefore, the CSS file is generated separately, allowing the library user to decide how to handle the file.</p>
<p>But what if we were to assume that the application using the library has a bundler configuration that can handle CSS imports?</p>
<p>For this to work, the transpiled JavaScript bundle must contain an import statement for the CSS file. We are going to use yet another Vite plugin (<a href="https://github.com/emosheeep/vite-plugin-lib-inject-css/tree/master/packages/vite-plugin-lib-inject-css" target="_blank" rel="noopener noreferrer">vite-plugin-lib-inject-css</a>) that does exactly what we need with zero configuration.</p>
<div class="language-bash codeBlockContainer_Gi3m theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QB9L"><pre tabindex="0" class="prism-code language-bash codeBlock_FPJv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZxGG"><span class="token-line" style="color:#393A34"><span class="token plain">npm i vite-plugin-lib-inject-css -D</span><br></span></code></pre><div class="buttonGroup_KXtX"><button type="button" aria-label="×”×¢×ª×§ ×§×•×“ ×œ×œ×•×— ×”×¢×¨×™×›×”" title="×”×¢×ª×§" class="clean-btn"><span class="copyButtonIcons_VUb8" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_BOMJ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_xGLn"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-tsx codeBlockContainer_Gi3m theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QB9L"><pre tabindex="0" class="prism-code language-tsx codeBlock_FPJv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZxGG"><span class="token-line custom-code-block-diff-add" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> libInjectCss </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;vite-plugin-lib-inject-css&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">default</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">defineConfig</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  plugins</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">react</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line custom-code-block-diff-add" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">libInjectCss</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">dts</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> include</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;lib&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_KXtX"><button type="button" aria-label="×”×¢×ª×§ ×§×•×“ ×œ×œ×•×— ×”×¢×¨×™×›×”" title="×”×¢×ª×§" class="clean-btn"><span class="copyButtonIcons_VUb8" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_BOMJ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_xGLn"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Build the library and take a look at the top of your bundled JavaScript file (<code>dist/my-component-library.js</code>):</p>
<div class="language-tsx codeBlockContainer_Gi3m theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QB9L"><pre tabindex="0" class="prism-code language-tsx codeBlock_FPJv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZxGG"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;./main.css&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><br></span></code></pre><div class="buttonGroup_KXtX"><button type="button" aria-label="×”×¢×ª×§ ×§×•×“ ×œ×œ×•×— ×”×¢×¨×™×›×”" title="×”×¢×ª×§" class="clean-btn"><span class="copyButtonIcons_VUb8" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_BOMJ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_xGLn"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-info admonition_p331 alert alert--info"><div class="admonitionHeading_JzKD"><span class="admonitionIcon_hjNE"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_gyVC"><p>ğŸ’¡ You may notice that the CSS filename has changed from style.css to main.css. This change occurs because the plugin generates a separate CSS file for each chunk, and in this case the name of the chunk comes from the filename of the entry file.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_gWk7" id="split-up-the-css">Split up the CSS<a href="#split-up-the-css" class="hash-link" aria-label="×§×™×©×•×¨ ×™×©×™×¨ ××œ Split up the CSS" title="×§×™×©×•×¨ ×™×©×™×¨ ××œ Split up the CSS">â€‹</a></h3>
<p>But there&#x27;s still the second problem: when you import something from your library, <code>main.css</code> is also imported and all the CSS styles end up in your application bundle. Even if you only import the button.</p>
<p>The <code>libInjectCSS</code> plugin generates a separate CSS file for each chunk and includes an import statement at the beginning of each chunk&#x27;s output file.</p>
<p>So if you split up the JavaScript code, you end up having separate CSS files that only get imported when the according JavaScript files are imported.</p>
<p>One way of doing this would be to turn every file into an Rollup entry point. And, it couldn&#x27;t be better, there is a recommended way of doing this right in the <a href="https://rollupjs.org/configuration-options/#input" target="_blank" rel="noopener noreferrer">Rollup documentation</a>:</p>
<div class="theme-admonition theme-admonition-info admonition_p331 alert alert--info"><div class="admonitionHeading_JzKD"><span class="admonitionIcon_hjNE"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_gyVC"><p>ğŸ“˜ If you want to convert a set of files to another format while maintaining the file structure and export signatures, the recommended wayâ€”instead of using output.preserveModules that may tree-shake exports as well as emit virtual files created by pluginsâ€”is to turn every file into an entry point.</p></div></div>
<p>So let&#x27;s add this to your configuration.</p>
<p>First install <code>glob</code> as it will be required:</p>
<div class="language-bash codeBlockContainer_Gi3m theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QB9L"><pre tabindex="0" class="prism-code language-bash codeBlock_FPJv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZxGG"><span class="token-line" style="color:#393A34"><span class="token plain">npm i glob -D</span><br></span></code></pre><div class="buttonGroup_KXtX"><button type="button" aria-label="×”×¢×ª×§ ×§×•×“ ×œ×œ×•×— ×”×¢×¨×™×›×”" title="×”×¢×ª×§" class="clean-btn"><span class="copyButtonIcons_VUb8" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_BOMJ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_xGLn"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Then change your Vite config to this:</p>
<div class="language-tsx codeBlockContainer_Gi3m theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QB9L"><pre tabindex="0" class="prism-code language-tsx codeBlock_FPJv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZxGG"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">/* eslint-disable*/</span><span class="token plain"></span><br></span><span class="token-line custom-code-block-diff-remove" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> resolve </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;path&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line custom-code-block-diff-add" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> extname</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> relative</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> resolve </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;path&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line custom-code-block-diff-add" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> glob </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;glob&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line custom-code-block-diff-add" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> fileURLToPath </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;node:url&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">default</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">defineConfig</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    rollupOptions</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      external</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;react&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;react/jsx-runtime&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line custom-code-block-diff-add" style="color:#393A34"><span class="token plain">     input</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token known-class-name class-name">Object</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">fromEntries</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line custom-code-block-diff-add" style="color:#393A34"><span class="token plain">         glob</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">sync</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;lib/**/*.{ts,tsx}&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line custom-code-block-diff-add" style="color:#393A34"><span class="token plain">             ignore</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;lib/**/*.d.ts&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line custom-code-block-diff-add" style="color:#393A34"><span class="token plain">       </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">file </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line custom-code-block-diff-add" style="color:#393A34"><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic">// The name of the entry point lib/nested/foo.ts becomes nested/foo</span><span class="token plain"></span><br></span><span class="token-line custom-code-block-diff-add" style="color:#393A34"><span class="token plain">         </span><span class="token function" style="color:#d73a49">relative</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line custom-code-block-diff-add" style="color:#393A34"><span class="token plain">             </span><span class="token string" style="color:#e3116c">&#x27;lib&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line custom-code-block-diff-add" style="color:#393A34"><span class="token plain">           file</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">slice</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> file</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">extname</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">file</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line custom-code-block-diff-add" style="color:#393A34"><span class="token plain">         </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line custom-code-block-diff-add" style="color:#393A34"><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic">// The absolute path to the entry file lib/nested/foo.ts becomes /project/lib/nested/foo.ts</span><span class="token plain"></span><br></span><span class="token-line custom-code-block-diff-add" style="color:#393A34"><span class="token plain">         </span><span class="token function" style="color:#d73a49">fileURLToPath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name constant" style="color:#36acaa">URL</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">file</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">import</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">meta</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">url</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line custom-code-block-diff-add" style="color:#393A34"><span class="token plain">       </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line custom-code-block-diff-add" style="color:#393A34"><span class="token plain">     </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_KXtX"><button type="button" aria-label="×”×¢×ª×§ ×§×•×“ ×œ×œ×•×— ×”×¢×¨×™×›×”" title="×”×¢×ª×§" class="clean-btn"><span class="copyButtonIcons_VUb8" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_BOMJ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_xGLn"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-info admonition_p331 alert alert--info"><div class="admonitionHeading_JzKD"><span class="admonitionIcon_hjNE"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_gyVC"><p>ğŸ’¡ The glob library helps you to specify a set of filenames. In this case it selects all files ending with <code>.ts</code> or <code>.tsx</code> and ignores <code>*.d.ts</code> files.</p></div></div>
<p><strong>How to use Storybook for my library?</strong></p>
<p>To install Storybook run <code>npx storybook@latest init</code> and start adding your stories.</p>
<p>If you add stories inside the <code>lib</code> folder you also need to make sure to exclude all <code>.stories.tsx</code> files from the glob pattern so the stories don&#x27;t end up in your bundle.</p>
<div class="language-tsx codeBlockContainer_Gi3m theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QB9L"><pre tabindex="0" class="prism-code language-tsx codeBlock_FPJv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZxGG"><span class="token-line" style="color:#393A34"><span class="token plain">glob</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">sync</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;lib/**/*.{ts,tsx}&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> ignore</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;lib/**/*.stories.tsx&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_KXtX"><button type="button" aria-label="×”×¢×ª×§ ×§×•×“ ×œ×œ×•×— ×”×¢×¨×™×›×”" title="×”×¢×ª×§" class="clean-btn"><span class="copyButtonIcons_VUb8" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_BOMJ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_xGLn"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Now you end up with a bunch of JavaScript and CSS files in the root of your <code>dist</code> folder. It works, but it doesn&#x27;t look particularly pretty, does it?</p>
<div class="language-tsx codeBlockContainer_Gi3m theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QB9L"><pre tabindex="0" class="prism-code language-tsx codeBlock_FPJv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZxGG"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">default</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">defineConfig</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  rollupOptions</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line custom-code-block-diff-add" style="color:#393A34"><span class="token plain">     output</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line custom-code-block-diff-add" style="color:#393A34"><span class="token plain">       assetFileNames</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;assets/[name][extname]&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line custom-code-block-diff-add" style="color:#393A34"><span class="token plain">       entryFileNames</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;[name].js&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line custom-code-block-diff-add" style="color:#393A34"><span class="token plain">     </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_KXtX"><button type="button" aria-label="×”×¢×ª×§ ×§×•×“ ×œ×œ×•×— ×”×¢×¨×™×›×”" title="×”×¢×ª×§" class="clean-btn"><span class="copyButtonIcons_VUb8" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_BOMJ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_xGLn"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Transpile the library again and all JavaScript files should now be in the same organized folder structure you have created in <code>lib</code> alongside with their type definitions. And the CSS files are inside a new folder called assets.</p>
<p>Transpile the library again and all JavaScript files should now be in the same organized folder structure that you created in <code>lib</code> along with their types. And the CSS files are in a new folder called &quot;assets&quot;. ğŸ™Œ</p>
<p>Notice that the name of the main file has changed from &quot;my-component-library.js&quot; to &quot;main.js&quot;. That&#x27;s great!</p>
<h2 class="anchor anchorWithStickyNavbar_gWk7" id="4-a-few-last-steps-before-you-can-publish-the-package">4. A few last steps before you can publish the package<a href="#4-a-few-last-steps-before-you-can-publish-the-package" class="hash-link" aria-label="×§×™×©×•×¨ ×™×©×™×¨ ××œ 4. A few last steps before you can publish the package" title="×§×™×©×•×¨ ×™×©×™×¨ ××œ 4. A few last steps before you can publish the package">â€‹</a></h2>
<p>Your build setup is now ready, there are just a few things to consider before releasing your package.</p>
<p>The <code>package.json</code> file will get published along with your package files. And you need to make sure it contains all important information about the package.</p>
<h3 class="anchor anchorWithStickyNavbar_gWk7" id="main-file">Main file<a href="#main-file" class="hash-link" aria-label="×§×™×©×•×¨ ×™×©×™×¨ ××œ Main file" title="×§×™×©×•×¨ ×™×©×™×¨ ××œ Main file">â€‹</a></h3>
<p>Every npm package has a primary entry point, per default this file is <code>index.js</code> in the root of the package.</p>
<p>Your library&#x27;s primary entry point is now located at <code>dist/main.js</code>, so this needs to be set in your <code>package.json</code>. The same applies to the type&#x27;s entry point: <code>dist/main.d.ts</code></p>
<div class="language-json codeBlockContainer_Gi3m theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QB9L"><pre tabindex="0" class="prism-code language-json codeBlock_FPJv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZxGG"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;name&quot;: &quot;my-component-library&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;private&quot;: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;version&quot;: &quot;0.0.0&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;type&quot;: &quot;module&quot;,</span><br></span><span class="token-line custom-code-block-diff-add" style="color:#393A34"><span class="token plain">  &quot;main&quot;: &quot;dist/main.js&quot;,</span><br></span><span class="token-line custom-code-block-diff-add" style="color:#393A34"><span class="token plain">  &quot;types&quot;: &quot;dist/main.d.ts&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_KXtX"><button type="button" aria-label="×”×¢×ª×§ ×§×•×“ ×œ×œ×•×— ×”×¢×¨×™×›×”" title="×”×¢×ª×§" class="clean-btn"><span class="copyButtonIcons_VUb8" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_BOMJ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_xGLn"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_gWk7" id="define-the-files-to-publish">Define the files to publish<a href="#define-the-files-to-publish" class="hash-link" aria-label="×§×™×©×•×¨ ×™×©×™×¨ ××œ Define the files to publish" title="×§×™×©×•×¨ ×™×©×™×¨ ××œ Define the files to publish">â€‹</a></h3>
<p>You should also define which files should be packed into your distributed package.</p>
<div class="language-json codeBlockContainer_Gi3m theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QB9L"><pre tabindex="0" class="prism-code language-json codeBlock_FPJv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZxGG"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;main&quot;: &quot;dist/main.js&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;types&quot;: &quot;dist/main.d.ts&quot;,</span><br></span><span class="token-line custom-code-block-diff-add" style="color:#393A34"><span class="token plain">  &quot;files&quot;: [</span><br></span><span class="token-line custom-code-block-diff-add" style="color:#393A34"><span class="token plain">    &quot;dist&quot;</span><br></span><span class="token-line custom-code-block-diff-add" style="color:#393A34"><span class="token plain">  ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_KXtX"><button type="button" aria-label="×”×¢×ª×§ ×§×•×“ ×œ×œ×•×— ×”×¢×¨×™×›×”" title="×”×¢×ª×§" class="clean-btn"><span class="copyButtonIcons_VUb8" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_BOMJ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_xGLn"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-info admonition_p331 alert alert--info"><div class="admonitionHeading_JzKD"><span class="admonitionIcon_hjNE"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_gyVC"><p>ğŸ’¡ Certain files like <code>package.json</code> or <code>README</code> are always included, regardless of settings.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_gWk7" id="dependencies">Dependencies<a href="#dependencies" class="hash-link" aria-label="×§×™×©×•×¨ ×™×©×™×¨ ××œ Dependencies" title="×§×™×©×•×¨ ×™×©×™×¨ ××œ Dependencies">â€‹</a></h3>
<p>Now take a look at your <code>dependencies</code>: right now there should be only two <code>react</code> and <code>react-dom</code> and a couple of <code>devDependencies</code>.</p>
<p>You can move those two to the <code>devDependencies</code> as well. And additionally add them as <code>peerDependencies</code> so the consuming application is aware that it must have React installed to use this package.</p>
<div class="language-json codeBlockContainer_Gi3m theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QB9L"><pre tabindex="0" class="prism-code language-json codeBlock_FPJv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZxGG"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line custom-code-block-diff-remove" style="color:#393A34"><span class="token plain">&quot;dependencies&quot;: {</span><br></span><span class="token-line custom-code-block-diff-add" style="color:#393A34"><span class="token plain">&quot;peerDependencies&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;react&quot;: &quot;^18.2.0&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;react-dom&quot;: &quot;^18.2.0&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;devDependencies&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+   &quot;react&quot;: &quot;^18.2.0&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+   &quot;react-dom&quot;: &quot;^18.2.0&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_KXtX"><button type="button" aria-label="×”×¢×ª×§ ×§×•×“ ×œ×œ×•×— ×”×¢×¨×™×›×”" title="×”×¢×ª×§" class="clean-btn"><span class="copyButtonIcons_VUb8" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_BOMJ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_xGLn"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-info admonition_p331 alert alert--info"><div class="admonitionHeading_JzKD"><span class="admonitionIcon_hjNE"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_gyVC"><p>ğŸ’¡ See this StackOverflow answer to learn more about the different types of dependencies: <a href="https://stackoverflow.com/questions/18875674/whats-the-difference-between-dependencies-devdependencies-and-peerdependencie" target="_blank" rel="noopener noreferrer">Link</a></p></div></div>
<h3 class="anchor anchorWithStickyNavbar_gWk7" id="side-effects">Side effects<a href="#side-effects" class="hash-link" aria-label="×§×™×©×•×¨ ×™×©×™×¨ ××œ Side effects" title="×§×™×©×•×¨ ×™×©×™×¨ ××œ Side effects">â€‹</a></h3>
<p>To prevent the CSS files from being accidentally removed by the consumer&#x27;s tree-shaking efforts, you should also specify the generated CSS as side effects:</p>
<div class="language-json codeBlockContainer_Gi3m theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QB9L"><pre tabindex="0" class="prism-code language-json codeBlock_FPJv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZxGG"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// ...</span><br></span><span class="token-line custom-code-block-diff-add" style="color:#393A34"><span class="token plain">&quot;sideEffects&quot;: [&quot;**/*.css&quot;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_KXtX"><button type="button" aria-label="×”×¢×ª×§ ×§×•×“ ×œ×œ×•×— ×”×¢×¨×™×›×”" title="×”×¢×ª×§" class="clean-btn"><span class="copyButtonIcons_VUb8" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_BOMJ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_xGLn"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_gWk7" id="ensure-that-the-package-is-built">Ensure that the package is built<a href="#ensure-that-the-package-is-built" class="hash-link" aria-label="×§×™×©×•×¨ ×™×©×™×¨ ××œ Ensure that the package is built" title="×§×™×©×•×¨ ×™×©×™×¨ ××œ Ensure that the package is built">â€‹</a></h3>
<p>You can use the special lifecycle script prepublishOnly to guarantee that your changes are always built before the package is published:</p>
<div class="language-json codeBlockContainer_Gi3m theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QB9L"><pre tabindex="0" class="prism-code language-json codeBlock_FPJv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZxGG"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;scripts&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;dev&quot;: &quot;vite&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;build&quot;: &quot;tsc &amp;&amp; vite build&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // ...</span><br></span><span class="token-line custom-code-block-diff-add" style="color:#393A34"><span class="token plain">  &quot;prepublishOnly&quot;: &quot;npm run build&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_KXtX"><button type="button" aria-label="×”×¢×ª×§ ×§×•×“ ×œ×œ×•×— ×”×¢×¨×™×›×”" title="×”×¢×ª×§" class="clean-btn"><span class="copyButtonIcons_VUb8" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_BOMJ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_xGLn"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_gWk7" id="5-demo-page-and-deployment">5. Demo page and deployment<a href="#5-demo-page-and-deployment" class="hash-link" aria-label="×§×™×©×•×¨ ×™×©×™×¨ ××œ 5. Demo page and deployment" title="×§×™×©×•×¨ ×™×©×™×¨ ××œ 5. Demo page and deployment">â€‹</a></h2>
<p>To just play around with your components on the demo page, you can simply import the components directly from the root of your project. This works because your <code>package.json</code> points to the transpiled main file <code>dist/main.ts</code>.</p>
<div class="language-tsx codeBlockContainer_Gi3m theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QB9L"><pre tabindex="0" class="prism-code language-tsx codeBlock_FPJv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZxGG"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">/* eslint-disable */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">Button</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> </span><span class="token imports maybe-class-name">Input</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> </span><span class="token imports maybe-class-name">Label</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;../&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><br></span></code></pre><div class="buttonGroup_KXtX"><button type="button" aria-label="×”×¢×ª×§ ×§×•×“ ×œ×œ×•×— ×”×¢×¨×™×›×”" title="×”×¢×ª×§" class="clean-btn"><span class="copyButtonIcons_VUb8" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_BOMJ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_xGLn"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>To publish your package, you just need to run <code>npm publish</code>. If you want to release your package to the public, you have to set <code>private: false</code> in your <code>package.json</code>.</p>
<p>You can read more about publishing your package, including installing it in a local project (without publishing) in these articles of mine:</p>
<ul>
<li><a href="https://dev.to/receter/the-minimal-setup-to-package-and-reuse-your-react-components-1063#publishinstall-your-package" target="_blank" rel="noopener noreferrer">Publish/install your package</a></li>
<li><a href="https://dev.to/receter/automatically-publish-your-node-package-to-npm-with-pnpm-and-github-actions-22eg" target="_blank" rel="noopener noreferrer">Automatically publish you package with GitHub actions</a></li>
</ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>×ª×’×™×•×ª:</b><ul class="tags_NdSE padding--none margin-left--sm"><li class="tag_eddF"><a class="tag_VoUy tagRegular_s_mT" href="/guides/he/blog/tags/vite/">vite</a></li><li class="tag_eddF"><a class="tag_VoUy tagRegular_s_mT" href="/guides/he/blog/tags/react/">react</a></li><li class="tag_eddF"><a class="tag_VoUy tagRegular_s_mT" href="/guides/he/blog/tags/typescript/">typescript</a></li><li class="tag_eddF"><a class="tag_VoUy tagRegular_s_mT" href="/guides/he/blog/tags/tutorial/">tutorial</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="×¨×©×™××ª ×“×¤×™ ×”×‘×œ×•×’"></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/guides/he/docs/programming/">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_sx_D"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_sx_D"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_sx_D"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/guides/he/blog/">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_sx_D"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2024 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>