"use strict";(self.webpackChunkdocusaurus_guides=self.webpackChunkdocusaurus_guides||[]).push([[7767],{7084:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>t,metadata:()=>d,toc:()=>o});var i=s(6070),a=s(5710);const t={},r="ElasticSearch",d={id:"programming/elasticsearch",title:"ElasticSearch",description:"Coming Soon:",source:"@site/docs/programming/elasticsearch.md",sourceDirName:"programming",slug:"/programming/elasticsearch",permalink:"/guides/he/docs/programming/elasticsearch",draft:!1,unlisted:!1,editUrl:"https://github.com/talkohavy/guides/docs/programming/elasticsearch.md",tags:[],version:"current",frontMatter:{},sidebar:"mySidebar",previous:{title:"- Docker",permalink:"/guides/he/docs/programming/docker"},next:{title:"- ELK Stack",permalink:"/guides/he/docs/programming/elk"}},c={},o=[{value:"Coming Soon:",id:"coming-soon",level:2},{value:"<strong>1. Create a new Index</strong>",id:"1-create-a-new-index",level:2},{value:"<strong>2. Delete an index</strong>",id:"2-delete-an-index",level:2},{value:"<strong>3. Insert a new document</strong>",id:"3-insert-a-new-document",level:2},{value:"- Way Number 1: POST + _doc",id:"--way-number-1-post--_doc",level:3},{value:"- Way Number 2: PUT + _doc + id:",id:"--way-number-2-put--_doc--id",level:3},{value:"- Way Number 3: PUT + _create + id:",id:"--way-number-3-put--_create--id",level:3},{value:"- Way Number 4: BULK",id:"--way-number-4-bulk",level:3},{value:"<strong>4. Update an existing document by id</strong>",id:"4-update-an-existing-document-by-id",level:2},{value:"<strong>5. Delete a document by id</strong>",id:"5-delete-a-document-by-id",level:2},{value:"<strong>6. How to Query in ElasticSearch</strong>",id:"6-how-to-query-in-elasticsearch",level:2},{value:"- Action 1: Get a Document by id",id:"--action-1-get-a-document-by-id",level:3},{value:"- Action 2: Get all Documents",id:"--action-2-get-all-documents",level:3},{value:"- Action 3: Field name match exact value",id:"--action-3-field-name-match-exact-value",level:3},{value:"- Action 4: Field value ranges between x &amp; Y",id:"--action-4-field-value-ranges-between-x--y",level:3},{value:"- Action 5: Get avg value of field",id:"--action-5-get-avg-value-of-field",level:3},{value:"- Action 6: Count how many instances of a certain value are there",id:"--action-6-count-how-many-instances-of-a-certain-value-are-there",level:3},{value:"- Action 7: Get the sum value of FIELD_NAME",id:"--action-7-get-the-sum-value-of-field_name",level:3},{value:"- Action 8: Get the avg value of FIELD_NAME",id:"--action-8-get-the-avg-value-of-field_name",level:3},{value:"- Action 9: Get the min/max value of FIELD_NAME",id:"--action-9-get-the-minmax-value-of-field_name",level:3},{value:"- Action 10: Group by some field name",id:"--action-10-group-by-some-field-name",level:3},{value:"- Action 11: Group documents by time intervals (day, week, month).",id:"--action-11-group-documents-by-time-intervals-day-week-month",level:3},{value:"7. Learn about the Operations",id:"7-learn-about-the-operations",level:2},{value:"- Setting Size to 0",id:"--setting-size-to-0",level:3}];function l(e){const n={br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"elasticsearch",children:"ElasticSearch"})}),"\n",(0,i.jsx)(n.h2,{id:"coming-soon",children:"Coming Soon:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"inverted index"}),"\n",(0,i.jsx)(n.li,{children:"dynamic mapping"}),"\n",(0,i.jsx)(n.li,{children:"data types (of numbers)"}),"\n",(0,i.jsx)(n.li,{children:"creating a runtime field"}),"\n",(0,i.jsx)(n.li,{children:"precision"}),"\n",(0,i.jsx)(n.li,{children:"recall"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"1-create-a-new-index",children:(0,i.jsx)(n.strong,{children:"1. Create a new Index"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"PUT NAME_OF_INDEX\n"})}),"\n",(0,i.jsx)(n.p,{children:"An example response is:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"{\n    acknowledged: true,\n    shards_acknowledged: true,\n    index: 'users',\n}\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"2-delete-an-index",children:(0,i.jsx)(n.strong,{children:"2. Delete an index"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"DELETE NAME_OF_INDEX\n"})}),"\n",(0,i.jsxs)(n.p,{children:["To check that the index was in fact deleted, simply run ",(0,i.jsx)(n.code,{children:"GET NAME_OF_INDEX/_search"})," and get the error which says ",(0,i.jsx)(n.code,{children:"index_not_found_exception"}),"."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"3-insert-a-new-document",children:(0,i.jsx)(n.strong,{children:"3. Insert a new document"})}),"\n",(0,i.jsxs)(n.p,{children:["There are 4 ways for us to add a new document.",(0,i.jsx)(n.br,{}),"\n","But first, let's discuss the verb words to be used:",(0,i.jsx)(n.br,{}),"\n","When indexing a new document both the words PUT or POST can be used."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["You use ",(0,i.jsx)(n.strong,{children:"POST"})," when you want elasticsearch to ",(0,i.jsx)(n.em,{children:"auto-generate an id"})," for your document."]}),"\n",(0,i.jsxs)(n.li,{children:["You use ",(0,i.jsx)(n.strong,{children:"PUT"})," when you want to ",(0,i.jsx)(n.em,{children:"assign a specific id"})," to your document."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"--way-number-1-post--_doc",children:"- Way Number 1: POST + _doc"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'POST NAME_OF_INDEX/_doc\n{\n  "field1": "value1",\n  "field2": "value2"\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:"As you can see, the syntax is using a JSON object, and as such, all the annoying rules that apply to a JSON object apply. For example, everything must be quoted, the last key cannot have a comma after it, etc, etc."}),"\n",(0,i.jsx)(n.p,{children:"An example of a good POST response is:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n    "_index": "NAME_OF_INDEX",\n    "type": "_doc",\n    "_id": "kKjg26F",\n    "_version": "1",\n    "result": "created",\n    "shards": {\n        "total": 2,\n        "successful": 1,\n        "failed": "0,\n    }\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["Notice the ",(0,i.jsx)(n.code,{children:"version"})," field? Version tells you how many time your document has been created, updated, or deleted."]}),"\n",(0,i.jsx)(n.h3,{id:"--way-number-2-put--_doc--id",children:"- Way Number 2: PUT + _doc + id:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'PUT NAME_OF_INDEX/_doc/id-you-want-to-assign\n{\n    "field1": "value1",\n    "field2": "value2"\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["Notice the additional id at the end of the path.",(0,i.jsx)(n.br,{}),"\n","Usage Example:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'PUT users/_doc/1\n{\n  "nickname": "YourLoverBoy",\n  "city": "Ramat-Gan"\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"--way-number-3-put--_create--id",children:"- Way Number 3: PUT + _create + id:"}),"\n",(0,i.jsxs)(n.p,{children:["The problem with the PUT & _doc combination is that it allows you overwrite existing documents. Now, sometimes that's good, but sometimes it's really bad. Sometimes we don't actually want to overwrite existing documents. To prevent that from happening, we could use the _create endpoint.",(0,i.jsx)(n.br,{}),"\n","The syntax is very much similar:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'PUT NAME_OF_INDEX/_create/id-you-want-to-assign\n{\n  "field1": "value1",\n  "field2": "value2"\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:"So now, in case of an _id duplication it doesn't do anything, it would just throw an error. The error code is 409 - conflict, telling us that the document already exists."}),"\n",(0,i.jsx)(n.h3,{id:"--way-number-4-bulk",children:"- Way Number 4: BULK"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"The command:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'POST _bulk\n{ "create": { "_index": "users", "_id": 1 } }\n{ "name": "jake", "salary": 5000, "job_desc": "Vice President" }\n{ "create": { "_index": "users", "_id": 2 } }\n{ "name": "tal", "salary": 12000, "job_desc": "Full Stack Developer" }\n'})}),"\n",(0,i.jsx)(n.h2,{id:"4-update-an-existing-document-by-id",children:(0,i.jsx)(n.strong,{children:"4. Update an existing document by id"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"The command:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'POST NAME_OF_INDEX/_update/id_of_doc\n{\n    "doc": {\n        "field1": "value1",\n        "field2": "value2"\n    }\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:'IMPORTANT!!! Inside the json object, make sure that you have this "doc" as a context.\nWhat this is telling you is "I want to update this document, but only the fields with the values that I specify".'}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"5-delete-a-document-by-id",children:(0,i.jsx)(n.strong,{children:"5. Delete a document by id"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"The command:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"DELETE NAME_OF_INDEX/_doc/id-of-doc\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"6-how-to-query-in-elasticsearch",children:(0,i.jsx)(n.strong,{children:"6. How to Query in ElasticSearch"})}),"\n",(0,i.jsxs)(n.p,{children:["To query data in elasticsearch we have a special keyword known as ",(0,i.jsx)(n.code,{children:"_search"}),".\n",(0,i.jsx)(n.code,{children:"_search"})," comes with a TON of options, and we'll only cover the ones most relevant to us in this lesson. With ",(0,i.jsx)(n.code,{children:"_search"}),", there are 2 main ways to search in elasticsearch: ",(0,i.jsx)(n.code,{children:"queries"})," & ",(0,i.jsx)(n.code,{children:"aggregations"}),". Now we will only be focusing on ",(0,i.jsx)(n.code,{children:"query"}),".",(0,i.jsx)(n.br,{}),"\n","Queries are used to retrieve documents that meet certain criteria."]}),"\n",(0,i.jsx)(n.h3,{id:"--action-1-get-a-document-by-id",children:"- Action 1: Get a Document by id"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"The command:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"GET NAME_OF_INDEX/_doc/id_of_document\n"})}),"\n",(0,i.jsx)(n.p,{children:'Tip: Reading it from right to left would make sense. We\'re requesting the id, of a _document, inside of an index called "NAME_OF_INDEX".'}),"\n",(0,i.jsx)(n.p,{children:"An example for a good response would like:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "_index": "NAME_OF_INDEX",\n  "_type": "_doc ",\n  "_id": "1",\n  "_version": 1,\n  "_seq_no": 1,\n  "found": true,\n  "_source": {\n    "first_name": "John",\n    "candy": "kinder bueno"\n  }\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["Notice that the ",(0,i.jsx)(n.code,{children:"_source"})," part is containing the information inside the document."]}),"\n",(0,i.jsx)(n.h3,{id:"--action-2-get-all-documents",children:"- Action 2: Get all Documents"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"The command:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'GET NAME_OF_INDEX/_search\n{\n  "query": {\n    "match_all": {}\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"--action-3-field-name-match-exact-value",children:"- Action 3: Field name match exact value"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"The command:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'GET /NAME_OF_INDEX/_search\n{\n  "query": {\n    "term": {\n      "custom_field_name": 2\n    }\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"--action-4-field-value-ranges-between-x--y",children:"- Action 4: Field value ranges between x & Y"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"The command:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'GET /NAME_OF_INDEX/_search\n{\n  "query": {\n    "range": {\n      "YYY": {\n        "gte": "2024-01-01", // or: "2024-09-30T00:00:00"\n        "lte": "2024-12-31", // or: "2024-09-30T23:59:59",\n        "format": "yyyy-MM-dd" // or: "yyyy-MM-dd\'T\'HH:mm:ss"\n      }\n    }\n  }\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["If the ",(0,i.jsx)(n.code,{children:"format"})," parameter is omitted, Elasticsearch will use the default format defined in the mapping of the ",(0,i.jsx)(n.code,{children:"YYY"})," field. The default format for date fields in Elasticsearch is typically ",(0,i.jsx)(n.code,{children:"strict_date_optional_time || epoch_millis"}),", which means:"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"strict_date_optional_time"}),": Accepts dates in various common formats, such as ",(0,i.jsx)(n.code,{children:"yyyy-MM-dd"})," (e.g., ",(0,i.jsx)(n.code,{children:"2024-01-01"}),"), ",(0,i.jsx)(n.code,{children:"yyyy-MM-dd'T'HH:mm:ssZ"})," (e.g., ",(0,i.jsx)(n.code,{children:"2024-01-01T00:00:00Z"}),"), and more."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"epoch_millis"}),": Accepts dates as timestamps in milliseconds since the Unix epoch (e.g., ",(0,i.jsx)(n.code,{children:"1704067200000"})," for ",(0,i.jsx)(n.code,{children:"2024-01-01T00:00:00Z"}),")."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Behavior Without format"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["If your date values match the default format (e.g., ",(0,i.jsx)(n.code,{children:"yyyy-MM-dd"})," or ISO 8601), the query works without specifying ",(0,i.jsx)(n.code,{children:"format"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["If your dates use a non-standard format (e.g., ",(0,i.jsx)(n.code,{children:"dd-MM-yyyy"}),"), Elasticsearch might fail to parse them correctly unless ",(0,i.jsx)(n.code,{children:"format"})," is explicitly specified to match the custom format."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"--action-5-get-avg-value-of-field",children:"- Action 5: Get avg value of field"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"The command:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'GET /NAME_OF_INDEX/_search\n{\n  "size": 0,\n  "aggs": {\n    "my_average_price": {\n      "avg": {\n        "field": "FIELD_NAME"\n      }\n    }\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"--action-6-count-how-many-instances-of-a-certain-value-are-there",children:"- Action 6: Count how many instances of a certain value are there"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"The command:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'GET /NAME_OF_INDEX/_search\n{\n  "size": 0,\n  "aggs": {\n    "products_by_category": {\n      "terms": {\n        "field": "FIELD_NAME.keyword"\n      }\n    }\n  }\n}\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"--action-7-get-the-sum-value-of-field_name",children:"- Action 7: Get the sum value of FIELD_NAME"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"The command:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'GET /products/_search\n{\n  "size": 0,\n  "aggs": {\n    "total_value": {\n      "sum": {\n        "field": "price"\n      }\n    }\n  }\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"sum"})," Adds up values of a numeric field."]}),"\n",(0,i.jsx)(n.h3,{id:"--action-8-get-the-avg-value-of-field_name",children:"- Action 8: Get the avg value of FIELD_NAME"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"The command:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'GET /products/_search\n{\n  "size": 0,\n  "aggs": {\n    "average_price": {\n      "avg": {\n        "field": "price"\n      }\n    }\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"--action-9-get-the-minmax-value-of-field_name",children:"- Action 9: Get the min/max value of FIELD_NAME"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"The command:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'GET /products/_search\n{\n  "size": 0,\n  "aggs": {\n    "lowest_price": {\n      "min": {\n        "field": "price"\n      }\n    }\n  }\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"min"})," / ",(0,i.jsx)(n.code,{children:"max"})," finds the minimum or maximum value. Works on date fields as well."]}),"\n",(0,i.jsx)(n.p,{children:"Here's an example with a date:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'GET /your_index/_search\n{\n  "size": 0,\n  "aggs": {\n    "earliest_date": {\n      "min": {\n        "field": "your_date_field"\n      }\n    },\n    "latest_date": {\n      "max": {\n        "field": "your_date_field"\n      }\n    }\n  }\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:'The results will be in epoch milliseconds by default, but you can format them to human-readable dates by adding the "format" parameter. For example:'}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'"earliest_date": {\n  "min": {\n    "field": "your_date_field",\n    "format": "yyyy-MM-dd"\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"--action-10-group-by-some-field-name",children:"- Action 10: Group by some field name"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"The command:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'GET /products/_search\n{\n  "size": 0,\n  "aggs": {\n    "products_by_category": {\n      "terms": {\n        "field": "category.keyword"\n      }\n    }\n  }\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:"Here, terms aggregation creates a bucket for each unique category and counts the products in each."}),"\n",(0,i.jsx)(n.h3,{id:"--action-11-group-documents-by-time-intervals-day-week-month",children:"- Action 11: Group documents by time intervals (day, week, month)."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"The command:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'GET /logs/_search\n{\n  "size": 0,\n  "aggs": {\n    "logs_per_day": {\n      "date_histogram": {\n        "field": "timestamp",\n        "calendar_interval": "day"\n      }\n    }\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"7-learn-about-the-operations",children:"7. Learn about the Operations"}),"\n",(0,i.jsx)(n.h3,{id:"--setting-size-to-0",children:"- Setting Size to 0"}),"\n",(0,i.jsx)(n.p,{children:'Setting "size": 0 in an Elasticsearch query tells Elasticsearch not to return any document results\u2014only the aggregation data. This is useful when you\'re only interested in summary information or metrics, not in individual documents.'}),"\n",(0,i.jsx)(n.p,{children:'For example, in a query where you\'re aggregating sales data by category, if you set "size": 0, Elasticsearch skips loading individual documents, which can speed up the query, reduce resource usage, and simplify the response.'}),"\n",(0,i.jsx)(n.p,{children:'If you need both the documents and the aggregation results, you can adjust the size to get a limited number of documents. But for aggregations-only requests, setting "size": 0 is a common best practice.'}),"\n",(0,i.jsx)(n.p,{children:'If you don\'t specify "size" in an Elasticsearch query, the default is 10. This means Elasticsearch will return up to 10 matching documents along with the aggregation results (if any aggregations are included).'})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},5710:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>d});var i=s(758);const a={},t=i.createContext(a);function r(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);