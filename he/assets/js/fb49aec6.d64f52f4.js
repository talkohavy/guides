"use strict";(self.webpackChunkdocusaurus_guides=self.webpackChunkdocusaurus_guides||[]).push([[139],{3083:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>r,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"programming/databases/redis","title":"Redis","description":"Redis is NOT a database!","source":"@site/docs/programming/databases/redis.md","sourceDirName":"programming/databases","slug":"/programming/databases/redis","permalink":"/guides/he/docs/programming/databases/redis","draft":false,"unlisted":false,"editUrl":"https://github.com/talkohavy/guides/docs/programming/databases/redis.md","tags":[],"version":"current","frontMatter":{},"sidebar":"mySidebar","previous":{"title":"- MongoDB","permalink":"/guides/he/docs/programming/databases/mongodb"},"next":{"title":"- AWS Kubernetes","permalink":"/guides/he/docs/programming/aws-kubernetes"}}');var t=s(6070),d=s(7010);const l={},r="Redis",a={},c=[{value:"1. Installing &amp; running a Redis server",id:"1-installing--running-a-redis-server",level:2},{value:"2. Connect to redis server",id:"2-connect-to-redis-server",level:2},{value:"- A. Test connectivity from inside the container",id:"--a-test-connectivity-from-inside-the-container",level:3},{value:"- B. Test connectivity from localhost",id:"--b-test-connectivity-from-localhost",level:3},{value:"3. Redis Commands",id:"3-redis-commands",level:2},{value:"- Command 1: ping",id:"--command-1-ping",level:3},{value:"Syntax",id:"syntax",level:4},{value:"Description",id:"description",level:4},{value:"Example response:",id:"example-response",level:4},{value:"- Command 2: FLUSHALL",id:"--command-2-flushall",level:3},{value:"Syntax",id:"syntax-1",level:4},{value:"Description",id:"description-1",level:4},{value:"- Command 3: SCAN",id:"--command-3-scan",level:3},{value:"Syntax",id:"syntax-2",level:4},{value:"Description",id:"description-2",level:4},{value:"SCAN basic usage",id:"scan-basic-usage",level:4},{value:"SCAN with a COUNT option",id:"scan-with-a-count-option",level:4},{value:"SCAN with a MATCH option",id:"scan-with-a-match-option",level:4},{value:"SCAN with other DATA TYPES",id:"scan-with-other-data-types",level:4},{value:"- Command 4: KEYS",id:"--command-4-keys",level:3},{value:"Syntax",id:"syntax-3",level:4},{value:"- Command 5: SET",id:"--command-5-set",level:3},{value:"Syntax",id:"syntax-4",level:4},{value:"Description",id:"description-3",level:4},{value:"- Command 6: EXISTS",id:"--command-6-exists",level:3},{value:"Syntax",id:"syntax-5",level:4},{value:"Description",id:"description-4",level:4},{value:"- Command 7: GET",id:"--command-7-get",level:3},{value:"Syntax",id:"syntax-6",level:4},{value:"Description",id:"description-5",level:4},{value:"- Command 7: GETEX",id:"--command-7-getex",level:3},{value:"Syntax",id:"syntax-7",level:4},{value:"Description",id:"description-6",level:4},{value:"- Command 8: TTL",id:"--command-8-ttl",level:3},{value:"Syntax",id:"syntax-8",level:4},{value:"Description",id:"description-7",level:4},{value:"- Command 9: DEL",id:"--command-9-del",level:3},{value:"Syntax",id:"syntax-9",level:4},{value:"Description",id:"description-8",level:4}];function o(e){const n={admonition:"admonition",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,d.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"redis",children:"Redis"})}),"\n",(0,t.jsx)("font",{size:"5",children:"Redis is NOT a database!"}),"\n",(0,t.jsx)(n.h2,{id:"1-installing--running-a-redis-server",children:"1. Installing & running a Redis server"}),"\n",(0,t.jsx)(n.p,{children:"Run the following command:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"docker run -d --name redis -p 6379:6379 redis\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"2-connect-to-redis-server",children:"2. Connect to redis server"}),"\n",(0,t.jsx)(n.p,{children:"We now want to check that the installation worked."}),"\n",(0,t.jsx)(n.p,{children:"We can check in 1 of 2 ways:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"exec"})," into the container, where you have ",(0,t.jsx)(n.code,{children:"redis-cli"})," already installed."]}),"\n",(0,t.jsxs)(n.li,{children:["install ",(0,t.jsx)(n.code,{children:"redis-cli"})," locally on your machine and connect to the redis server from outside the container."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"--a-test-connectivity-from-inside-the-container",children:"- A. Test connectivity from inside the container"}),"\n",(0,t.jsx)(n.p,{children:"Run the following command:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"docker exec -it redis redis-cli\n"})}),"\n",(0,t.jsx)(n.p,{children:"You should see the following terminal being opened:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"127.0.0.1:6379>\n"})}),"\n",(0,t.jsx)(n.h3,{id:"--b-test-connectivity-from-localhost",children:"- B. Test connectivity from localhost"}),"\n",(0,t.jsxs)(n.p,{children:["There is no installation for ",(0,t.jsx)(n.code,{children:"redis-cli"})," only.",(0,t.jsx)(n.br,{}),"\n","To this day, all we can do is:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"brew install redis\n"})}),"\n",(0,t.jsxs)(n.p,{children:["which bundles together both ",(0,t.jsx)(n.code,{children:"redis-server"})," (used to run the redis server itself), and ",(0,t.jsx)(n.code,{children:"redis-cli"}),". You just don't run the redis server using the ",(0,t.jsx)(n.code,{children:"redis-server"})," tool, and only use ",(0,t.jsx)(n.code,{children:"redis-cli"})," to connect to our dockerized redis server."]}),"\n",(0,t.jsxs)(n.p,{children:["Immediately after installing ",(0,t.jsx)(n.code,{children:"redis"}),", I saw that it ran the server automatically. But we want the docker one, so we'll need to stop the ",(0,t.jsx)(n.code,{children:"redis-server"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"brew services stop redis\n"})}),"\n",(0,t.jsx)(n.p,{children:"Now that the redis server on our localhost stopped, and the redis server on our docker runs, let's connect to it:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"redis-cli\n"})}),"\n",(0,t.jsxs)(n.p,{children:["The above command is flagless, which assumes you're running a redis server on localhost, on the default port of ",(0,t.jsx)(n.strong,{children:"6379"}),", with no authentication."]}),"\n",(0,t.jsx)(n.p,{children:"if you need a more detailed way, then:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"redis-cli -h 127.0.0.1 -p 6379 -a pass123\n"})}),"\n",(0,t.jsx)(n.p,{children:"The following also works:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"redis-cli -u redis://username:password@host:port\nredis-cli -u redis://host:port\n"})}),"\n",(0,t.jsx)(n.p,{children:"Upon successful login you should see the following terminal being opened:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"127.0.0.1:6379>\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"3-redis-commands",children:"3. Redis Commands"}),"\n",(0,t.jsx)(n.h3,{id:"--command-1-ping",children:"- Command 1: ping"}),"\n",(0,t.jsx)(n.h4,{id:"syntax",children:"Syntax"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"ping\n"})}),"\n",(0,t.jsx)(n.h4,{id:"description",children:"Description"}),"\n",(0,t.jsx)(n.p,{children:"Simple ping request."}),"\n",(0,t.jsx)(n.h4,{id:"example-response",children:"Example response:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"PONG\n"})}),"\n",(0,t.jsx)("br",{}),"\n",(0,t.jsx)(n.h3,{id:"--command-2-flushall",children:"- Command 2: FLUSHALL"}),"\n",(0,t.jsx)(n.h4,{id:"syntax-1",children:"Syntax"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"FLUSHALL\n"})}),"\n",(0,t.jsx)(n.h4,{id:"description-1",children:"Description"}),"\n",(0,t.jsx)(n.p,{children:"Delete all the keys of all the existing databases, not just the currently selected one. This command never fails."}),"\n",(0,t.jsxs)(n.p,{children:["By default, ",(0,t.jsx)(n.code,{children:"FLUSHALL"})," will synchronously flush all the databases. Starting with Redis 6.2, setting the ",(0,t.jsx)(n.code,{children:"lazyfree-lazy-user-flush"}),' configuration directive to "yes" changes the default flush mode to asynchronous.']}),"\n",(0,t.jsx)(n.p,{children:"It is possible to use one of the following modifiers to dictate the flushing mode explicitly:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"ASYNC"}),": flushes the databases asynchronously"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"SYNC"}),": flushes the databases synchronously"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"FLUSHALL SYNC\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["An asynchronous ",(0,t.jsx)(n.code,{children:"FLUSHALL"})," command only deletes keys that were present at the time the command was invoked. Keys created during an asynchronous flush will be unaffected."]}),"\n",(0,t.jsx)(n.li,{children:"This command does not delete functions."}),"\n",(0,t.jsx)(n.li,{children:"Other than emptying all databases (similar to FLUSHDB), this command clears the RDB persistence file, aborts any snapshot that is in progress, and, if the save config is enabled, saves an empty RDB file."}),"\n"]})}),"\n",(0,t.jsx)("br",{}),"\n",(0,t.jsx)(n.h3,{id:"--command-3-scan",children:"- Command 3: SCAN"}),"\n",(0,t.jsx)(n.h4,{id:"syntax-2",children:"Syntax"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"SCAN cursor [MATCH pattern] [COUNT count] [TYPE type]\n"})}),"\n",(0,t.jsx)(n.h4,{id:"description-2",children:"Description"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"SCAN"})," command (and relatives ",(0,t.jsx)(n.code,{children:"SSCAN"}),", ",(0,t.jsx)(n.code,{children:"HSCAN"})," and ",(0,t.jsx)(n.code,{children:"ZSCAN"}),") are used in order to incrementally iterate over a collection of elements."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"SCAN"})," iterates the set of keys in the currently selected Redis database."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"SSCAN"})," iterates elements of ",(0,t.jsx)(n.code,{children:"Sets"})," types."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"HSCAN"})," iterates fields of ",(0,t.jsx)(n.code,{children:"Hash"})," types and their associated values."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"ZSCAN"})," iterates elements of ",(0,t.jsx)(n.code,{children:"Sorted Set"})," types and their associated scores."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Since these commands allow for ",(0,t.jsx)(n.strong,{children:"incremental iteration"}),", returning only a small number of elements per call, they can be used in production without the downside of commands like ",(0,t.jsx)(n.code,{children:"KEYS"})," or ",(0,t.jsx)(n.code,{children:"SMEMBERS"})," that may block the server for a long time (even several seconds) when called against big collections of keys or elements."]}),"\n",(0,t.jsx)(n.h4,{id:"scan-basic-usage",children:"SCAN basic usage"}),"\n",(0,t.jsx)(n.p,{children:"An iteration starts when the cursor is set to 0:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'> scan 0\n1) "17"\n2)  1) "key:12"\n    2) "key:8"\n    3) "key:4"\n    4) "key:14"\n    5) "key:16"\n    6) "key:17"\n    7) "key:15"\n    8) "key:10"\n    9) "key:3"\n   10) "key:7"\n   11) "key:1"\n'})}),"\n",(0,t.jsxs)(n.p,{children:["In NO. 2, we get back the results.",(0,t.jsx)(n.br,{}),"\n","In NO. 1, we get back the ",(0,t.jsx)(n.strong,{children:"cursor return value"})," to use as input in order to get the next batch."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'> scan 17\n1) "0"\n2) 1) "key:5"\n   2) "key:18"\n   3) "key:0"\n   4) "key:2"\n   5) "key:19"\n   6) "key:13"\n   7) "key:6"\n   8) "key:9"\n   9) "key:11"\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Since in the second call the returned cursor is 0, the server signaled to the caller that the iteration finished, and the ",(0,t.jsx)(n.strong,{children:"collection was completely explored"}),"."]}),"\n",(0,t.jsx)(n.h4,{id:"scan-with-a-count-option",children:"SCAN with a COUNT option"}),"\n",(0,t.jsx)(n.p,{children:"SCAN also comes with a COUNT option, which can be used like so:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"SCAN COUNT 20\n"})}),"\n",(0,t.jsx)(n.p,{children:"This is used to specify a count to override the default COUNT which is set to 10 result per iteration. COUNT can be changed from one iteration to the next."}),"\n",(0,t.jsx)(n.p,{children:"So continuing the example from before, if I now do:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"SCAN 0 COUNT 3\n"})}),"\n",(0,t.jsx)(n.p,{children:"And an example output is:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'1) "4"\n2) 1) "key11"\n    2) "key10"\n    3) "key9"\n'})}),"\n",(0,t.jsx)(n.h4,{id:"scan-with-a-match-option",children:"SCAN with a MATCH option"}),"\n",(0,t.jsx)(n.p,{children:"SCAN also has a MATCH option. This will iterate elements that match a specific pattern."}),"\n",(0,t.jsx)(n.p,{children:"So in this example here:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"SCAN 0 MATCH something\n"})}),"\n",(0,t.jsxs)(n.p,{children:["We're saying \"match the word ",(0,t.jsx)(n.code,{children:"something"}),"\".\nWe don't have to be specific, and can also use expressions like this:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"SCAN 0 MATCH k*\n"})}),"\n",(0,t.jsx)(n.p,{children:"Gets everything that starts with the letter k."}),"\n",(0,t.jsx)(n.h4,{id:"scan-with-other-data-types",children:"SCAN with other DATA TYPES"}),"\n",(0,t.jsx)(n.p,{children:"SCAN is also available with other data-types.\nThe full list of SCANs available to use is:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"SSCAN"})," - Used with sets. Returns list of set members."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"HSCAN"})," - Used with hashes. Returns array of elements with a field and value."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"ZSCAN"})," - Used with sorted sets. Returns array of elements with associated score."]}),"\n"]}),"\n",(0,t.jsx)("br",{}),"\n",(0,t.jsx)(n.h3,{id:"--command-4-keys",children:"- Command 4: KEYS"}),"\n",(0,t.jsx)(n.h4,{id:"syntax-3",children:"Syntax"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"KEYS som*Pattern\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"KEYS"})," will return all keys & values that match a specific pattern."]}),"\n",(0,t.jsx)(n.admonition,{type:"danger",children:(0,t.jsxs)(n.p,{children:["Note that it ",(0,t.jsx)(n.strong,{children:"SHOULD BE AVOIDED IN PRODUCTION ENVIRONMENTS!!!"})," Because it returns everything at once, and it can be very taxing on the system. It should only be used in development."]})}),"\n",(0,t.jsx)("br",{}),"\n",(0,t.jsx)(n.h3,{id:"--command-5-set",children:"- Command 5: SET"}),"\n",(0,t.jsx)(n.h4,{id:"syntax-4",children:"Syntax"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"SET foo-key 42\n"})}),"\n",(0,t.jsx)(n.h4,{id:"description-3",children:"Description"}),"\n",(0,t.jsx)(n.p,{children:"Set key to hold a string value. If key already holds a value, it is overwritten, regardless of its type. Any previous time to live associated with the key is discarded on successful SET operation."}),"\n",(0,t.jsx)(n.p,{children:"Upon successful set, returns:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'"OK"\n'})}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"SET"})," command supports a set of options that modify its behavior:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"EX"})," seconds -- Set the specified expire time, in seconds (a positive integer). An error is returned when seconds is invalid."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"PX"})," milliseconds -- Set the specified expire time, in milliseconds (a positive integer)."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"EXAT"})," timestamp-seconds -- Set the specified Unix time at which the key will expire, in seconds (a positive integer)."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"PXAT"})," timestamp-milliseconds -- Set the specified Unix time at which the key will expire, in milliseconds (a positive integer)."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"NX"})," -- Only set the key if it does not already exist."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"XX"})," -- Only set the key if it already exists."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"KEEPTTL"})," -- Retain the time to live associated with the key."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"GET"})," -- Return the old string stored at key, or nil if key did not exist. An error is returned and SET aborted if the value stored at key is not a string."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Complex example:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'SET some-key "this value will expire in a minute" EX 60\n'})}),"\n",(0,t.jsx)(n.admonition,{type:"warning",children:(0,t.jsxs)(n.p,{children:["Note: Since the SET command options can replace ",(0,t.jsx)(n.code,{children:"SETNX"}),", ",(0,t.jsx)(n.code,{children:"SETEX"}),", ",(0,t.jsx)(n.code,{children:"PSETEX"}),", ",(0,t.jsx)(n.code,{children:"GETSET"}),", it is possible that in future versions of Redis these commands will be deprecated and finally removed."]})}),"\n",(0,t.jsx)("br",{}),"\n",(0,t.jsx)(n.h3,{id:"--command-6-exists",children:"- Command 6: EXISTS"}),"\n",(0,t.jsx)(n.h4,{id:"syntax-5",children:"Syntax"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"EXISTS key [key ...]\n"})}),"\n",(0,t.jsx)(n.h4,{id:"description-4",children:"Description"}),"\n",(0,t.jsxs)(n.p,{children:["Returns 1 if a key (keys) exists. Returns 0 if does not exist.",(0,t.jsx)(n.br,{}),"\n","Can be used on multiple keys at once.\nWhen querying multiple keys, the return integer specifies the number of keys that exist from those specified as arguments."]}),"\n",(0,t.jsx)("br",{}),"\n",(0,t.jsx)(n.h3,{id:"--command-7-get",children:"- Command 7: GET"}),"\n",(0,t.jsx)(n.h4,{id:"syntax-6",children:"Syntax"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"GET key\n"})}),"\n",(0,t.jsx)(n.h4,{id:"description-5",children:"Description"}),"\n",(0,t.jsxs)(n.p,{children:["Get the value of key. If the key does not exist the special value ",(0,t.jsx)(n.code,{children:"nil"})," is returned."]}),"\n",(0,t.jsxs)(n.p,{children:["An ",(0,t.jsx)(n.strong,{children:"error is returned if the value"})," stored at key ",(0,t.jsx)(n.strong,{children:"is not a string"}),", because ",(0,t.jsx)(n.code,{children:"GET"})," ",(0,t.jsx)(n.strong,{children:"only handles string values"}),"."]}),"\n",(0,t.jsx)("br",{}),"\n",(0,t.jsx)(n.h3,{id:"--command-7-getex",children:"- Command 7: GETEX"}),"\n",(0,t.jsx)(n.h4,{id:"syntax-7",children:"Syntax"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"GETEX key [EX seconds | PX milliseconds | EXAT unix-time-seconds |\n  PXAT unix-time-milliseconds | PERSIST]\n"})}),"\n",(0,t.jsx)(n.h4,{id:"description-6",children:"Description"}),"\n",(0,t.jsx)(n.p,{children:"Get the value of key and optionally set its expiration. GETEX is similar to GET, but is a write command with additional options."}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"GETEX"})," command supports a set of options that modify its behavior:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"EX"})," ",(0,t.jsx)(n.em,{children:"seconds"})," -- Set the specified expire time, in seconds."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"PX"})," ",(0,t.jsx)(n.em,{children:"milliseconds"})," -- Set the specified expire time, in milliseconds."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"EXAT"})," ",(0,t.jsx)(n.em,{children:"timestamp-seconds"})," -- Set the specified Unix time at which the key will expire, in seconds."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"PXAT"})," ",(0,t.jsx)(n.em,{children:"timestamp-milliseconds"})," -- Set the specified Unix time at which the key will expire, in milliseconds."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"PERSIST"})," -- Remove the time to live associated with the key."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Examples:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'redis> SET mykey "Hello"\n"OK"\nredis> GETEX mykey\n"Hello"\nredis> TTL mykey\n(integer) -1\nredis> GETEX mykey EX 60\n"Hello"\nredis> TTL mykey\n(integer) 60\nredis>\n'})}),"\n",(0,t.jsx)("br",{}),"\n",(0,t.jsx)(n.h3,{id:"--command-8-ttl",children:"- Command 8: TTL"}),"\n",(0,t.jsx)(n.h4,{id:"syntax-8",children:"Syntax"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"TTL key\n"})}),"\n",(0,t.jsx)(n.h4,{id:"description-7",children:"Description"}),"\n",(0,t.jsx)(n.p,{children:"Returns the remaining time to live of a key that has a timeout. This introspection capability allows a Redis client to check how many seconds a given key will continue to be part of the dataset."}),"\n",(0,t.jsxs)(n.p,{children:["In Redis 2.6 or older the command returns ",(0,t.jsx)(n.code,{children:"-1"})," if the key does not exist or if the key exists but has no associated expire."]}),"\n",(0,t.jsx)(n.p,{children:"Starting with Redis 2.8 the return value in case of error changed:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["The command returns ",(0,t.jsx)(n.code,{children:"-2"})," if the key does not exist."]}),"\n",(0,t.jsxs)(n.li,{children:["The command returns ",(0,t.jsx)(n.code,{children:"-1"})," if the key exists but has no associated expire."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["You also have the ",(0,t.jsx)(n.code,{children:"PTTL"})," command that ",(0,t.jsx)(n.strong,{children:"returns the same information only in milliseconds"})," resolution (Only available in Redis 2.6 or greater)."]}),"\n",(0,t.jsx)(n.h3,{id:"--command-9-del",children:"- Command 9: DEL"}),"\n",(0,t.jsx)(n.h4,{id:"syntax-9",children:"Syntax"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"DEL key [key ...]\n"})}),"\n",(0,t.jsx)(n.h4,{id:"description-8",children:"Description"}),"\n",(0,t.jsx)(n.p,{children:"Removes the specified keys. A key is ignored if it does not exist."}),"\n",(0,t.jsx)(n.p,{children:"Examples:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'DEL no-exist-key\n(integer) 0\n> SET key1 "Hello"\n"OK"\n> SET key2 "World"\n"OK"\n> DEL key1 key2 key3\n(integer) 2\n'})})]})}function h(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},7010:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>r});var i=s(758);const t={},d=i.createContext(t);function l(e){const n=i.useContext(d);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),i.createElement(d.Provider,{value:n},e.children)}}}]);