"use strict";(self.webpackChunkdocusaurus_guides=self.webpackChunkdocusaurus_guides||[]).push([[905],{7843:(e,o,n)=>{n.r(o),n.d(o,{assets:()=>c,contentTitle:()=>u,default:()=>d,frontMatter:()=>i,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"programming/devops/prometheus/custom-configuration","title":"Custom Configuration","description":"To provide your own configuration, there are several options. Here are two examples.","source":"@site/docs/programming/devops/prometheus/custom-configuration.md","sourceDirName":"programming/devops/prometheus","slug":"/programming/devops/prometheus/custom-configuration","permalink":"/guides/he/docs/programming/devops/prometheus/custom-configuration","draft":false,"unlisted":false,"editUrl":"https://github.com/talkohavy/guides/docs/programming/devops/prometheus/custom-configuration.md","tags":[],"version":"current","frontMatter":{},"sidebar":"mySidebar","previous":{"title":"- Named Volume","permalink":"/guides/he/docs/programming/devops/prometheus/named-volume"},"next":{"title":"- ELK Stack","permalink":"/guides/he/docs/programming/elk"}}');var r=n(5813),s=n(3546);const i={},u="Custom Configuration",c={},a=[{value:"Bind-mount your <code>prometheus.yml</code> from the host by running:",id:"bind-mount-your-prometheusyml-from-the-host-by-running",level:2},{value:"bind-mount the directory containing <code>prometheus.yml</code> onto <code>/etc/prometheus</code> by running:",id:"bind-mount-the-directory-containing-prometheusyml-onto-etcprometheus-by-running",level:2},{value:"Use a custom image",id:"use-a-custom-image",level:2}];function m(e){const o={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.header,{children:(0,r.jsx)(o.h1,{id:"custom-configuration",children:"Custom Configuration"})}),"\n",(0,r.jsx)(o.p,{children:"To provide your own configuration, there are several options. Here are two examples."}),"\n",(0,r.jsxs)(o.h2,{id:"bind-mount-your-prometheusyml-from-the-host-by-running",children:["Bind-mount your ",(0,r.jsx)(o.code,{children:"prometheus.yml"})," from the host by running:"]}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{className:"language-bash",children:"docker run \\\n    -p 9090:9090 \\\n    -v /path/to/prometheus.yml:/etc/prometheus/prometheus.yml \\\n    prom/prometheus\n"})}),"\n",(0,r.jsxs)(o.h2,{id:"bind-mount-the-directory-containing-prometheusyml-onto-etcprometheus-by-running",children:["bind-mount the directory containing ",(0,r.jsx)(o.code,{children:"prometheus.yml"})," onto ",(0,r.jsx)(o.code,{children:"/etc/prometheus"})," by running:"]}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{className:"language-bash",children:"docker run \\\n    -p 9090:9090 \\\n    -v /path/to/config:/etc/prometheus \\\n    prom/prometheus\n"})}),"\n",(0,r.jsx)(o.h2,{id:"use-a-custom-image",children:"Use a custom image"}),"\n",(0,r.jsx)(o.p,{children:"To avoid managing a file on the host and bind-mount it, the configuration can be baked into the image. This works well if the configuration itself is rather static and the same across all environments."}),"\n",(0,r.jsxs)(o.p,{children:["For this, create a new directory with a Prometheus configuration and a ",(0,r.jsx)(o.code,{children:"Dockerfile"})," like this:"]}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{className:"language-bash",children:"FROM prom/prometheus\nADD prometheus.yml /etc/prometheus/\n"})}),"\n",(0,r.jsx)(o.p,{children:"Now build and run it:"}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{className:"language-bash",children:"docker build -t my-prometheus .\ndocker run -p 9090:9090 my-prometheus\n"})})]})}function d(e={}){const{wrapper:o}={...(0,s.R)(),...e.components};return o?(0,r.jsx)(o,{...e,children:(0,r.jsx)(m,{...e})}):m(e)}},3546:(e,o,n)=>{n.d(o,{R:()=>i,x:()=>u});var t=n(9729);const r={},s=t.createContext(r);function i(e){const o=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function u(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),t.createElement(s.Provider,{value:o},e.children)}}}]);