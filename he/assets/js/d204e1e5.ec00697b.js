"use strict";(self.webpackChunkdocusaurus_guides=self.webpackChunkdocusaurus_guides||[]).push([[413],{5184:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>d,frontMatter:()=>r,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"programming/devops/helm/introduction","title":"Helm Introduction","description":"1. What is Helm?","source":"@site/docs/programming/devops/helm/introduction.md","sourceDirName":"programming/devops/helm","slug":"/programming/devops/helm/introduction","permalink":"/guides/he/docs/programming/devops/helm/introduction","draft":false,"unlisted":false,"editUrl":"https://github.com/talkohavy/guides/docs/programming/devops/helm/introduction.md","tags":[],"version":"current","frontMatter":{},"sidebar":"mySidebar","previous":{"title":"- Helm","permalink":"/guides/he/docs/helm"},"next":{"title":"- Architecture & Concepts","permalink":"/guides/he/docs/programming/devops/helm/helm-architecture-and-concepts"}}');var o=t(5813),i=t(3546);const r={},l="Helm Introduction",a={},c=[{value:"1. What is Helm?",id:"1-what-is-helm",level:2},{value:"2. Why Helm?",id:"2-why-helm",level:2},{value:"- Reason 1: Intelligent Deployments",id:"--reason-1-intelligent-deployments",level:3},{value:"- Reason 2: Lifecycle Hooks",id:"--reason-2-lifecycle-hooks",level:3},{value:"- Reason 3: Security",id:"--reason-3-security",level:3}];function h(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"helm-introduction",children:"Helm Introduction"})}),"\n",(0,o.jsx)(n.h2,{id:"1-what-is-helm",children:"1. What is Helm?"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Helm"})," is a ",(0,o.jsx)(n.strong,{children:"package manager"})," for ",(0,o.jsx)(n.strong,{children:"kubernetes"}),", that makes it easy to take applications and services that are highly repeatable or get used in a lot of different scenarios and it makes it easier to deploy them to a typical kubernetes cluster. chart = template. Your chart is going to consist of all the files that you're going to be templating here.\nHelm talks to a component that needs to be installed on your kubernetes cluster called ",(0,o.jsx)(n.strong,{children:"Tiller"}),'. Tiller is basically just the server-side component of helm. It\'s gonna take the commands you\'ve sent with helm client, and turn it into something that your kubernetes cluster will understand. Now, this becomes extra useful when you wanna do things like "upgrade to a new configuration" or "rollback to an older revision".\nWhat Helm will also give you is that it actually keeps a version history for you of different configurations you\'ve sent over the wire with help, so you can rollback to the last known working configuration whenever you want to.\nGood things to template:']}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["the ",(0,o.jsx)(n.code,{children:"namespace"})]}),"\n",(0,o.jsxs)(n.li,{children:["the ",(0,o.jsx)(n.code,{children:"selector"})," name"]}),"\n",(0,o.jsxs)(n.li,{children:["the ",(0,o.jsx)(n.code,{children:"image"}),":","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["its ",(0,o.jsx)(n.code,{children:"name"})]}),"\n",(0,o.jsxs)(n.li,{children:["its ",(0,o.jsx)(n.code,{children:"tag"})]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["the ",(0,o.jsx)(n.code,{children:"configmap.name"}),"\nCreate a NOTES.txt file, which outputs to the user on every upgrade command.\nThis file could also be templated.\nYou can create 1 values.yaml file for production and one for development."]}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"2-why-helm",children:"2. Why Helm?"}),"\n",(0,o.jsx)(n.h3,{id:"--reason-1-intelligent-deployments",children:"- Reason 1: Intelligent Deployments"}),"\n",(0,o.jsxs)(n.p,{children:["Helm is very intelligent when it comes to deployments. When we directly work with Kubernetes, we have to explicitly mention the order in which the resources should be created. For example, ",(0,o.jsx)(n.strong,{children:"configmaps"})," and ",(0,o.jsx)(n.strong,{children:"secrets"})," should be usually created before ",(0,o.jsx)(n.strong,{children:"deployment"})," and ",(0,o.jsx)(n.strong,{children:"services"}),". Helm knows to consider the correct order in which Kubernetes resources should be created, and it will automatically do it for us."]}),"\n",(0,o.jsx)(n.h3,{id:"--reason-2-lifecycle-hooks",children:"- Reason 2: Lifecycle Hooks"}),"\n",(0,o.jsx)(n.p,{children:"Helm also uses lifecycle hooks."}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsxs)(n.strong,{children:[(0,o.jsx)(n.code,{children:"helm"})," allows us to write hooks"]})," that can be hooked into the lifecycle events. So,\nif there's any work, which is not directly related to Kubernetes, but it has to be done during the installation or the upgrade, you can do that using those hooks."]}),"\n",(0,o.jsx)(n.p,{children:"Some popular lifecycle hooks are:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"installation"}),"\n",(0,o.jsx)(n.li,{children:"upgrade"}),"\n",(0,o.jsx)(n.li,{children:"uninstallation"}),"\n",(0,o.jsx)(n.li,{children:"tests"}),"\n",(0,o.jsx)(n.li,{children:"etc."}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Examples to what to use these hooks for:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"writing data to database"}),"\n",(0,o.jsx)(n.li,{children:"backing up a database"}),"\n",(0,o.jsx)(n.li,{children:"making sure that the Kubernetes cluster is in a required state before we do an installation."}),"\n",(0,o.jsxs)(n.li,{children:["Replace the contents of a PLACEHOLDER in a file (e.g. ",(0,o.jsx)(n.code,{children:"BASE_URL"})," in a frontend app)"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Such work can be put into a hook, and it can be hooked into helm's installation or upgrade, or uninstallation lifecycle."}),"\n",(0,o.jsx)(n.h3,{id:"--reason-3-security",children:"- Reason 3: Security"}),"\n",(0,o.jsx)(n.p,{children:"Helm has built-in support to ensure that charts which are downloaded from a central repository are secured."}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.strong,{children:"charts can be signed"})," using cryptography, and hashes can be generated, and when we install these charts, we're pulling them from the central repos, ",(0,o.jsx)(n.strong,{children:"helm will verify"})," that these charts are really from the source we are expecting and that they were not tweaked by any hacker."]})]})}function d(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}},3546:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>l});var s=t(9729);const o={},i=s.createContext(o);function r(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);