"use strict";(self.webpackChunkdocusaurus_guides=self.webpackChunkdocusaurus_guides||[]).push([[3535],{7936:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>a,frontMatter:()=>d,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"programming/web/window","title":"Window","description":"window.self & WindowProxy","source":"@site/docs/programming/web/window.md","sourceDirName":"programming/web","slug":"/programming/web/window","permalink":"/guides/he/docs/programming/web/window","draft":false,"unlisted":false,"editUrl":"https://github.com/talkohavy/guides/docs/programming/web/window.md","tags":[],"version":"current","frontMatter":{},"sidebar":"mySidebar","previous":{"title":"- Web Worker","permalink":"/guides/he/docs/programming/web/web-worker"},"next":{"title":"- What is Long-Polling","permalink":"/guides/he/docs/programming/what-is-long-polling"}}');var r=i(6070),s=i(7010);const d={},t="Window",c={},l=[{value:"<code>window.self</code> &amp; WindowProxy",id:"windowself--windowproxy",level:2},{value:"<code>window.open()</code>",id:"windowopen",level:2},{value:"Syntax",id:"syntax",level:3},{value:"<code>window.parent</code>",id:"windowparent",level:2},{value:"<code>window.top</code>",id:"windowtop",level:2},{value:"<code>window.isSecureContext</code>",id:"windowissecurecontext",level:2}];function h(e){const n={br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"window",children:"Window"})}),"\n",(0,r.jsxs)(n.h2,{id:"windowself--windowproxy",children:[(0,r.jsx)(n.code,{children:"window.self"})," & WindowProxy"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"window.self"})," === ",(0,r.jsx)(n.code,{children:"window"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"self"})," is just a reference to the ",(0,r.jsx)(n.strong,{children:"global"})," ",(0,r.jsx)(n.code,{children:"window"})," ",(0,r.jsx)(n.strong,{children:"object"})," in browsers."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"WindowProxy"})," is an internal mechanism that makes things like iframes and cross-origin windows ",(0,r.jsx)(n.em,{children:"appear"})," like windows, while actually handling some safety and redirection under the hood."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"So what's self?"})}),"\n",(0,r.jsx)(n.p,{children:"In the browser:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"console.log(self === window); // true\n"})}),"\n",(0,r.jsxs)(n.p,{children:["It's literally just another name for ",(0,r.jsx)(n.code,{children:"window"}),". People often use ",(0,r.jsx)(n.code,{children:"self"})," inside web workers (where there's no ",(0,r.jsx)(n.code,{children:"window"}),"), but in the main thread, it's basically the same as ",(0,r.jsx)(n.code,{children:"window"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"So this:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"if (window.self === window.top) {\n  console.log('This window is not in an iframe.');\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"...is a way to check if you're not inside an iframe."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["Then what the heck is ",(0,r.jsx)(n.code,{children:"WindowProxy"}),"?"]})}),"\n",(0,r.jsx)(n.p,{children:"That's where things get weird and internal."}),"\n",(0,r.jsxs)(n.p,{children:["When you access ",(0,r.jsx)(n.code,{children:"window.frames[0]"})," or ",(0,r.jsx)(n.code,{children:"window.open(...)"}),", you get back an object that ",(0,r.jsx)(n.em,{children:"looks"})," like a window, but it's actually a ",(0,r.jsx)(n.code,{children:"WindowProxy"}),".",(0,r.jsx)(n.br,{}),"\n",(0,r.jsxs)(n.strong,{children:["A ",(0,r.jsx)(n.code,{children:"WindowProxy"})," is like a magic wrapper"]})," that forwards your calls to the actual ",(0,r.jsx)(n.code,{children:"Window"})," object - but only if you're allowed to."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Why?"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["It helps enforce ",(0,r.jsx)(n.strong,{children:"cross-origin security"}),"."]}),"\n",(0,r.jsx)(n.li,{children:"If you try to access properties on a window from another domain, the proxy can block you."}),"\n",(0,r.jsxs)(n.li,{children:["If the frame navigates to another page (even the same origin), the proxy stays the same, but the underlying ",(0,r.jsx)(n.code,{children:"Window"})," object changes."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["The idea is: ",(0,r.jsx)(n.strong,{children:"the thing you have a reference to is stable"})," (",(0,r.jsx)(n.code,{children:"WindowProxy"}),"), even though what's behind it might change (",(0,r.jsx)(n.code,{children:"Window"}),")."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Bottom line"})}),"\n",(0,r.jsxs)(n.p,{children:["You almost never have to worry about ",(0,r.jsx)(n.code,{children:"WindowProxy"})," directly unless you're doing iframe or cross-origin work. If you're just wondering what ",(0,r.jsx)(n.code,{children:"self"})," is \u2014 it's a simple alias for ",(0,r.jsx)(n.code,{children:"window"}),". Nothing fancy. Just the beginning of a deep dive \ud83d\ude04"]}),"\n",(0,r.jsx)(n.h2,{id:"windowopen",children:(0,r.jsx)(n.code,{children:"window.open()"})}),"\n",(0,r.jsx)(n.p,{children:"The open() method of the Window interface loads a specified resource into a new or existing browsing context (that is, a tab, a window, or an iframe) under a specified name."}),"\n",(0,r.jsx)(n.h3,{id:"syntax",children:"Syntax"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"open()\nopen(url)\nopen(url, target)\nopen(url, target, windowFeatures)\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"windowparent",children:(0,r.jsx)(n.code,{children:"window.parent"})}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"Window.parent"})," property is a reference to the parent of the current window or subframe."]}),"\n",(0,r.jsx)(n.p,{children:"If a window does not have a parent, its parent property is a reference to itself."}),"\n",(0,r.jsxs)(n.p,{children:["When a window is loaded in an ",(0,r.jsx)(n.code,{children:"<iframe>"}),", ",(0,r.jsx)(n.code,{children:"<object>"}),", or ",(0,r.jsx)(n.code,{children:"<frame>"}),", its parent is the window with the element embedding the window."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"windowtop",children:(0,r.jsx)(n.code,{children:"window.top"})}),"\n",(0,r.jsx)(n.p,{children:"Returns a reference to the topmost window in the window hierarchy."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"windowissecurecontext",children:(0,r.jsx)(n.code,{children:"window.isSecureContext"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"window.isSecureContext"})," returns true when the page is being served in a secure context, which usually means:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["The page is served over ",(0,r.jsx)(n.strong,{children:"HTTPS"})]}),"\n",(0,r.jsxs)(n.li,{children:["Or it's running on ",(0,r.jsx)(n.strong,{children:"localhost"})," (which is treated as secure)"]}),"\n"]})]})}function a(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},7010:(e,n,i)=>{i.d(n,{R:()=>d,x:()=>t});var o=i(758);const r={},s=o.createContext(r);function d(e){const n=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);