<!doctype html>
<html lang="he" dir="rtl" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-programming/devops/docker/how-to-create-a-dockerfile" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.0">
<title data-rh="true">How to create a Dockerfile | ✨ Super Guides ✨</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://talkohavy.github.io/guides/he/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://talkohavy.github.io/guides/he/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://talkohavy.github.io/guides/he/docs/programming/devops/docker/how-to-create-a-dockerfile/"><meta data-rh="true" property="og:locale" content="he"><meta data-rh="true" property="og:locale:alternate" content="en_US"><meta data-rh="true" name="docusaurus_locale" content="he"><meta data-rh="true" name="docsearch:language" content="he"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="How to create a Dockerfile | ✨ Super Guides ✨"><meta data-rh="true" name="description" content="A Dockerfile is a text document needed for the docker build process."><meta data-rh="true" property="og:description" content="A Dockerfile is a text document needed for the docker build process."><link data-rh="true" rel="icon" href="/guides/he/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://talkohavy.github.io/guides/he/docs/programming/devops/docker/how-to-create-a-dockerfile/"><link data-rh="true" rel="alternate" href="https://talkohavy.github.io/guides/docs/programming/devops/docker/how-to-create-a-dockerfile/" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://talkohavy.github.io/guides/he/docs/programming/devops/docker/how-to-create-a-dockerfile/" hreflang="he"><link data-rh="true" rel="alternate" href="https://talkohavy.github.io/guides/docs/programming/devops/docker/how-to-create-a-dockerfile/" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Programming","item":"https://talkohavy.github.io/guides/he/docs/programming"},{"@type":"ListItem","position":2,"name":"- DevOps","item":"https://talkohavy.github.io/guides/he/docs/devops"},{"@type":"ListItem","position":3,"name":"- Docker","item":"https://talkohavy.github.io/guides/he/docs/docker"},{"@type":"ListItem","position":4,"name":"- How to Create a Dockerfile","item":"https://talkohavy.github.io/guides/he/docs/programming/devops/docker/how-to-create-a-dockerfile"}]}</script><link rel="alternate" type="application/rss+xml" href="/guides/he/blog/rss.xml" title="✨ Super Guides ✨ RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/guides/he/blog/atom.xml" title="✨ Super Guides ✨ Atom Feed"><link rel="stylesheet" href="/guides/he/assets/css/styles.86cb840b.css">
<script src="/guides/he/assets/js/runtime~main.0f6f03f1.js" defer="defer"></script>
<script src="/guides/he/assets/js/main.b3ed7376.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/guides/he/img/logo.svg"><link rel="preload" as="image" href="/guides/he/img/logo_dark.svg"><div role="region" aria-label="דלג לתוכן הראשי"><a class="skipToContent_lVIW" href="#__docusaurus_skipToContent_fallback">דלג לתוכן הראשי</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/guides/he/"><div class="navbar__logo"><img src="/guides/he/img/logo.svg" alt="My Site Logo" class="themedComponent_gHQ7 themedComponent--light_dJCD"><img src="/guides/he/img/logo_dark.svg" alt="My Site Logo" class="themedComponent_gHQ7 themedComponent--dark_OQFa"></div><b class="navbar__title text--truncate">Home</b></a><a class="navbar__item navbar__link" alt="Developer Guides" href="/guides/he/docs/programming/">Guides</a><a class="navbar__item navbar__link" href="/guides/he/blog/">Blogs</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_ojYu"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>עברית</a><ul class="dropdown__menu"><li><a href="/guides/docs/programming/devops/docker/how-to-create-a-dockerfile/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en-US">English</a></li><li><a href="/guides/he/docs/programming/devops/docker/how-to-create-a-dockerfile/" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="he">עברית</a></li></ul></div><a href="https://github.com/talkohavy/guides/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="toggle_SoAS colorModeToggle_ytaa"><button class="clean-btn toggleButton_eJOA toggleButtonDisabled_Oh0U" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_Uj_h lightToggleIcon_OZc1"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_Uj_h darkToggleIcon_xLUR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_Uj_h systemToggleIcon_LrY9"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_hCi0"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_Cbrb"><div class="docsWrapper_z7MQ"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_xxzf" type="button"></button><div class="docRoot_hkoh"><aside class="theme-doc-sidebar-container docSidebarContainer_jMXe"><div class="sidebarViewport_rtGW"><div class="sidebar_XN0P"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_kVs8"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_txRa menu__link menu__link--sublist" href="/guides/he/docs/category/photoshop-guides/"><span title="Photoshop" class="categoryLinkLabel_Wkmj">Photoshop</span></a><button aria-label="Expand sidebar category &#x27;Photoshop&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_txRa menu__link menu__link--sublist menu__link--active" href="/guides/he/docs/programming/"><span title="Programming" class="categoryLinkLabel_Wkmj">Programming</span></a><button aria-label="Collapse sidebar category &#x27;Programming&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/aws-kubernetes/"><span title="- AWS Kubernetes" class="linkLabel_rk4V">- AWS Kubernetes</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/certificates/"><span title="- Certificates" class="linkLabel_rk4V">- Certificates</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/crypto/"><span title="- Crypto" class="linkLabel_rk4V">- Crypto</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/css/"><span title="- CSS" class="linkLabel_rk4V">- CSS</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_txRa menu__link menu__link--sublist" tabindex="0" href="/guides/he/docs/db/"><span title="- Databases" class="categoryLinkLabel_Wkmj">- Databases</span></a><button aria-label="Expand sidebar category &#x27;- Databases&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_txRa menu__link menu__link--sublist menu__link--active" tabindex="0" href="/guides/he/docs/devops/"><span title="- DevOps" class="categoryLinkLabel_Wkmj">- DevOps</span></a><button aria-label="Collapse sidebar category &#x27;- DevOps&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_txRa menu__link menu__link--sublist menu__link--active" tabindex="0" href="/guides/he/docs/docker/"><span title="- Docker" class="categoryLinkLabel_Wkmj">- Docker</span></a><button aria-label="Collapse sidebar category &#x27;- Docker&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/devops/docker/most-useful-commands/"><span title="- Most Useful Commands" class="linkLabel_rk4V">- Most Useful Commands</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/devops/docker/docker-commands/"><span title="- All Docker Commands" class="linkLabel_rk4V">- All Docker Commands</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/guides/he/docs/programming/devops/docker/how-to-create-a-dockerfile/"><span title="- How to Create a Dockerfile" class="linkLabel_rk4V">- How to Create a Dockerfile</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/devops/docker/avoiding-architecture-mismatch/"><span title="- Avoiding Architecture Mismatch" class="linkLabel_rk4V">- Avoiding Architecture Mismatch</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/devops/docker/docker-compose-commands/"><span title="- Docker Compose Commands" class="linkLabel_rk4V">- Docker Compose Commands</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/devops/docker/how-to-create-a-docker-compose-file/"><span title="- How to Create a Docker-Compose File" class="linkLabel_rk4V">- How to Create a Docker-Compose File</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_txRa menu__link menu__link--sublist" tabindex="0" href="/guides/he/docs/kubernetes/"><span title="- Kubernetes" class="categoryLinkLabel_Wkmj">- Kubernetes</span></a><button aria-label="Expand sidebar category &#x27;- Kubernetes&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/devops/helm/"><span title="- Helm" class="linkLabel_rk4V">- Helm</span></a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/design-patterns/"><span title="- Design Patterns" class="linkLabel_rk4V">- Design Patterns</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/elk/"><span title="- ELK Stack" class="linkLabel_rk4V">- ELK Stack</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/git/"><span title="- Git" class="linkLabel_rk4V">- Git</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_txRa menu__link menu__link--sublist" tabindex="0" href="/guides/he/docs/js/"><span title="- Javascript" class="categoryLinkLabel_Wkmj">- Javascript</span></a><button aria-label="Expand sidebar category &#x27;- Javascript&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/micro-frontends/"><span title="- Micro-Frontends" class="linkLabel_rk4V">- Micro-Frontends</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/nest/"><span title="- NestJS" class="linkLabel_rk4V">- NestJS</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/node/"><span title="- Node" class="linkLabel_rk4V">- Node</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/npm/"><span title="- Npm publish a package" class="linkLabel_rk4V">- Npm publish a package</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/python-server/"><span title="- Python Server" class="linkLabel_rk4V">- Python Server</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/regex/"><span title="- Regex" class="linkLabel_rk4V">- Regex</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/saml/"><span title="- SAML" class="linkLabel_rk4V">- SAML</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_txRa menu__link menu__link--sublist" tabindex="0" href="/guides/he/docs/socket-io/"><span title="- Socket IO" class="categoryLinkLabel_Wkmj">- Socket IO</span></a><button aria-label="Expand sidebar category &#x27;- Socket IO&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_txRa menu__link menu__link--sublist" tabindex="0" href="/guides/he/docs/software-concepts/"><span title="- Software Concepts" class="categoryLinkLabel_Wkmj">- Software Concepts</span></a><button aria-label="Expand sidebar category &#x27;- Software Concepts&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/software-architecture/"><span title="- Software Architecture" class="linkLabel_rk4V">- Software Architecture</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/ssh/"><span title="- SSH" class="linkLabel_rk4V">- SSH</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/storybook/"><span title="- Storybook" class="linkLabel_rk4V">- Storybook</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/syntax-highlighting/"><span title="- Syntax Highlighting" class="linkLabel_rk4V">- Syntax Highlighting</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_txRa menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/guides/he/docs/programming/terminal-god/"><span title="- Terminal God" class="categoryLinkLabel_Wkmj">- Terminal God</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_txRa menu__link menu__link--sublist" tabindex="0" href="/guides/he/docs/tests/"><span title="- Tests" class="categoryLinkLabel_Wkmj">- Tests</span></a><button aria-label="Expand sidebar category &#x27;- Tests&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/typescript/"><span title="- TypeScript" class="linkLabel_rk4V">- TypeScript</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_txRa menu__link menu__link--sublist" tabindex="0" href="/guides/he/docs/web/"><span title="- Web" class="categoryLinkLabel_Wkmj">- Web</span></a><button aria-label="Expand sidebar category &#x27;- Web&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/what-is-long-polling/"><span title="- What is Long-Polling" class="linkLabel_rk4V">- What is Long-Polling</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_txRa menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/guides/he/docs/video-editing/ffmpeg/"><span title="Video Editing" class="categoryLinkLabel_Wkmj">Video Editing</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_txRa menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/guides/he/docs/job-interview/"><span title="MISC" class="categoryLinkLabel_Wkmj">MISC</span></a></div></li></ul></nav><button type="button" title="סגור" aria-label="סגור" class="button button--secondary button--outline collapseSidebarButton_ZYcc"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_ZqC4"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_XFui"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_E9r3"><div class="docItemContainer_mr36"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_pNRD" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/guides/he/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_TpoG"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/guides/he/docs/programming/"><span>Programming</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/guides/he/docs/devops/"><span>- DevOps</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/guides/he/docs/docker/"><span>- Docker</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">- How to Create a Dockerfile</span></li></ul></nav><div class="tocCollapsible_GTrj theme-doc-toc-mobile tocMobile_gZL3"><button type="button" class="clean-btn tocCollapsibleButton_Jsr0">בעמוד זה</button></div><div class="theme-doc-markdown markdown"><header><h1>How to create a Dockerfile</h1></header>
<p>A <strong>Dockerfile</strong> is a text document needed for the <code>docker build</code> process.<br>
<!-- -->A <strong>Dockerfile</strong> contains all the instructions a user could call on the command line to assemble an image. A <strong>Dockerfile</strong> must begin with a <code>FROM</code> instruction.</p>
<p>When you call the command <code>docker build</code> (or <code>docker-compose build</code>), docker builds your image by reading the instructions from a target <strong>Dockerfile</strong>. Docker then runs the instructions inside it in a sequential order.</p>
<p>Here is a basic <strong>Dockerfile</strong> you can copy:</p>
<div class="language-dockerfile codeBlockContainer_bD1M theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Zqy2"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_GOPR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_c96g"><span class="token-line" style="color:#393A34"><span class="token plain">FROM node</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CMD [&quot;echo&quot;, &quot;hello world&quot;]</span><br></span></code></pre></div></div>
<p><strong><font size="5"></font></strong></p>
<h2 class="anchor anchorWithStickyNavbar_Pyil" id="--instruction-1-from">- Instruction 1: FROM<a href="#--instruction-1-from" class="hash-link" aria-label="קישור ישיר אל - Instruction 1: FROM" title="קישור ישיר אל - Instruction 1: FROM" translate="no">​</a></h2>
<div class="language-dockerfile codeBlockContainer_bD1M theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Zqy2"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_GOPR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_c96g"><span class="token-line" style="color:#393A34"><span class="token plain">FROM node:19-alpine3.16</span><br></span></code></pre></div></div>
<p><strong>Description:</strong></p>
<p>The <code>FROM</code> instruction initializes a new build stage and sets the base image for subsequent instructions.</p>
<p>A <strong>Dockerfile</strong> must begin with a <code>FROM</code> instruction. <code>FROM</code> may appear after globally scoped <code>ARG</code>&#x27;s, comments, or parser directives. The <code>FROM</code> instruction specifies the parent image.</p>
<h2 class="anchor anchorWithStickyNavbar_Pyil" id="--instruction-2-arg">- Instruction 2: ARG<a href="#--instruction-2-arg" class="hash-link" aria-label="קישור ישיר אל - Instruction 2: ARG" title="קישור ישיר אל - Instruction 2: ARG" translate="no">​</a></h2>
<div class="language-dockerfile codeBlockContainer_bD1M theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Zqy2"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_GOPR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_c96g"><span class="token-line" style="color:#393A34"><span class="token plain">ARG %name%[=%default value%]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ARG CODE_VERSION=latest</span><br></span></code></pre></div></div>
<p><strong>Description:</strong></p>
<p>The <strong>ARG</strong> instruction defines a variable that users can pass at build-time to the builder with the <code>docker build</code> command using the <code>--build-arg</code> flag.</p>
<div class="language-bash codeBlockContainer_bD1M theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Zqy2"><pre tabindex="0" class="prism-code language-bash codeBlock_GOPR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_c96g"><span class="token-line" style="color:#393A34"><span class="token plain">docker build --build-arg &lt;var-name&gt;=&lt;value&gt;</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-warning admonition_pAsN alert alert--warning"><div class="admonitionHeading_gTqc"><span class="admonitionIcon_d6Jv"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_sfQF"><p>If a user specifies a build argument that was not defined in the Dockerfile, the build outputs a warning.</p><div class="language-sh codeBlockContainer_bD1M theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Zqy2"><pre tabindex="0" class="prism-code language-sh codeBlock_GOPR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_c96g"><span class="token-line" style="color:#393A34"><span class="token plain">[Warning] One or more build-args [foo] were not consumed.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">LOOK OUT!!!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">It is not recommended to use build-time variables for passing secrets like GitHub keys, user credentials etc. Build-time variable values are visible to any user of the image with the docker history command.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Refer to the RUN --mount=type=secret section to learn about secure ways to use secrets when building images.</span><br></span></code></pre></div></div></div></div>
<p><strong>Setting a default values to an ARG</strong></p>
<p>Typically, an <strong>ARG</strong>&#x27;s value is set from out side, and the value is used inside like so:</p>
<div class="language-dockerfile codeBlockContainer_bD1M theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Zqy2"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_GOPR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_c96g"><span class="token-line" style="color:#393A34"><span class="token plain">FROM busybox</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ARG user1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ARG buildNumber</span><br></span></code></pre></div></div>
<p>You can set a <em>default value</em> to and <strong>ARG</strong>, in case an outside value wasn&#x27;t provided:</p>
<div class="language-dockerfile codeBlockContainer_bD1M theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Zqy2"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_GOPR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_c96g"><span class="token-line" style="color:#393A34"><span class="token plain">FROM busybox</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ARG user1=some-user</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ARG buildNumber=1</span><br></span></code></pre></div></div>
<p>If an <strong>ARG</strong> instruction has a <em>default value</em>, and if there is no value passed at build-time, the builder uses the default value you set.</p>
<p><strong>Understanding how ARG and FROM interact:</strong></p>
<p><strong>FROM</strong> instructions support variables that are declared by any <strong>ARG</strong> instructions that occur before the first <strong>FROM</strong>.
An <strong>ARG</strong> declared before a <strong>FROM</strong> is outside of a build stage, so it can&#x27;t be used in any instruction after a <strong>FROM</strong>. To use the <em>default value</em> of an <strong>ARG</strong> declared before the first <strong>FROM</strong> use an <strong>ARG</strong> instruction without a value inside of a build stage.</p>
<p>Example:</p>
<div class="language-dockerfile codeBlockContainer_bD1M theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Zqy2"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_GOPR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_c96g"><span class="token-line" style="color:#393A34"><span class="token plain">ARG VERSION=latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FROM busybox:$VERSION</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ARG VERSION</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN echo $VERSION &gt; image_version</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_Pyil" id="--instruction-3-workdir">- Instruction 3: WORKDIR<a href="#--instruction-3-workdir" class="hash-link" aria-label="קישור ישיר אל - Instruction 3: WORKDIR" title="קישור ישיר אל - Instruction 3: WORKDIR" translate="no">​</a></h2>
<div class="language-dockerfile codeBlockContainer_bD1M theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Zqy2"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_GOPR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_c96g"><span class="token-line" style="color:#393A34"><span class="token plain">WORKDIR /my-workspace</span><br></span></code></pre></div></div>
<p><strong>Description</strong></p>
<p>If not specified, the default working directory is <code>/</code>.<br>
<!-- -->The root folder of the running container contains these folders:<br>
<code>bin</code>, <code>dev</code>, <code>etc</code>, <code>tmp</code>, <code>var</code>, <code>lib</code>, <code>mnt</code>, <code>srv</code>, <code>usr</code> and more.<br>
<!-- -->It is somewhat likely in our project we&#x27;d have a folder with the same name, that would override some of the files and folders listed above.<br>
<!-- -->In order to avoid that,<br>
<!-- -->We use the COPY command, but in the target path (the second argument), we might wanna mention a nested directory, like so:</p>
<div class="language-dockerfile codeBlockContainer_bD1M theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Zqy2"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_GOPR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_c96g"><span class="token-line" style="color:#393A34"><span class="token plain">COPY ./ ./my-workspace/</span><br></span></code></pre></div></div>
<p>Instead of doing the above, we can use the <strong>WORKDIR</strong> instruction.
The <strong>WORKDIR</strong> instruction sets the working directory on the container for any COPY, ADD, RUN, CMD, and ENTRYPOINT instructions that follow it in the <strong>Dockerfile</strong>. And so now you can simply do:</p>
<div class="language-dockerfile codeBlockContainer_bD1M theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Zqy2"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_GOPR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_c96g"><span class="token-line" style="color:#393A34"><span class="token plain">WORKDIR /my-workspace</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">COPY ./ ./</span><br></span></code></pre></div></div>
<p>Without worrying about overriding folders which already exists in the root of the container.</p>
<p><strong>Some basic Rules about WORKDIR:</strong></p>
<ul>
<li>
<p>The <strong>WORKDIR</strong> instruction sets the working directory on the container for any <strong>COPY</strong>, <strong>ADD</strong>, <strong>RUN</strong>, <strong>CMD</strong>, and <strong>ENTRYPOINT</strong> instructions that follow it in the <strong>Dockerfile</strong>.</p>
</li>
<li>
<p>If the <strong>WORKDIR</strong> doesn&#x27;t exist, it will be created, even if it isn&#x27;t used in any of the subsequent Dockerfile instructions.</p>
</li>
<li>
<p>The <strong>WORKDIR</strong> instruction can be used multiple times in a Dockerfile. If a relative path is provided, it will be relative to the path of the previous <strong>WORKDIR</strong> instruction.<br>
<!-- -->Example:</p>
<div class="language-dockerfile codeBlockContainer_bD1M theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Zqy2"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_GOPR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_c96g"><span class="token-line" style="color:#393A34"><span class="token plain">WORKDIR /a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WORKDIR b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WORKDIR c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN pwd</span><br></span></code></pre></div></div>
<p>The output of the final pwd command in this <strong>Dockerfile</strong> would be /a/b/c.</p>
</li>
<li>
<p>The WORKDIR instruction can resolve environment variables previously set using ENV. You can only use environment variables explicitly set in the Dockerfile.
Example:</p>
<div class="language-dockerfile codeBlockContainer_bD1M theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Zqy2"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_GOPR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_c96g"><span class="token-line" style="color:#393A34"><span class="token plain">ENV DIRPATH=/path</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WORKDIR $DIRPATH/$DIRNAME</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN pwd</span><br></span></code></pre></div></div>
<p>The output of the final pwd command in this Dockerfile would be /path/$DIRNAME</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_Pyil" id="--instruction-4-copy">- Instruction 4: COPY<a href="#--instruction-4-copy" class="hash-link" aria-label="קישור ישיר אל - Instruction 4: COPY" title="קישור ישיר אל - Instruction 4: COPY" translate="no">​</a></h2>
<div class="language-dockerfile codeBlockContainer_bD1M theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Zqy2"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_GOPR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_c96g"><span class="token-line" style="color:#393A34"><span class="token plain">COPY ../package.json ./package.json</span><br></span></code></pre></div></div>
<p><strong>Description:</strong></p>
<p>The first argument is the path to your local file system, and the second argument is the path that you want to copy stuff to inside the container.
When using a relative path in the first argument, it is relative to the build&#x27;s <code>context</code>.<br>
<!-- -->For instance:</p>
<div class="language-bash codeBlockContainer_bD1M theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Zqy2"><pre tabindex="0" class="prism-code language-bash codeBlock_GOPR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_c96g"><span class="token-line" style="color:#393A34"><span class="token plain">lukcylove-monorepo: docker build .</span><br></span></code></pre></div></div>
<p>Running the above command, the context would be &quot;luckylove-monorepo&quot;.
The <code>context</code> can also be defined within the docker-compose file, and then you can run:</p>
<div class="language-bash codeBlockContainer_bD1M theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Zqy2"><pre tabindex="0" class="prism-code language-bash codeBlock_GOPR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_c96g"><span class="token-line" style="color:#393A34"><span class="token plain">lukcylove-monorepo: docker-compose build</span><br></span></code></pre></div></div>
<p>And the context would be taken from there.</p>
<h2 class="anchor anchorWithStickyNavbar_Pyil" id="--instruction-5-run">- Instruction 5: RUN<a href="#--instruction-5-run" class="hash-link" aria-label="קישור ישיר אל - Instruction 5: RUN" title="קישור ישיר אל - Instruction 5: RUN" translate="no">​</a></h2>
<div class="language-dockerfile codeBlockContainer_bD1M theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Zqy2"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_GOPR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_c96g"><span class="token-line" style="color:#393A34"><span class="token plain">RUN [ &quot;pnpm&quot;, &quot;run&quot;, &quot;start&quot; ]</span><br></span></code></pre></div></div>
<p><strong>Description:</strong></p>
<p>The <strong>RUN</strong> instruction will execute any commands in a new layer on top of the current image and commit the results. The resulting committed image will be used for the next step in the Dockerfile.<br>
<!-- -->Layering <strong>RUN</strong> instructions and generating commits conforms to the core concepts of Docker where commits are cheap and containers can be created from any point in an image&#x27;s history, much like source control.</p>
<p><strong>Differences between the shell for and the exec form</strong></p>
<p><strong>RUN</strong> has 2 forms:
The shell form: <code>RUN %command%</code> (shell form, the command is run in a shell, which by default is /bin/sh -c on Linux or cmd /S /C on Windows)</p>
<p>The exec form: <strong>RUN</strong> [&quot;executable&quot;, &quot;param1&quot;, &quot;param2&quot;] (exec form)</p>
<p><strong>Some key notes:</strong></p>
<ul>
<li>
<p>The <code>exec</code> form is preferred, since it makes it possible to avoid shell string munging, and to RUN commands using a base image that does not contain the specified shell executable.</p>
</li>
<li>
<p>The <code>exec</code> form is parsed as a JSON array, which means that you must use double-quotes (&quot;) around words not single-quotes (&#x27;).</p>
</li>
<li>
<p>The default shell for the shell form can be changed using the SHELL command.</p>
</li>
<li>
<p>Unlike the shell form, the exec form does not invoke a command shell. This means that normal shell processing does not happen.<br>
<!-- -->Take this piece of code for example:</p>
</li>
</ul>
<div class="language-dockerfile codeBlockContainer_bD1M theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Zqy2"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_GOPR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_c96g"><span class="token-line" style="color:#393A34"><span class="token plain">CMD [ &quot;echo&quot;, &quot;$HOME&quot; ]</span><br></span></code></pre></div></div>
<p>The above code will not do variable substitution on <code>$HOME</code>. If you want shell processing then either use the shell form or execute a shell directly, for example:</p>
<div class="language-dockerfile codeBlockContainer_bD1M theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Zqy2"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_GOPR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_c96g"><span class="token-line" style="color:#393A34"><span class="token plain">CMD [ &quot;sh&quot;, &quot;-c&quot;, &quot;echo $HOME&quot; ]</span><br></span></code></pre></div></div>
<p>When using the <code>exec</code> form and executing a shell directly, as in the case for the shell form, it is the shell that is doing the environment variable expansion, not docker.</p>
<ul>
<li>
<p>In the shell form you can use a backslash <code>\</code> to continue a single RUN instruction onto the next line.</p>
</li>
<li>
<p>Using the shell form for <strong>ENTRYPOINT</strong> likely means you&#x27;re not propagating signals correctly to your app, which can cause problems, in particular in Kubernetes clusters. You can read more about it here in the article named &quot;Why Your Dockerized Application Isn&#x27;t Receiving Signals.&quot; Link --&gt; <a href="https://hynek.me/articles/docker-signals/" target="_blank" rel="noopener noreferrer">https://hynek.me/articles/docker-signals/</a></p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_Pyil" id="--instruction-6-entrypoint">- Instruction 6: ENTRYPOINT<a href="#--instruction-6-entrypoint" class="hash-link" aria-label="קישור ישיר אל - Instruction 6: ENTRYPOINT" title="קישור ישיר אל - Instruction 6: ENTRYPOINT" translate="no">​</a></h2>
<div class="language-dockerfile codeBlockContainer_bD1M theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Zqy2"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_GOPR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_c96g"><span class="token-line" style="color:#393A34"><span class="token plain">ENTRYPOINT</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_Pyil" id="--instruction-7-cmd">- Instruction 7: CMD<a href="#--instruction-7-cmd" class="hash-link" aria-label="קישור ישיר אל - Instruction 7: CMD" title="קישור ישיר אל - Instruction 7: CMD" translate="no">​</a></h2>
<div class="language-dockerfile codeBlockContainer_bD1M theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Zqy2"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_GOPR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_c96g"><span class="token-line" style="color:#393A34"><span class="token plain">CMD [ &quot;pnpm&quot;, &quot;run&quot;, &quot;start&quot; ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```dockerfile</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_Pyil" id="--instruction-8-expose">- Instruction 8: EXPOSE<a href="#--instruction-8-expose" class="hash-link" aria-label="קישור ישיר אל - Instruction 8: EXPOSE" title="קישור ישיר אל - Instruction 8: EXPOSE" translate="no">​</a></h2>
<div class="language-dockerfile codeBlockContainer_bD1M theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Zqy2"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_GOPR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_c96g"><span class="token-line" style="color:#393A34"><span class="token plain">EXPOSE 3000</span><br></span></code></pre></div></div>
<p><strong>Description:</strong></p>
<p>The <strong>EXPOSE</strong> instruction informs Docker that the container listens on the specified network ports at runtime.</p>
<div class="theme-admonition theme-admonition-warning admonition_pAsN alert alert--warning"><div class="admonitionHeading_gTqc"><span class="admonitionIcon_d6Jv"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_sfQF"><p>The <strong>EXPOSE</strong> instruction <em>DOES NOT</em> actually publish the port!</p><p>It merely functions as a type of documentation between the person who builds the image, and the person who runs the container, about which ports are intended to be published. To actually publish the port when running the container, use the <code>-p</code> flag on docker run to publish and map one or more ports, or the <code>-P</code> flag to publish all exposed ports and map them to high-order ports.</p></div></div>
<p>You can specify whether the port listens on TCP or UDP, and the default is TCP if the protocol is not specified.<br>
<!-- -->By default, <strong>EXPOSE</strong> assumes TCP. You can also specify UDP:</p>
<div class="language-dockerfile codeBlockContainer_bD1M theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Zqy2"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_GOPR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_c96g"><span class="token-line" style="color:#393A34"><span class="token plain">EXPOSE 80/udp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">To expose on both TCP and UDP, include two lines:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EXPOSE 80/tcp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EXPOSE 80/udp</span><br></span></code></pre></div></div>
<p>In this case, if you use <code>-P</code> with docker run, the port will be exposed once for TCP and once for UDP. Remember that <code>-P</code> uses an ephemeral high-ordered host port on the host, so the port will not be the same for TCP and UDP.
Regardless of the EXPOSE settings, you can override them at runtime by using the <code>-p</code> flag. For example</p>
<div class="language-bash codeBlockContainer_bD1M theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Zqy2"><pre tabindex="0" class="prism-code language-bash codeBlock_GOPR thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_c96g"><span class="token-line" style="color:#393A34"><span class="token plain">docker run -p 80:80/tcp -p 80:80/udp ...</span><br></span></code></pre></div></div>
<p>Just like we said the container has its own file system, it also has its own isolated set of ports that can receive traffic. But by default, no incoming traffic to your computer is going to be directed into your container. In order to connect between ports from your local machine to those inside the container, we have to set up an explicit port mapping. A port mapping essentially says &quot;any time that someone makes a request to a given port on your local network, take that request and automatically forward it to some port inside the container&quot;. One thing to make sure we understand - this is only talking about incoming requests! Your docker container can by default make requests on its own behalf.</p>
<hr></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/talkohavy/guides/docs/programming/devops/docker/how-to-create-a-dockerfile.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_hpTC" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>ערוך דף זה</a></div><div class="col lastUpdated_yNTn"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="רשימת דוקומנטאציה"><a class="pagination-nav__link pagination-nav__link--prev" href="/guides/he/docs/programming/devops/docker/docker-commands/"><div class="pagination-nav__sublabel">הקודם</div><div class="pagination-nav__label">- All Docker Commands</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/guides/he/docs/programming/devops/docker/avoiding-architecture-mismatch/"><div class="pagination-nav__sublabel">הבא</div><div class="pagination-nav__label">- Avoiding Architecture Mismatch</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_V17O thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#--instruction-1-from" class="table-of-contents__link toc-highlight">- Instruction 1: FROM</a></li><li><a href="#--instruction-2-arg" class="table-of-contents__link toc-highlight">- Instruction 2: ARG</a></li><li><a href="#--instruction-3-workdir" class="table-of-contents__link toc-highlight">- Instruction 3: WORKDIR</a></li><li><a href="#--instruction-4-copy" class="table-of-contents__link toc-highlight">- Instruction 4: COPY</a></li><li><a href="#--instruction-5-run" class="table-of-contents__link toc-highlight">- Instruction 5: RUN</a></li><li><a href="#--instruction-6-entrypoint" class="table-of-contents__link toc-highlight">- Instruction 6: ENTRYPOINT</a></li><li><a href="#--instruction-7-cmd" class="table-of-contents__link toc-highlight">- Instruction 7: CMD</a></li><li><a href="#--instruction-8-expose" class="table-of-contents__link toc-highlight">- Instruction 8: EXPOSE</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/guides/he/docs/programming/">Tutorial</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_ftTD"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_ftTD"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_ftTD"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/guides/he/blog/">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_ftTD"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>