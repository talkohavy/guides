<!doctype html>
<html lang="he" dir="rtl" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-programming/devops/docker/how-to-create-a-docker-compose-file" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">How to create a Docker-Compose file | ✨ Super Guides ✨</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://talkohavy.github.io/guides/he/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://talkohavy.github.io/guides/he/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://talkohavy.github.io/guides/he/docs/programming/devops/docker/how-to-create-a-docker-compose-file/"><meta data-rh="true" property="og:locale" content="he"><meta data-rh="true" property="og:locale:alternate" content="en_US"><meta data-rh="true" name="docusaurus_locale" content="he"><meta data-rh="true" name="docsearch:language" content="he"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="How to create a Docker-Compose file | ✨ Super Guides ✨"><meta data-rh="true" name="description" content="- Rule 1: services"><meta data-rh="true" property="og:description" content="- Rule 1: services"><link data-rh="true" rel="icon" href="/guides/he/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://talkohavy.github.io/guides/he/docs/programming/devops/docker/how-to-create-a-docker-compose-file/"><link data-rh="true" rel="alternate" href="https://talkohavy.github.io/guides/docs/programming/devops/docker/how-to-create-a-docker-compose-file/" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://talkohavy.github.io/guides/he/docs/programming/devops/docker/how-to-create-a-docker-compose-file/" hreflang="he"><link data-rh="true" rel="alternate" href="https://talkohavy.github.io/guides/docs/programming/devops/docker/how-to-create-a-docker-compose-file/" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/guides/he/blog/rss.xml" title="✨ Super Guides ✨ RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/guides/he/blog/atom.xml" title="✨ Super Guides ✨ Atom Feed"><link rel="stylesheet" href="/guides/he/assets/css/styles.8b5b6668.css">
<script src="/guides/he/assets/js/runtime~main.f4e2e91d.js" defer="defer"></script>
<script src="/guides/he/assets/js/main.00e11ac2.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="דלג לתוכן הראשי"><a class="skipToContent_mdBw" href="#__docusaurus_skipToContent_fallback">דלג לתוכן הראשי</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/guides/he/"><div class="navbar__logo"><img src="/guides/he/img/logo.svg" alt="My Site Logo" class="themedComponent_K9IW themedComponent--light_KeBr"><img src="/guides/he/img/logo_dark.svg" alt="My Site Logo" class="themedComponent_K9IW themedComponent--dark_fcw5"></div><b class="navbar__title text--truncate">Home</b></a><a class="navbar__item navbar__link" alt="Developer Guides" href="/guides/he/docs/programming/">Guides</a><a class="navbar__item navbar__link" href="/guides/he/blog/">Blogs</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_GAqo"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>עברית</a><ul class="dropdown__menu"><li><a href="/guides/docs/programming/devops/docker/how-to-create-a-docker-compose-file/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en-US">English</a></li><li><a href="/guides/he/docs/programming/devops/docker/how-to-create-a-docker-compose-file/" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="he">עברית</a></li></ul></div><a href="https://github.com/talkohavy/guides/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="toggle_ueJz colorModeToggle_Ko8v"><button class="clean-btn toggleButton_p7FT toggleButtonDisabled_NCyU" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_XlS2"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wu1e"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_vGBQ"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_v375"><div class="docsWrapper_qVOL"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_jeRt" type="button"></button><div class="docRoot__DpQ"><aside class="theme-doc-sidebar-container docSidebarContainer_JQyV"><div class="sidebarViewport_LzH0"><div class="sidebar_cfwM"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_pGfD"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/guides/he/docs/category/photoshop-guides/">Photoshop</a><button aria-label="Expand sidebar category &#x27;Photoshop&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/guides/he/docs/programming/">Programming</a><button aria-label="Collapse sidebar category &#x27;Programming&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/aws-kubernetes/">- AWS Kubernetes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/certificates/">- Certificates</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/crypto/">- Crypto</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/css/">- CSS</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/guides/he/docs/db/">- Databases</a><button aria-label="Expand sidebar category &#x27;- Databases&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/guides/he/docs/devops/">- DevOps</a><button aria-label="Collapse sidebar category &#x27;- DevOps&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/guides/he/docs/docker/">- Docker</a><button aria-label="Collapse sidebar category &#x27;- Docker&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/devops/docker/most-useful-commands/">- Most Useful Commands</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/devops/docker/docker-commands/">- All Docker Commands</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/devops/docker/how-to-create-a-dockerfile/">- How to Create a Dockerfile</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/devops/docker/avoiding-architecture-mismatch/">- Avoiding Architecture Mismatch</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/devops/docker/docker-compose-commands/">- Docker Compose Commands</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/guides/he/docs/programming/devops/docker/how-to-create-a-docker-compose-file/">- How to Create a Docker-Compose File</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/guides/he/docs/kubernetes/">- Kubernetes</a><button aria-label="Expand sidebar category &#x27;- Kubernetes&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/devops/helm/">- Helm</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/design-patterns/">- Design Patterns</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/elk/">- ELK Stack</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/git/">- Git</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/guides/he/docs/js/">- Javascript</a><button aria-label="Expand sidebar category &#x27;- Javascript&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/micro-frontends/">- Micro-Frontends</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/nest/">- NestJS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/node/">- Node</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/npm/">- Npm publish a package</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/python-server/">- Python Server</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/regex/">- Regex</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/saml/">- SAML</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/guides/he/docs/socket-io/">- Socket IO</a><button aria-label="Expand sidebar category &#x27;- Socket IO&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/guides/he/docs/software-concepts/">- Software Concepts</a><button aria-label="Expand sidebar category &#x27;- Software Concepts&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/software-architecture/">- Software Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/ssh/">- SSH</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/storybook/">- Storybook</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/syntax-highlighting/">- Syntax Highlighting</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/guides/he/docs/programming/terminal-god/">- Terminal God</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/guides/he/docs/tests/">- Tests</a><button aria-label="Expand sidebar category &#x27;- Tests&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/typescript/">- TypeScript</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/guides/he/docs/web/">- Web</a><button aria-label="Expand sidebar category &#x27;- Web&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/what-is-long-polling/">- What is Long-Polling</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/guides/he/docs/video-editing/ffmpeg/">Video Editing</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/guides/he/docs/job-interview/">MISC</a></div></li></ul></nav><button type="button" title="סגור" aria-label="סגור" class="button button--secondary button--outline collapseSidebarButton_Sx7t"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_q4Rz"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_kQ8O"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_RC4t"><div class="docItemContainer_hW7A"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Y2LQ" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/guides/he/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_Q4U5"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/guides/he/docs/programming/"><span itemprop="name">Programming</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/guides/he/docs/devops/"><span itemprop="name">- DevOps</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/guides/he/docs/docker/"><span itemprop="name">- Docker</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">- How to Create a Docker-Compose File</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_pcgg theme-doc-toc-mobile tocMobile_WFxq"><button type="button" class="clean-btn tocCollapsibleButton_R7qh">בעמוד זה</button></div><div class="theme-doc-markdown markdown"><header><h1>How to create a Docker-Compose file</h1></header>
<h2 class="anchor anchorWithStickyNavbar_Lu_A" id="--rule-1-services">- Rule 1: services<a href="#--rule-1-services" class="hash-link" aria-label="קישור ישיר אל - Rule 1: services" title="קישור ישיר אל - Rule 1: services">​</a></h2>
<p>A Compose file <strong>MUST</strong> declare a <code>services</code> key in the root.<br>
<!-- -->The <code>services</code> value is an object (a map) whose keys are string representations of <em>service names</em>, and whose values are <em>service definitions</em>.<br>
<!-- -->A <em>service definition</em> contains the configuration that is applied to each container started for that service.<br>
<!-- -->Each service MAY also include a <code>build</code> section, which defines how to create the Docker image for the service.<br>
<!-- -->Compose implementations <em>may</em> support building docker images using this service definition.
If not implemented, the <code>build</code> section <em>should</em> be ignored and the Compose file <strong>MUST</strong> still be considered valid.<br>
<code>build</code> support is an OPTIONAL aspect of the Compose specification, and is described in detail in the Build support documentation.</p>
<p>Each Service defines runtime constraints and requirements to run its containers.
The <code>deploy</code> section groups these constraints and allows the platform to adjust the deployment strategy to best match containers&#x27; needs with available resources. Deploy support is an OPTIONAL aspect of the Compose specification, and is described in detail in the Deployment support documentation. If not implemented the Deploy section SHOULD be ignored and the Compose file MUST still be considered valid.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_Lu_A" id="--rule-2-servicesimage">- Rule 2: services.image<a href="#--rule-2-servicesimage" class="hash-link" aria-label="קישור ישיר אל - Rule 2: services.image" title="קישור ישיר אל - Rule 2: services.image">​</a></h2>
<p><code>image</code> specifies the image to start the container from.<br>
<code>image</code> <strong>MUST</strong> follow the Open Container Specification addressable image format, as <code>[%registry%/][%project%/]%image%[:%tag%|@%digest%]</code>.</p>
<div class="language-yaml codeBlockContainer_on0f theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent__4U6"><pre tabindex="0" class="prism-code language-yaml codeBlock_aWB3 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_kTWx"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> redis</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> redis</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> redis@sha256</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">0ed5d5928d4737458944eb604cc8509e245c3e19d02ad83935398bc4b991aac7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> library/redis</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> docker.io/library/redis</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> my_private.registry</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">5000/redis</span><br></span></code></pre><div class="buttonGroup_ogfG"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_JlT2" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_wCL2"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_ZPLJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_Lu_A" id="--rule-3-servicesbuild">- Rule 3: services.build<a href="#--rule-3-servicesbuild" class="hash-link" aria-label="קישור ישיר אל - Rule 3: services.build" title="קישור ישיר אל - Rule 3: services.build">​</a></h2>
<ul>
<li>
<p>build
<code>build</code> an OPTIONAL build subsection on services
<code>build</code> specifies the build configuration for creating container image from source.
When a Build subsection is present for a service, it is valid for a Compose file to miss an <code>Image</code> attribute for corresponding service, as Compose implementation can build image from source.</p>
</li>
<li>
<p>build.context v.s. build = context
Build can be either specified as a single string defining a context path, or as a detailed build definition.
In the former case, the whole path is used as a Docker context to execute a docker build, looking for a canonical Dockerfile at context root. Context path can be absolute or relative, and if so relative path MUST be resolved from Compose file parent folder. As an absolute path prevent the Compose file to be portable, Compose implementation SHOULD warn user accordingly.</p>
</li>
<li>
<p>build.dockerfile
In the later case, build arguments can be specified, including an alternate Dockerfile location. This one can be absolute or relative path. If Dockerfile path is relative, it MUST be resolved from context path. As an absolute path prevent the Compose file to be portable, Compose implementation SHOULD warn user if an absolute alternate Dockerfile path is used.</p>
</li>
<li>
<p>Consistency with Image
When service definition do include both <code>Image</code> attribute and a <code>Build</code> section, Compose implementation can&#x27;t guarantee a pulled image is strictly equivalent to building the same image from sources. Without any explicit user directives, Compose implementation with Build support MUST first try to pull Image, then build from source if image was not found on registry. Compose implementation MAY offer options to customize this behavior by user request.</p>
</li>
<li>
<p>Illustrative sample</p>
<div class="language-yaml codeBlockContainer_on0f theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent__4U6"><pre tabindex="0" class="prism-code language-yaml codeBlock_aWB3 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_kTWx"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">services</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">frontend</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> awesome/webapp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">build</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ./webapp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">backend</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> awesome/database</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">build</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">context</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> backend</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">dockerfile</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ../backend.Dockerfile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">custom</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">build</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ~/custom</span><br></span></code></pre><div class="buttonGroup_ogfG"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_JlT2" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_wCL2"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_ZPLJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>When used to build service images from source, such a Compose file will create three docker images:
• awesome/webapp docker image is built using webapp sub-directory within Compose file parent folder as docker build context. Lack of a Dockerfile within this folder will throw an error.
• awesome/database docker image is built using backend sub-directory within Compose file parent folder. backend.Dockerfile file is used to define build steps, this file is searched relative to context path, which means for this sample .. will resolve to Compose file parent folder, so backend.Dockerfile is a sibling file.
• a docker image is built using custom directory within user&#x27;s HOME as docker context. Compose implementation warn user about non-portable path used to build image.</p>
</li>
<li>
<p>Build Definition
The <code>build</code> element define configuration options that are applied by Compose implementations to build Docker image from source. <code>build</code> can be specified either as a string containing a path to the build context or a detailed structure:
Using this string syntax, only the build context can be configured as either:
• a relative path to the Compose file&#x27;s parent folder. This path MUST be a directory and contain a Dockerfile</p>
<div class="language-yaml codeBlockContainer_on0f theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent__4U6"><pre tabindex="0" class="prism-code language-yaml codeBlock_aWB3 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_kTWx"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">services</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">webapp</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">build</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ./dir</span><br></span></code></pre><div class="buttonGroup_ogfG"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_JlT2" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_wCL2"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_ZPLJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>• a git repository URL. Git URLs accept context configuration in their fragment section, separated by a colon (:). The first part represents the reference that Git
will check out, and can be either a branch, a tag, or a remote reference. The second part represents a subdirectory inside the repository that will be used as a
build context.
services:
webapp:
build: <a href="https://github.com/mycompany/example.git#branch_or_tag:subdirectory" target="_blank" rel="noopener noreferrer">https://github.com/mycompany/example.git#branch_or_tag:subdirectory</a></p>
</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_Lu_A" id="--rule-4-servicesbuildcontext-required">- Rule 4: services.build.context (REQUIRED)<a href="#--rule-4-servicesbuildcontext-required" class="hash-link" aria-label="קישור ישיר אל - Rule 4: services.build.context (REQUIRED)" title="קישור ישיר אל - Rule 4: services.build.context (REQUIRED)">​</a></h2>
<p><code>context</code> defines either a path to a directory containing a Dockerfile, or a url to a git repository.
When the value supplied is a relative path, it MUST be interpreted as relative to the location of the Compose file. Compose implementations MUST warn user about absolute path used to define build context as those prevent Compose file from being portable.</p>
<div class="language-yaml codeBlockContainer_on0f theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent__4U6"><pre tabindex="0" class="prism-code language-yaml codeBlock_aWB3 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_kTWx"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">This</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">build</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">context</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ./dir</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">V.S. this</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">services</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">webapp</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">build</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> https</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">//github.com/mycompany/webapp.git</span><br></span></code></pre><div class="buttonGroup_ogfG"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_JlT2" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_wCL2"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_ZPLJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_Lu_A" id="--rule-5-servicesbuilddockerfile">- Rule 5: services.build.dockerfile<a href="#--rule-5-servicesbuilddockerfile" class="hash-link" aria-label="קישור ישיר אל - Rule 5: services.build.dockerfile" title="קישור ישיר אל - Rule 5: services.build.dockerfile">​</a></h2>
<p><code>dockerfile</code> allows to set an alternate Dockerfile. A relative path MUST be resolved from the build context. Compose implementations MUST warn user about absolute path used to define Dockerfile as those prevent Compose file from being portable. When set, <code>dockerfile_inline</code> attribute is not allowed and a Compose Implementation SHOULD reject any Compose file having both set.</p>
<div class="language-yaml codeBlockContainer_on0f theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent__4U6"><pre tabindex="0" class="prism-code language-yaml codeBlock_aWB3 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_kTWx"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">build</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">context</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">dockerfile</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> webapp.Dockerfile</span><br></span></code></pre><div class="buttonGroup_ogfG"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_JlT2" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_wCL2"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_ZPLJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_Lu_A" id="--rule-6-servicesbuilddockerfile_inline">- Rule 6: services.build.dockerfile_inline<a href="#--rule-6-servicesbuilddockerfile_inline" class="hash-link" aria-label="קישור ישיר אל - Rule 6: services.build.dockerfile_inline" title="קישור ישיר אל - Rule 6: services.build.dockerfile_inline">​</a></h2>
<p><code>dockerfile_inline</code> allows to define Dockerfile content as inlined string in a Compose file. When set, <code>dockerfile</code> attribute is not allowed and a Compose Implementation SHOULD reject any Compose file having both set.
Use of YAML multi-line string syntax is recommended to define Dockerfile content:</p>
<div class="language-dockerfile codeBlockContainer_on0f theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent__4U6"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_aWB3 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_kTWx"><span class="token-line" style="color:#393A34"><span class="token plain">build:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">context: .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dockerfile_inline: |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FROM baseimage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN some command</span><br></span></code></pre><div class="buttonGroup_ogfG"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_JlT2" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_wCL2"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_ZPLJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_Lu_A" id="--rule-7-servicesbuildargs">- Rule 7: services.build.args<a href="#--rule-7-servicesbuildargs" class="hash-link" aria-label="קישור ישיר אל - Rule 7: services.build.args" title="קישור ישיר אל - Rule 7: services.build.args">​</a></h2>
<p><code>args</code> define build arguments, i.e. Dockerfile <code>ARG</code> values.<br>
<code>args</code> can be set in Compose file under the <code>build</code> key to define some arguments.<br>
<code>args</code> can be set a mapping or a list:</p>
<div class="language-yaml codeBlockContainer_on0f theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent__4U6"><pre tabindex="0" class="prism-code language-yaml codeBlock_aWB3 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_kTWx"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">// Way number 1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">build</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">context</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">args</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">GIT_COMMIT</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> %some</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">value%</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">// Way number 2</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">build</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">context</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">args</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> GIT_COMMIT=%some</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">value%</span><br></span></code></pre><div class="buttonGroup_ogfG"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_JlT2" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_wCL2"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_ZPLJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>-- HARDCODED:</strong></p>
<p><code>args</code> can be hardcoded:</p>
<div class="language-yaml codeBlockContainer_on0f theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent__4U6"><pre tabindex="0" class="prism-code language-yaml codeBlock_aWB3 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_kTWx"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">build</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">context</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">args</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> VERDION=0.0.1</span><br></span></code></pre><div class="buttonGroup_ogfG"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_JlT2" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_wCL2"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_ZPLJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>-- PASSED FROM OUTSIDE:</strong></p>
<p><code>args</code> can be passed from outside:</p>
<div class="language-yaml codeBlockContainer_on0f theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent__4U6"><pre tabindex="0" class="prism-code language-yaml codeBlock_aWB3 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_kTWx"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">build</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">context</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">args</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># The names do not need to match! First VERSION is the inner name, second VERSION is the outer name.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> VERSION=$</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">VERSION</span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">0.0.1</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_ogfG"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_JlT2" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_wCL2"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_ZPLJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In which, you would call the build sub-command like so:</p>
<div class="language-bash codeBlockContainer_on0f theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent__4U6"><pre tabindex="0" class="prism-code language-bash codeBlock_aWB3 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_kTWx"><span class="token-line" style="color:#393A34"><span class="token plain">VERSION=1.2.3 docker-compose build --no-cache</span><br></span></code></pre><div class="buttonGroup_ogfG"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_JlT2" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_wCL2"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_ZPLJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_Lu_A" id="--rule-8-servicesbuildprivileged">- Rule 8: services.build.privileged<a href="#--rule-8-servicesbuildprivileged" class="hash-link" aria-label="קישור ישיר אל - Rule 8: services.build.privileged" title="קישור ישיר אל - Rule 8: services.build.privileged">​</a></h2>
<p><code>privileged</code> configures the service image to build with elevated privileges. Support and actual impacts are platform-specific.
build:
context: .
privileged: true</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_Lu_A" id="--rule-9-servicesbuildlabels">- Rule 9: services.build.labels<a href="#--rule-9-servicesbuildlabels" class="hash-link" aria-label="קישור ישיר אל - Rule 9: services.build.labels" title="קישור ישיר אל - Rule 9: services.build.labels">​</a></h2>
<p><code>labels</code> add metadata to the resulting image. <code>labels</code> can be set either as an array or a map.
This:</p>
<div class="language-yaml codeBlockContainer_on0f theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent__4U6"><pre tabindex="0" class="prism-code language-yaml codeBlock_aWB3 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_kTWx"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">build</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">context</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">com.example.description</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Accounting webapp&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">com.example.department</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Finance&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">com.example.label-with-empty-value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><br></span></code></pre><div class="buttonGroup_ogfG"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_JlT2" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_wCL2"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_ZPLJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>V.S. this:</p>
<div class="language-yaml codeBlockContainer_on0f theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent__4U6"><pre tabindex="0" class="prism-code language-yaml codeBlock_aWB3 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_kTWx"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">build</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">context</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> &quot;com.example.description=Accounting webapp&quot; </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> &quot;com.example.department=Finance&quot; </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;com.example.label-with-empty-value&quot;</span><br></span></code></pre><div class="buttonGroup_ogfG"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_JlT2" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_wCL2"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_ZPLJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_Lu_A" id="--rule-10-servicesbuildno_cache">- Rule 10: services.build.no_cache<a href="#--rule-10-servicesbuildno_cache" class="hash-link" aria-label="קישור ישיר אל - Rule 10: services.build.no_cache" title="קישור ישיר אל - Rule 10: services.build.no_cache">​</a></h2>
<p><code>no_cache</code> disables image builder cache and enforce a full rebuild from source for all image layers. This only applies to layers declared in the Dockerfile, referenced images COULD be retrieved from local image store whenever tag has been updated on registry (see pull).</p>
<div class="language-yaml codeBlockContainer_on0f theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent__4U6"><pre tabindex="0" class="prism-code language-yaml codeBlock_aWB3 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_kTWx"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">services</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">users-service</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> users</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">build</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">no_cache</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><br></span></code></pre><div class="buttonGroup_ogfG"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_JlT2" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_wCL2"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_ZPLJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_Lu_A" id="--rule-11-servicesbuildpull">- Rule 11: services.build.pull<a href="#--rule-11-servicesbuildpull" class="hash-link" aria-label="קישור ישיר אל - Rule 11: services.build.pull" title="קישור ישיר אל - Rule 11: services.build.pull">​</a></h2>
<p><code>pull</code> require the image builder to pull referenced images (FROM Dockerfile directive), even if those are already available in the local image store.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_Lu_A" id="--rule-12-servicesbuildshm_size">- Rule 12: services.build.shm_size<a href="#--rule-12-servicesbuildshm_size" class="hash-link" aria-label="קישור ישיר אל - Rule 12: services.build.shm_size" title="קישור ישיר אל - Rule 12: services.build.shm_size">​</a></h2>
<p><code>shm_size</code> set the size of the shared memory (/dev/shm partition on Linux) allocated for building Docker image. Specify as an integer value representing the number of bytes or as a string expressing a byte value.</p>
<p><strong>Byte values:</strong></p>
<ul>
<li>2b</li>
<li>1024kb</li>
<li>2048k</li>
<li>300m</li>
<li>1gb</li>
</ul>
<p>This:</p>
<div class="language-yaml codeBlockContainer_on0f theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent__4U6"><pre tabindex="0" class="prism-code language-yaml codeBlock_aWB3 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_kTWx"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">build</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">context</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">shm_size</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;2gb&#x27;</span><br></span></code></pre><div class="buttonGroup_ogfG"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_JlT2" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_wCL2"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_ZPLJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>V.S. this:</p>
<div class="language-yaml codeBlockContainer_on0f theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent__4U6"><pre tabindex="0" class="prism-code language-yaml codeBlock_aWB3 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_kTWx"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">build</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">context</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">shm_size</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10000000</span><br></span></code></pre><div class="buttonGroup_ogfG"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_JlT2" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_wCL2"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_ZPLJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_Lu_A" id="--rule-13-servicesbuildsecrets">- Rule 13: services.build.secrets<a href="#--rule-13-servicesbuildsecrets" class="hash-link" aria-label="קישור ישיר אל - Rule 13: services.build.secrets" title="קישור ישיר אל - Rule 13: services.build.secrets">​</a></h2>
<p><code>Docker Secrets</code> are only available in <code>Swarm mode</code>, so standalone containers can not use this feature.
A given secret is only accessible to those services which have been granted explicit access to it, and while they&#x27;re running.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_Lu_A" id="--rule-14-servicesbuildtags">- Rule 14: services.build.tags<a href="#--rule-14-servicesbuildtags" class="hash-link" aria-label="קישור ישיר אל - Rule 14: services.build.tags" title="קישור ישיר אל - Rule 14: services.build.tags">​</a></h2>
<p><code>tags</code> defines a list of tag mappings that MUST be associated to the build image.
This list comes in addition of the <code>image</code> property defined in the service section
tags:</p>
<ul>
<li>&quot;myimage<!-- -->:mytag<!-- -->&quot;</li>
<li>&quot;registry/username/myrepos<!-- -->:my-other-tag<!-- -->&quot;</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_Lu_A" id="--rule-15-servicesenv_file">- Rule 15: services.env_file<a href="#--rule-15-servicesenv_file" class="hash-link" aria-label="קישור ישיר אל - Rule 15: services.env_file" title="קישור ישיר אל - Rule 15: services.env_file">​</a></h2>
<p>Defining an <code>env_file</code> inside the yaml will take environment variables from the file and inject them into the container. That makes it visible to your application, but cannot be used for variables inside your yaml that you want docker-compose to expand since that variable expansion happens before the env_file contents are parsed.</p>
<div class="language-yaml codeBlockContainer_on0f theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent__4U6"><pre tabindex="0" class="prism-code language-yaml codeBlock_aWB3 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_kTWx"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">services</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">users-service</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">env_file</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> .env</span><br></span></code></pre><div class="buttonGroup_ogfG"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_JlT2" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_wCL2"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_ZPLJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>When both <code>env_file</code> and <code>environment</code> are set for a service, values set by <code>environment</code> have precedence.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/talkohavy/guides/docs/programming/devops/docker/how-to-create-a-docker-compose-file.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_SJNw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>ערוך דף זה</a></div><div class="col lastUpdated_ZG23"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="רשימת דוקומנטאציה"><a class="pagination-nav__link pagination-nav__link--prev" href="/guides/he/docs/programming/devops/docker/docker-compose-commands/"><div class="pagination-nav__sublabel">הקודם</div><div class="pagination-nav__label">- Docker Compose Commands</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/guides/he/docs/kubernetes/"><div class="pagination-nav__sublabel">הבא</div><div class="pagination-nav__label">- Kubernetes</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_UlFj thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#--rule-1-services" class="table-of-contents__link toc-highlight">- Rule 1: services</a></li><li><a href="#--rule-2-servicesimage" class="table-of-contents__link toc-highlight">- Rule 2: services.image</a></li><li><a href="#--rule-3-servicesbuild" class="table-of-contents__link toc-highlight">- Rule 3: services.build</a></li><li><a href="#--rule-4-servicesbuildcontext-required" class="table-of-contents__link toc-highlight">- Rule 4: services.build.context (REQUIRED)</a></li><li><a href="#--rule-5-servicesbuilddockerfile" class="table-of-contents__link toc-highlight">- Rule 5: services.build.dockerfile</a></li><li><a href="#--rule-6-servicesbuilddockerfile_inline" class="table-of-contents__link toc-highlight">- Rule 6: services.build.dockerfile_inline</a></li><li><a href="#--rule-7-servicesbuildargs" class="table-of-contents__link toc-highlight">- Rule 7: services.build.args</a></li><li><a href="#--rule-8-servicesbuildprivileged" class="table-of-contents__link toc-highlight">- Rule 8: services.build.privileged</a></li><li><a href="#--rule-9-servicesbuildlabels" class="table-of-contents__link toc-highlight">- Rule 9: services.build.labels</a></li><li><a href="#--rule-10-servicesbuildno_cache" class="table-of-contents__link toc-highlight">- Rule 10: services.build.no_cache</a></li><li><a href="#--rule-11-servicesbuildpull" class="table-of-contents__link toc-highlight">- Rule 11: services.build.pull</a></li><li><a href="#--rule-12-servicesbuildshm_size" class="table-of-contents__link toc-highlight">- Rule 12: services.build.shm_size</a></li><li><a href="#--rule-13-servicesbuildsecrets" class="table-of-contents__link toc-highlight">- Rule 13: services.build.secrets</a></li><li><a href="#--rule-14-servicesbuildtags" class="table-of-contents__link toc-highlight">- Rule 14: services.build.tags</a></li><li><a href="#--rule-15-servicesenv_file" class="table-of-contents__link toc-highlight">- Rule 15: services.env_file</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/guides/he/docs/programming/">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_WXer"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_WXer"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_WXer"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/guides/he/blog/">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_WXer"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>