<!doctype html>
<html lang="he" dir="rtl" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-programming/elasticsearch" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">ElasticSearch | ✨ Super Guides ✨</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://talkohavy.github.io/guides/he/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://talkohavy.github.io/guides/he/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://talkohavy.github.io/guides/he/docs/programming/elasticsearch/"><meta data-rh="true" property="og:locale" content="he"><meta data-rh="true" property="og:locale:alternate" content="en_US"><meta data-rh="true" name="docusaurus_locale" content="he"><meta data-rh="true" name="docsearch:language" content="he"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="ElasticSearch | ✨ Super Guides ✨"><meta data-rh="true" name="description" content="Coming Soon:"><meta data-rh="true" property="og:description" content="Coming Soon:"><link data-rh="true" rel="icon" href="/guides/he/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://talkohavy.github.io/guides/he/docs/programming/elasticsearch/"><link data-rh="true" rel="alternate" href="https://talkohavy.github.io/guides/docs/programming/elasticsearch/" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://talkohavy.github.io/guides/he/docs/programming/elasticsearch/" hreflang="he"><link data-rh="true" rel="alternate" href="https://talkohavy.github.io/guides/docs/programming/elasticsearch/" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/guides/he/blog/rss.xml" title="✨ Super Guides ✨ RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/guides/he/blog/atom.xml" title="✨ Super Guides ✨ Atom Feed"><link rel="stylesheet" href="/guides/he/assets/css/styles.03460a0c.css">
<script src="/guides/he/assets/js/runtime~main.99842460.js" defer="defer"></script>
<script src="/guides/he/assets/js/main.36bd7c94.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="דלג לתוכן הראשי"><a class="skipToContent_UwHV" href="#__docusaurus_skipToContent_fallback">דלג לתוכן הראשי</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/guides/he/"><div class="navbar__logo"><img src="/guides/he/img/logo.svg" alt="My Site Logo" class="themedComponent_IV6K themedComponent--light_vNvG"><img src="/guides/he/img/logo_dark.svg" alt="My Site Logo" class="themedComponent_IV6K themedComponent--dark_ANd6"></div><b class="navbar__title text--truncate">Home</b></a><a class="navbar__item navbar__link" alt="Developer Guides" href="/guides/he/docs/programming/">Guides</a><a class="navbar__item navbar__link" href="/guides/he/blog/">Blogs</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link" href="/guides/he/docs/programming/elasticsearch/"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_IDt9"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>עברית</a><ul class="dropdown__menu"><li><a href="/guides/docs/programming/elasticsearch/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en-US">English</a></li><li><a href="/guides/he/docs/programming/elasticsearch/" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="he">עברית</a></li></ul></div><a href="https://github.com/talkohavy/guides/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="toggle_fI0Y colorModeToggle_nrXc"><button class="clean-btn toggleButton_nw4w toggleButtonDisabled_m0O0" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_IyYH"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_zFvR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_fqO2"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_EJcq"><div class="docsWrapper_hw7B"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_nGEB" type="button"></button><div class="docRoot_xCDL"><aside class="theme-doc-sidebar-container docSidebarContainer_jYMX"><div class="sidebarViewport_AXEz"><div class="sidebar_EPGl"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_j7mV"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/guides/he/docs/category/photoshop-guides/">Photoshop</a><button aria-label="Expand sidebar category &#x27;Photoshop&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/guides/he/docs/programming/">Programming</a><button aria-label="Collapse sidebar category &#x27;Programming&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/guides/he/docs/software-concepts/">- Software Concepts</a><button aria-label="Expand sidebar category &#x27;- Software Concepts&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/aws-kubernetes/">- AWS Kubernetes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/crypto/">- Crypto</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/css/">- CSS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/design-patterns/">- Design Patterns</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/docker/">- Docker</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/guides/he/docs/programming/elasticsearch/">- ElasticSearch</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/elk/">- ELK Stack</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/git/">- Git</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/helm/">- Helm</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/kubernetes/">- Kubernetes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/micro-frontends/">- Micro-Frontends</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/mongodb/">- MongoDB</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/nest/">- NestJS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/node/">- Node</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/npm/">- npm publish a package</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/postgres-sql/">- postgressql</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/python-server/">- Python Server</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/regex/">- Regex</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/saml/">- SAML</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/software-architecture/">- Software Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/ssh/">- SSH</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/storybook/">- Storybook</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/syntax-highlighting/">- Syntax Highlighting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/he/docs/programming/what-is-long-polling/">- What is Long-Polling</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/guides/he/docs/video-editing/ffmpeg/">Video Editing</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/guides/he/docs/job-interview/">MISC</a></div></li></ul></nav><button type="button" title="סגור" aria-label="סגור" class="button button--secondary button--outline collapseSidebarButton_OFCp"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_Ht2W"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_NOlw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_d3sn"><div class="docItemContainer_GZuf"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_GkKR" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/guides/he/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_f7ej"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/guides/he/docs/programming/"><span itemprop="name">Programming</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">- ElasticSearch</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_YaSS theme-doc-toc-mobile tocMobile_F3MO"><button type="button" class="clean-btn tocCollapsibleButton_kYBM">בעמוד זה</button></div><div class="theme-doc-markdown markdown"><h1>ElasticSearch</h1>
<h2 class="anchor anchorWithStickyNavbar_MJR6" id="coming-soon">Coming Soon:<a class="hash-link" aria-label="קישור ישיר אל Coming Soon:" title="קישור ישיר אל Coming Soon:" href="/guides/he/docs/programming/elasticsearch/#coming-soon">​</a></h2>
<ul>
<li>inverted index</li>
<li>dynamic mapping</li>
<li>data types (of numbers)</li>
<li>creating a runtime field</li>
<li>precision</li>
<li>recall</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_MJR6" id="1-how-to-query-in-elasticsearch"><strong>1. How to Query in ElasticSearch</strong><a class="hash-link" aria-label="קישור ישיר אל 1-how-to-query-in-elasticsearch" title="קישור ישיר אל 1-how-to-query-in-elasticsearch" href="/guides/he/docs/programming/elasticsearch/#1-how-to-query-in-elasticsearch">​</a></h2>
<p>There are 2 main ways to search in elasticsearch: <code>queries</code> &amp; <code>aggregations</code>. Queries are used to retrieve documents that meet certain criteria.</p>
<p>There are 2 types of queries under the &quot;query&quot; command:</p>
<ul>
<li><strong>Leaf Query Clauses</strong>: These clauses search for a specific value in a specific field.</li>
<li><strong>Compound Query Clauses</strong>: These clauses combine multiple leaf or compound query clauses to build complex queries.</li>
</ul>
<p>Some examples of <strong>leaf query</strong> nodes are:</p>
<ul>
<li><code>match</code></li>
<li><code>term</code></li>
<li><code>exists</code></li>
<li><code>range</code></li>
<li><code>multi_match</code></li>
<li><code>query_string</code></li>
<li><code>match_all</code></li>
</ul>
<p>After all those queries there cannot be any nested queries within.</p>
<p>And then there are the <strong>compound queries</strong>.</p>
<p>Compound is in the sense that it helps combine a bunch of leaf queries together. And this is something we do often, we want several conditions to be met, so we need to combine a number of leaf query nodes.</p>
<p>Some examples of <strong>compound query</strong> arrays:</p>
<ul>
<li><code>bool</code></li>
<li><code>dis_max</code></li>
<li><code>function_score</code></li>
<li><code>boosting</code></li>
<li><code>constant_score</code></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_MJR6" id="a-leaf-queries">A. Leaf Queries<a class="hash-link" aria-label="קישור ישיר אל A. Leaf Queries" title="קישור ישיר אל A. Leaf Queries" href="/guides/he/docs/programming/elasticsearch/#a-leaf-queries">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_MJR6" id="--command-1-match">- Command 1: <code>match</code><a class="hash-link" aria-label="קישור ישיר אל --command-1-match" title="קישור ישיר אל --command-1-match" href="/guides/he/docs/programming/elasticsearch/#--command-1-match">​</a></h4>
<p><strong>The form:</strong></p>
<div class="language-json codeBlockContainer_W3JC theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hTAL"><pre tabindex="0" class="prism-code language-json codeBlock_BAh0 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZFRX"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;query&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;match&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;fieldName&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;query&quot;: &quot;this is a test&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_YHIj"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_lVaM" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_x_ro"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_fX90"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The shortest <code>match</code> form is:</p>
<div class="language-json codeBlockContainer_W3JC theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hTAL"><pre tabindex="0" class="prism-code language-json codeBlock_BAh0 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZFRX"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;query&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;match&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;firstName&quot;: &quot;Sianna&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_YHIj"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_lVaM" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_x_ro"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_fX90"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Description</strong></p>
<p>Returns documents that match a provided text, number, date or boolean value.<br>
<strong>The provided text is analyzed before matching.</strong><br>
<!-- -->The match query is the standard query for performing a full-text search, including options for fuzzy matching.</p>
<p>The match query analyzes any provided text before performing a search. This means the match query can search text fields for analyzed tokens rather than an exact term.</p>
<h5 class="anchor anchorWithStickyNavbar_MJR6" id="option-1-query">Option 1: query<a class="hash-link" aria-label="קישור ישיר אל Option 1: query" title="קישור ישיר אל Option 1: query" href="/guides/he/docs/programming/elasticsearch/#option-1-query">​</a></h5>
<p>(Required) <code>text</code>, <code>number</code>, <code>boolean</code> or <code>date</code> you wish to find in the provided <em>fieldName</em>.</p>
<h5 class="anchor anchorWithStickyNavbar_MJR6" id="option-2-operator">Option 2: operator<a class="hash-link" aria-label="קישור ישיר אל Option 2: operator" title="קישור ישיר אל Option 2: operator" href="/guides/he/docs/programming/elasticsearch/#option-2-operator">​</a></h5>
<p>(Optional, string) Boolean logic used to interpret text in the query value. Valid values are:</p>
<ul>
<li><strong>OR (Default)</strong>
For example, a <code>query</code> value of <code>capital of Hungary</code> is interpreted as <code>capital OR of OR Hungary</code>.</li>
<li><strong>AND</strong>
For example, a <code>query</code> value of <code>capital of Hungary</code> is interpreted as <code>capital AND of AND Hungary</code>.</li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_MJR6" id="option-3-auto_generate_synonyms_phrase_query">Option 3: auto_generate_synonyms_phrase_query<a class="hash-link" aria-label="קישור ישיר אל Option 3: auto_generate_synonyms_phrase_query" title="קישור ישיר אל Option 3: auto_generate_synonyms_phrase_query" href="/guides/he/docs/programming/elasticsearch/#option-3-auto_generate_synonyms_phrase_query">​</a></h5>
<p>(Optional, Boolean) If true, match phrase queries are automatically created for multi-term synonyms. Defaults to true.</p>
<h5 class="anchor anchorWithStickyNavbar_MJR6" id="option-4-boost">Option 4: boost<a class="hash-link" aria-label="קישור ישיר אל Option 4: boost" title="קישור ישיר אל Option 4: boost" href="/guides/he/docs/programming/elasticsearch/#option-4-boost">​</a></h5>
<p>(Optional, float) Floating point number used to decrease or increase the relevance scores of the query. Defaults to 1.0.</p>
<p>Boost values are relative to the default value of 1.0. A boost value between 0 and 1.0 decreases the relevance score. A value greater than 1.0 increases the relevance score.</p>
<h5 class="anchor anchorWithStickyNavbar_MJR6" id="option-5-fuzziness">Option 5: fuzziness<a class="hash-link" aria-label="קישור ישיר אל Option 5: fuzziness" title="קישור ישיר אל Option 5: fuzziness" href="/guides/he/docs/programming/elasticsearch/#option-5-fuzziness">​</a></h5>
<p>(Optional, string) Maximum edit distance allowed for matching. See Fuzziness for valid values and more information. See Fuzziness in the match query for an example.</p>
<br>
<hr>
<h4 class="anchor anchorWithStickyNavbar_MJR6" id="--command-2-term">- Command 2: <code>term</code><a class="hash-link" aria-label="קישור ישיר אל --command-2-term" title="קישור ישיר אל --command-2-term" href="/guides/he/docs/programming/elasticsearch/#--command-2-term">​</a></h4>
<p><strong>The form:</strong></p>
<div class="language-json codeBlockContainer_W3JC theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hTAL"><pre tabindex="0" class="prism-code language-json codeBlock_BAh0 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZFRX"><span class="token-line" style="color:#393A34"><span class="token plain">GET /_search</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;query&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;term&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;fieldName&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;value&quot;: &quot;kimchy&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;case_insensitive&quot;: true // &lt;--- defaults to false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_YHIj"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_lVaM" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_x_ro"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_fX90"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Description</strong></p>
<p>Returns documents that contain an <strong>exact</strong> term in a provided field.</p>
<p>The <code>term</code> query <strong>DOES NOT analyze</strong> the search term. The <code>term</code> query only searches for the exact term you provide. To return a document, the term must exactly match the field value, including whitespace and capitalization.</p>
<p>Most commonly used when wanting to find documents based on a precise value such as a price, a product ID, or a username.</p>
<p>When <code>case_insensitive</code> is set to <code>true</code>, it will allow <strong>case-insensitive</strong> matching of the value with the indexed field values. Defaults to <code>false</code>.</p>
<div class="theme-admonition theme-admonition-warning admonition_TgxI alert alert--warning"><div class="admonitionHeading_HhRy"><span class="admonitionIcon_HWzh"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_jBTa"><p>Avoid using the term query for <code>text</code> fields.</p><p>By default, Elasticsearch changes the values of text fields as part of <code>analysis</code>. This can make finding exact matches for text field values difficult.</p><p>To search <code>text</code> field values, use the <code>match</code> query instead.</p></div></div>
<hr>
<h4 class="anchor anchorWithStickyNavbar_MJR6" id="--command-3-exists">- Command 3: <code>exists</code><a class="hash-link" aria-label="קישור ישיר אל --command-3-exists" title="קישור ישיר אל --command-3-exists" href="/guides/he/docs/programming/elasticsearch/#--command-3-exists">​</a></h4>
<p><strong>The form:</strong></p>
<div class="language-json codeBlockContainer_W3JC theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hTAL"><pre tabindex="0" class="prism-code language-json codeBlock_BAh0 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZFRX"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;query&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;exists&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;field&quot;: &quot;user&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_YHIj"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_lVaM" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_x_ro"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_fX90"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Description</strong></p>
<p>Returns documents that contain an indexed value for a field.</p>
<p>In elasticsearch non-existent can mean the following:</p>
<ul>
<li>The field in the source JSON is <code>null</code> or <code>[]</code></li>
<li>The field has <code>&quot;index&quot;: false</code> and <code>&quot;doc_values&quot;: false</code> set in the mapping</li>
<li>The length of the field value exceeded an <code>ignore_above</code> setting in the mapping</li>
<li>The field value was malformed and ignore_malformed was defined in the mapping</li>
</ul>
<br>
<hr>
<h4 class="anchor anchorWithStickyNavbar_MJR6" id="--command-4-range">- Command 4: <code>range</code><a class="hash-link" aria-label="קישור ישיר אל --command-4-range" title="קישור ישיר אל --command-4-range" href="/guides/he/docs/programming/elasticsearch/#--command-4-range">​</a></h4>
<p><strong>The form:</strong></p>
<div class="language-json codeBlockContainer_W3JC theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hTAL"><pre tabindex="0" class="prism-code language-json codeBlock_BAh0 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZFRX"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;query&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;range&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;age&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;gte&quot;: 10,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;lte&quot;: 20,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;format&quot;: &quot;yyyy-MM-dd&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_YHIj"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_lVaM" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_x_ro"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_fX90"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Description</strong></p>
<p>Returns documents that contain terms within a provided range.</p>
<p>The <code>format</code> is an optional, string value, Date format, which is used to convert date values in the query.</p>
<br>
<hr>
<p>Worth mentioning but rarely used:</p>
<ul>
<li><code>multi_match</code></li>
<li><code>query_string</code></li>
<li><code>simple_query_string</code></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_MJR6" id="b-compound-queries">B. Compound Queries<a class="hash-link" aria-label="קישור ישיר אל B. Compound Queries" title="קישור ישיר אל B. Compound Queries" href="/guides/he/docs/programming/elasticsearch/#b-compound-queries">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_MJR6" id="--command-parent-bool">- Command parent: <code>bool</code><a class="hash-link" aria-label="קישור ישיר אל --command-parent-bool" title="קישור ישיר אל --command-parent-bool" href="/guides/he/docs/programming/elasticsearch/#--command-parent-bool">​</a></h4>
<p><strong>The form:</strong></p>
<div class="language-json codeBlockContainer_W3JC theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hTAL"><pre tabindex="0" class="prism-code language-json codeBlock_BAh0 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZFRX"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;query&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;bool&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;must&quot;: [],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;filter&quot;: [],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;should&quot;: [],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;must_not&quot;: []</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_YHIj"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_lVaM" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_x_ro"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_fX90"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Description:</strong></p>
<p>The bool compound is useful when you want to combine a number of leaf queries by using a boolean operation like an <code>AND</code> or <code>OR</code> or <code>NOT</code>.</p>
<p>Use <code>bool.must</code> when you need to implement an <code>AND</code>.<br>
<!-- -->Use <code>bool.should</code> when you need to implement an <code>OR</code> operator.<br>
<!-- -->Use <code>bool.must_not</code> when you need to implement a <code>NOT</code> operator.</p>
<p>All 3 are nothing but arrays of sub-documents, inside which we need to write all the leaf queries.</p>
<p>Like <code>bool.must</code>, the <code>bool.must_not</code> has an <code>AND</code> relation between all its leaf nodes.</p>
<p><strong><em><font size="4"><code>bool.filter</code> V.S. <code>bool.must</code></font></em></strong></p>
<p>There&#x27;s a fourth member called <code>bool.filter</code> we haven&#x27;t talked about.</p>
<p>In a way, the <code>bool.filter</code> and the <code>bool.must</code> are very much alike. They only differ by some small things. When we write a leaf query inside a <code>bool.must</code>, that query will contribute to the <strong>relevance score</strong>, but if it written inside the <code>bool.filter</code>, it will not have any effect on the score. Use <code>bool.filter</code> for faster searches, because there is no score to compute and no ranking to be done.</p>
<br>
<br>
<h4 class="anchor anchorWithStickyNavbar_MJR6" id="--command-1-boolmust">- Command 1: <code>bool.must</code><a class="hash-link" aria-label="קישור ישיר אל --command-1-boolmust" title="קישור ישיר אל --command-1-boolmust" href="/guides/he/docs/programming/elasticsearch/#--command-1-boolmust">​</a></h4>
<p><strong>The form:</strong></p>
<div class="language-json codeBlockContainer_W3JC theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hTAL"><pre tabindex="0" class="prism-code language-json codeBlock_BAh0 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZFRX"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;query&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;bool&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;must&quot;: [],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_YHIj"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_lVaM" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_x_ro"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_fX90"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Description:</strong></p>
<p><code>bool.must</code> is like an <code>AND</code> operation. The <code>must</code> is an array of checks, and <strong>ALL</strong> checks must be met in order for a document to go through and be considered a result. <code>must</code> goes really well together with the <code>match</code> leaf query.</p>
<p><strong>Usage Example:</strong></p>
<div class="language-json codeBlockContainer_W3JC theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hTAL"><pre tabindex="0" class="prism-code language-json codeBlock_BAh0 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZFRX"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;query&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;bool&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;must&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        { &quot;match&quot;: { &quot;fieldName&quot;: &quot;Luna&quot; } }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_YHIj"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_lVaM" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_x_ro"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_fX90"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<br>
<br>
<h4 class="anchor anchorWithStickyNavbar_MJR6" id="--command-2-boolfilter">- Command 2: <code>bool.filter</code><a class="hash-link" aria-label="קישור ישיר אל --command-2-boolfilter" title="קישור ישיר אל --command-2-boolfilter" href="/guides/he/docs/programming/elasticsearch/#--command-2-boolfilter">​</a></h4>
<p><strong>The form:</strong></p>
<div class="language-json codeBlockContainer_W3JC theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hTAL"><pre tabindex="0" class="prism-code language-json codeBlock_BAh0 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZFRX"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;query&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;bool&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;must&quot;: [],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_YHIj"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_lVaM" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_x_ro"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_fX90"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Description:</strong></p>
<p>Only documents that meet the criteria mentioned under <code>bool.filter</code> would pass through. The <code>bool.filter</code> field <em>DOES NOT affect the ranking</em> score of each document. Using ONLY the <code>bool.filter</code> field in our query would result in all returned documents having a score of 0, because we haven&#x27;t specified a &quot;relevance&quot; factor to be taken into consideration.</p>
<p><strong>Usage Example:</strong></p>
<div class="language-json codeBlockContainer_W3JC theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hTAL"><pre tabindex="0" class="prism-code language-json codeBlock_BAh0 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZFRX"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;query&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;bool&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;filter&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        { &quot;match&quot;: { &quot;fieldName&quot;: &quot;Luna&quot; } },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        { &quot;exists&quot;: { &quot;field&quot;: &quot;fieldName&quot; } },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        { &quot;range&quot;: { &quot;salary&quot;: { &quot;gte&quot;: 5000, &quot;lte&quot;: 20000 } } }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_YHIj"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_lVaM" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_x_ro"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_fX90"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<br>
<br>
<h4 class="anchor anchorWithStickyNavbar_MJR6" id="--command-3-boolshould">- Command 3: <code>bool.should</code><a class="hash-link" aria-label="קישור ישיר אל --command-3-boolshould" title="קישור ישיר אל --command-3-boolshould" href="/guides/he/docs/programming/elasticsearch/#--command-3-boolshould">​</a></h4>
<p><strong>The form:</strong></p>
<div class="language-json codeBlockContainer_W3JC theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hTAL"><pre tabindex="0" class="prism-code language-json codeBlock_BAh0 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZFRX"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;query&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;bool&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;should&quot;: [],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_YHIj"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_lVaM" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_x_ro"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_fX90"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Description:</strong></p>
<p><code>bool.should</code> is like an <code>OR</code> operation. It is an array of checks, and <strong>AT LEAST ONE</strong> check must be met in order for a document to go through and be considered a result. Like <code>bool.must</code>, the <code>bool.should</code> goes really well with the <code>match</code> leaf node.</p>
<p><strong>Usage Example:</strong></p>
<div class="language-json codeBlockContainer_W3JC theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hTAL"><pre tabindex="0" class="prism-code language-json codeBlock_BAh0 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZFRX"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;query&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;bool&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;should&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        { &quot;match&quot;: { &quot;job_desc&quot;: &quot;President&quot; } },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        { &quot;match&quot;: { &quot;name&quot;: &quot;Anna&quot; } },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_YHIj"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_lVaM" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_x_ro"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_fX90"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In the example above, the documents to be returned would:</p>
<ul>
<li>Either have a name of &quot;Anna&quot;.</li>
<li>Either have a job description of President</li>
<li>Or both!</li>
</ul>
<br>
<br>
<h4 class="anchor anchorWithStickyNavbar_MJR6" id="--command-4-boolfilter">- Command 4: <code>bool.filter</code><a class="hash-link" aria-label="קישור ישיר אל --command-4-boolfilter" title="קישור ישיר אל --command-4-boolfilter" href="/guides/he/docs/programming/elasticsearch/#--command-4-boolfilter">​</a></h4>
<p><strong>The form:</strong></p>
<div class="language-json codeBlockContainer_W3JC theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hTAL"><pre tabindex="0" class="prism-code language-json codeBlock_BAh0 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZFRX"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;query&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;bool&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;must&quot;: [],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_YHIj"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_lVaM" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_x_ro"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_fX90"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Description:</strong></p>
<p>We use the <code>bool.filter</code> to filter out results based on a &quot;yes / no&quot; questions. Only documents that meet the criteria mentioned under this field would pass through. The filter field <em>DOES NOT affect the ranking</em> score of each document. Using ONLY the <code>bool.filter</code> field in our query would result in all returned documents having a score of 0, because we haven&#x27;t specified a &quot;relevance&quot; factor to be taken into consideration.</p>
<p><strong>Usage Example:</strong></p>
<div class="language-json codeBlockContainer_W3JC theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hTAL"><pre tabindex="0" class="prism-code language-json codeBlock_BAh0 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZFRX"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;query&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;bool&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;filter&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        { &quot;match&quot;: { &quot;fieldName&quot;: &quot;Luna&quot; } },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        { &quot;exists&quot;: { &quot;field&quot;: &quot;fieldName&quot; } },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        { &quot;range&quot;: { &quot;salary&quot;: { &quot;gte&quot;: 5000, &quot;lte&quot;: 20000 } } }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_YHIj"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_lVaM" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_x_ro"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_fX90"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_MJR6" id="2-aggregation-queries"><strong>2. Aggregation Queries</strong><a class="hash-link" aria-label="קישור ישיר אל 2-aggregation-queries" title="קישור ישיר אל 2-aggregation-queries" href="/guides/he/docs/programming/elasticsearch/#2-aggregation-queries">​</a></h2>
<p><strong>The aggregation form:</strong></p>
<div class="language-json codeBlockContainer_W3JC theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hTAL"><pre tabindex="0" class="prism-code language-json codeBlock_BAh0 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZFRX"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;size&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;aggs&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;name-your-agg-here&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;specify agg type here&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;field&quot;: &quot;name of the field you want to aggregate upon&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;size&quot;: &quot;state how many buckets you want returned&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_YHIj"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_lVaM" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_x_ro"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_fX90"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-info admonition_TgxI alert alert--info"><div class="admonitionHeading_HhRy"><span class="admonitionIcon_HWzh"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_jBTa"><p>Notice the <code>size: 0</code> mentioned above?</p><p>When querying using the aggregation, our results would appear under a key called <code>aggregations</code>. However, there would still be a <code>hits</code> key, containing results of actual rows. Generally speaking, we could omit the <code>size: 0</code>, and the query would run just fine. It&#x27;s just that by default, elastic search returns the top 10 results inside the <code>hits</code> array field. But when doing an <code>aggregation</code>, we&#x27;re not interested in the <code>hits</code>, we&#x27;re interested in the <code>aggregations</code> result. To hide those 10 results, prefer settings <code>size</code> to 0. This tells elasticsearch to forget about the top 10 results, because we&#x27;re just not interested in them.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_MJR6" id="aggregation-type-1-terms">Aggregation Type 1: <code>terms</code><a class="hash-link" aria-label="קישור ישיר אל aggregation-type-1-terms" title="קישור ישיר אל aggregation-type-1-terms" href="/guides/he/docs/programming/elasticsearch/#aggregation-type-1-terms">​</a></h3>
<p><strong>The form:</strong></p>
<div class="language-json codeBlockContainer_W3JC theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hTAL"><pre tabindex="0" class="prism-code language-json codeBlock_BAh0 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZFRX"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;size&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;aggs&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;nameTheAgg&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;terms&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;field&quot;: &quot;firstName.keyword&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;size&quot;: &quot;100&quot;, // &lt;--- optional! defaults to 10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;order&quot;: { &quot;_count&quot;: &quot;asc&quot; } // &lt;--- optional! default to `&quot;order&quot;: { &quot;_count&quot;: &quot;desc&quot; }`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_YHIj"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_lVaM" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_x_ro"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_fX90"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Description</strong></p>
<p>The <code>terms</code> aggregation creates a new <code>bucket</code> <em>for every unique term</em> it encounters for the specified field.</p>
<p>It is often used to find the most frequently found terms in a document.</p>
<p>By default, it returns top 10 terms that are most frequently mentioned in a given dataset, which means it creates up to 10 buckets.</p>
<p>We can override that default behavior and set a custom max bucket size, using the <code>size</code> field.</p>
<p>A <code>terms</code> aggregation <strong>already counts</strong> for us how many documents fell under each bucket, and is naming the count field for each bucket as <code>doc_count</code>, giving it its count value.</p>
<p>By default, the <code>terms</code> aggregation will sort the buckets by the doc<em>count values, _in a descending order</em>. You could specify an ascending order if you&#x27;d like.</p>
<div class="theme-admonition theme-admonition-info admonition_TgxI alert alert--info"><div class="admonitionHeading_HhRy"><span class="admonitionIcon_HWzh"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_jBTa"><p>Note the <code>.keyword</code> addition on the <em>firstName</em> above?</p><p>When the field is of type <code>text</code>, if you don&#x27;t add the <code>.keyword</code>, you&#x27;ll get back an error!</p><p><em>&quot;Text fields are not optimiszed for operations that require per-document field data like aggregations and sorting, so these operations are disabled by default. Please use a keyword field instead. Alternatively, set fielddata=true on [firstName] in order to load field data by uninverting the inverted index. Note that this can use significant memory.&quot;</em></p></div></div>
<br>
<br>
<h3 class="anchor anchorWithStickyNavbar_MJR6" id="aggregation-type-2-metric-aggs-sum-avg-min-max">Aggregation Type 2: metric aggs <code>sum</code>, <code>avg</code>, <code>min</code>, <code>max</code><a class="hash-link" aria-label="קישור ישיר אל aggregation-type-2-metric-aggs-sum-avg-min-max" title="קישור ישיר אל aggregation-type-2-metric-aggs-sum-avg-min-max" href="/guides/he/docs/programming/elasticsearch/#aggregation-type-2-metric-aggs-sum-avg-min-max">​</a></h3>
<p><strong>The form:</strong></p>
<div class="language-json codeBlockContainer_W3JC theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hTAL"><pre tabindex="0" class="prism-code language-json codeBlock_BAh0 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZFRX"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;size&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;aggs&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;sum_unit_price_agg&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;sum&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;field&quot;: &quot;unitPrice&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;max_unit_price_agg&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;max&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;field&quot;: &quot;unitPrice&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;min_unit_price_agg&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;min&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;field&quot;: &quot;unitPrice&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;avg_unit_price_agg&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;avg&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;field&quot;: &quot;unitPrice&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_YHIj"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_lVaM" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_x_ro"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_fX90"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Description</strong></p>
<p>Notice how under each custom name there must be only 1 metric aggregation (either sum, max, min or avg). Having more then 1 would result in an error.</p>
<p><strong>A Result Example</strong></p>
<div class="language-json codeBlockContainer_W3JC theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hTAL"><pre tabindex="0" class="prism-code language-json codeBlock_BAh0 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZFRX"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;took&quot; : 39,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;timed_out&quot; : false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;_shards&quot; : {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;total&quot; : 1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;successful&quot; : 1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;skipped&quot; : 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;failed&quot; : 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;hits&quot; : {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;total&quot; : {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;value&quot; : 1002,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;relation&quot; : &quot;eq&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;max_score&quot; : null,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;hits&quot; : [ ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;aggregations&quot; : {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;sum_unit_price_agg&quot; : {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;value&quot; : 1.89859304075E12</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;max_unit_price_agg&quot; : {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;value&quot; : 6.413472E11</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;min_unit_price_agg&quot; : {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;value&quot; : 3.091809E7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;avg_unit_price_agg&quot; : {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;value&quot; : 1.8948034338822355E9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_YHIj"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_lVaM" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_x_ro"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_fX90"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<br>
<br>
<h3 class="anchor anchorWithStickyNavbar_MJR6" id="aggregation-type-3-stats">Aggregation Type 3: <code>stats</code><a class="hash-link" aria-label="קישור ישיר אל aggregation-type-3-stats" title="קישור ישיר אל aggregation-type-3-stats" href="/guides/he/docs/programming/elasticsearch/#aggregation-type-3-stats">​</a></h3>
<p><strong>The form:</strong></p>
<div class="language-json codeBlockContainer_W3JC theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hTAL"><pre tabindex="0" class="prism-code language-json codeBlock_BAh0 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZFRX"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;size&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;aggs&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;unit_price_agg&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;stats&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;field&quot;: &quot;unitPrice&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_YHIj"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_lVaM" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_x_ro"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_fX90"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Description</strong></p>
<p>Running all these metrics, <code>min</code>, <code>max</code>, <code>avg</code>, and <code>sum</code> can be quite tedious. That&#x27;s why elasticsearch developed the action called <code>stats</code>, that calculates all these aggregation metrics in one go for us.</p>
<p><strong>A Result Example</strong></p>
<div class="language-json codeBlockContainer_W3JC theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hTAL"><pre tabindex="0" class="prism-code language-json codeBlock_BAh0 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZFRX"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;aggregations&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;all_stats_unit_price&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;count&quot;: 426,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;min&quot;: 1.01,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;max&quot;: 498,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;avg&quot;: 4.39,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;sum&quot;: 1876200,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_YHIj"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_lVaM" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_x_ro"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_fX90"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Notice that the response form is a bit different than if you were to use each one separately.</p>
<br>
<br>
<h3 class="anchor anchorWithStickyNavbar_MJR6" id="aggregation-type-4-cardinality">Aggregation Type 4: <code>cardinality</code><a class="hash-link" aria-label="קישור ישיר אל aggregation-type-4-cardinality" title="קישור ישיר אל aggregation-type-4-cardinality" href="/guides/he/docs/programming/elasticsearch/#aggregation-type-4-cardinality">​</a></h3>
<p><strong>The form:</strong></p>
<div class="language-json codeBlockContainer_W3JC theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hTAL"><pre tabindex="0" class="prism-code language-json codeBlock_BAh0 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZFRX"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;size&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;aggs&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;some_agg_name&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;cardinality&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;field&quot;: &quot;fieldName&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;precision_threshold&quot;: 100 // &lt;--- optional! defaults to 3000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_YHIj"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_lVaM" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_x_ro"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_fX90"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Description</strong></p>
<p>A single-value metrics aggregation that calculates an approximate count of distinct values.</p>
<p>This is best explained with an example. Consider you have a shopping table, and a certain column is the name of the product that was purchased. So you might see: <code>orange</code>, <code>orange</code>, <code>banana</code>, <code>orange</code>, <code>apple</code>, <code>apple</code>, <code>apple</code>. Using the <code>cardinality</code> agg, you&#x27;ll get back the value 3.</p>
<p>Note about the word <strong>approximate</strong>. For high numbers this <code>cardinality</code> agg isn&#x27;t accurate. Use it when the distinct count is low.</p>
<p>The default <code>threshold</code> value is 3000.<br>
<!-- -->The maximum supported value is 40000, thresholds above this number will have the same effect as a threshold of 40000</p>
<br>
<br>
<h3 class="anchor anchorWithStickyNavbar_MJR6" id="aggregation-type-5-bucket-aggs-histogram--date_histogram">Aggregation Type 5: bucket aggs <code>histogram</code> &amp; <code>date_histogram</code><a class="hash-link" aria-label="קישור ישיר אל aggregation-type-5-bucket-aggs-histogram--date_histogram" title="קישור ישיר אל aggregation-type-5-bucket-aggs-histogram--date_histogram" href="/guides/he/docs/programming/elasticsearch/#aggregation-type-5-bucket-aggs-histogram--date_histogram">​</a></h3>
<p><strong>The form:</strong></p>
<div class="language-json codeBlockContainer_W3JC theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hTAL"><pre tabindex="0" class="prism-code language-json codeBlock_BAh0 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZFRX"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;size&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;aggs&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;some_agg_name&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;date_histogram&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;field&quot;: &quot;fieldName&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;fixed_interval&quot;: &quot;specify the interval here, for example: 8h &quot;, // &lt;--- optional! defaults to...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;calendar_interval&quot;: &quot;specify the interval here, for example: 1M &quot; // &lt;--- optional! defaults to...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_YHIj"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_lVaM" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_x_ro"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_fX90"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-info admonition_TgxI alert alert--info"><div class="admonitionHeading_HhRy"><span class="admonitionIcon_HWzh"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_jBTa"><p>NOTE!</p><p>You can use either <code>fixed_interval</code>, or <code>calendar_interval</code>, but <strong>NOT BOTH</strong>!</p></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_MJR6" id="3-misc"><strong>3. Misc.</strong><a class="hash-link" aria-label="קישור ישיר אל 3-misc" title="קישור ישיר אל 3-misc" href="/guides/he/docs/programming/elasticsearch/#3-misc">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_MJR6" id="--a-track_total_hits">- A. <code>track_total_hits</code><a class="hash-link" aria-label="קישור ישיר אל --a-track_total_hits" title="קישור ישיר אל --a-track_total_hits" href="/guides/he/docs/programming/elasticsearch/#--a-track_total_hits">​</a></h3>
<p><strong>The form:</strong></p>
<div class="language-json codeBlockContainer_W3JC theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hTAL"><pre tabindex="0" class="prism-code language-json codeBlock_BAh0 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZFRX"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;track_total_hits&quot;: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;query&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;match_all&quot;: { }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_YHIj"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_lVaM" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_x_ro"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_fX90"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Description</strong></p>
<p>Generally the total hit count can&#x27;t be computed accurately without visiting all matches, which is costly for queries that match lots of documents. The <code>track_total_hits</code> parameter allows you to control how the total number of hits should be tracked.</p>
<p>The default value <code>track_total_hits</code> is set to 10,000.</p>
<p>This means that requests will count the total hit accurately up to 10,000 hits. It is a good trade off to speed up searches if you don’t need the accurate number of hits after a certain threshold.</p>
<p>When <code>track_total_hits</code> is set to <code>true</code> the search response will always track the accurate number of hits that match the query.</p>
<h3 class="anchor anchorWithStickyNavbar_MJR6" id="-b-from--size-pagination">-B. <code>from</code> &amp; <code>size</code> (Pagination)<a class="hash-link" aria-label="קישור ישיר אל -b-from--size-pagination" title="קישור ישיר אל -b-from--size-pagination" href="/guides/he/docs/programming/elasticsearch/#-b-from--size-pagination">​</a></h3>
<p><strong>The form:</strong></p>
<div class="language-json codeBlockContainer_W3JC theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hTAL"><pre tabindex="0" class="prism-code language-json codeBlock_BAh0 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZFRX"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;size&quot;: 10,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;from&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;query&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;match_all&quot;: { }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_YHIj"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_lVaM" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_x_ro"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_fX90"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Description</strong></p>
<p>The <code>size</code> parameter is the maximum number of hits to return. Defaults to 10.
The <code>from</code> parameter defines the number of hits to skip. Defaults to 0.</p>
<p>Combine these two together, these parameters define a page of results.</p>
<h3 class="anchor anchorWithStickyNavbar_MJR6" id="-c-_source">-C. <code>_source</code><a class="hash-link" aria-label="קישור ישיר אל -c-_source" title="קישור ישיר אל -c-_source" href="/guides/he/docs/programming/elasticsearch/#-c-_source">​</a></h3>
<p><strong>The form:</strong></p>
<div class="language-json codeBlockContainer_W3JC theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hTAL"><pre tabindex="0" class="prism-code language-json codeBlock_BAh0 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZFRX"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;_source&quot;: [ &quot;firstName&quot;, &quot;age&quot; ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;from&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;query&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;match_all&quot;: { }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_YHIj"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_lVaM" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_x_ro"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_fX90"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Description</strong></p>
<p>Use the <code>_source: []</code> to specify what fields would be retrieved and returned back to the user.</p>
<p>By default, <code>_source</code> includes all the fields within a document.</p>
<p>When you query the database, under <code>hits</code> is where you see the results. Each <code>hit</code> includes a <code>_source</code> key. <code>_source</code> contains the content of the retrieved document itself.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_MJR6" id="4-practical-examples"><strong>4. Practical Examples</strong><a class="hash-link" aria-label="קישור ישיר אל 4-practical-examples" title="קישור ישיר אל 4-practical-examples" href="/guides/he/docs/programming/elasticsearch/#4-practical-examples">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_MJR6" id="--action-1-get-a-document-by-id">- Action 1: Get a Document by id<a class="hash-link" aria-label="קישור ישיר אל - Action 1: Get a Document by id" title="קישור ישיר אל - Action 1: Get a Document by id" href="/guides/he/docs/programming/elasticsearch/#--action-1-get-a-document-by-id">​</a></h3>
<p><strong>The command:</strong></p>
<div class="language-bash codeBlockContainer_W3JC theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hTAL"><pre tabindex="0" class="prism-code language-bash codeBlock_BAh0 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZFRX"><span class="token-line" style="color:#393A34"><span class="token plain">GET NAME_OF_INDEX/_doc/id_of_document</span><br></span></code></pre><div class="buttonGroup_YHIj"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_lVaM" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_x_ro"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_fX90"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Tip: Reading it from right to left would make sense. We&#x27;re requesting the id, of a _document, inside of an index called &quot;NAME_OF_INDEX&quot;.</p>
<p>An example for a good response would like:</p>
<div class="language-json codeBlockContainer_W3JC theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hTAL"><pre tabindex="0" class="prism-code language-json codeBlock_BAh0 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZFRX"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;_index&quot;: &quot;NAME_OF_INDEX&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;_type&quot;: &quot;_doc &quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;_id&quot;: &quot;1&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;_version&quot;: 1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;_seq_no&quot;: 1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;found&quot;: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;_source&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;first_name&quot;: &quot;John&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;candy&quot;: &quot;kinder bueno&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_YHIj"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_lVaM" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_x_ro"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_fX90"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Notice that the <code>_source</code> part is containing the information inside the document.</p>
<h3 class="anchor anchorWithStickyNavbar_MJR6" id="--action-2-get-all-documents">- Action 2: Get all Documents<a class="hash-link" aria-label="קישור ישיר אל - Action 2: Get all Documents" title="קישור ישיר אל - Action 2: Get all Documents" href="/guides/he/docs/programming/elasticsearch/#--action-2-get-all-documents">​</a></h3>
<p><strong>The command:</strong></p>
<div class="language-json codeBlockContainer_W3JC theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hTAL"><pre tabindex="0" class="prism-code language-json codeBlock_BAh0 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZFRX"><span class="token-line" style="color:#393A34"><span class="token plain">GET NAME_OF_INDEX/_search</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;query&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;match_all&quot;: {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_YHIj"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_lVaM" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_x_ro"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_fX90"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_MJR6" id="--action-3-get-documents-where-field-is-an-exact-match-to-value">- Action 3: Get Documents where FIELD is an exact match to value<a class="hash-link" aria-label="קישור ישיר אל - Action 3: Get Documents where FIELD is an exact match to value" title="קישור ישיר אל - Action 3: Get Documents where FIELD is an exact match to value" href="/guides/he/docs/programming/elasticsearch/#--action-3-get-documents-where-field-is-an-exact-match-to-value">​</a></h3>
<p><strong>The command:</strong></p>
<div class="language-json codeBlockContainer_W3JC theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hTAL"><pre tabindex="0" class="prism-code language-json codeBlock_BAh0 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZFRX"><span class="token-line" style="color:#393A34"><span class="token plain">GET /NAME_OF_INDEX/_search</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;query&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;term&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;custom_field_name&quot;: 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_YHIj"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_lVaM" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_x_ro"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_fX90"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_MJR6" id="--action-4-get-documents-where-field-value-ranges-between-x--y">- Action 4: Get Documents where Field value ranges between x &amp; Y<a class="hash-link" aria-label="קישור ישיר אל - Action 4: Get Documents where Field value ranges between x &amp; Y" title="קישור ישיר אל - Action 4: Get Documents where Field value ranges between x &amp; Y" href="/guides/he/docs/programming/elasticsearch/#--action-4-get-documents-where-field-value-ranges-between-x--y">​</a></h3>
<p><strong>The command:</strong></p>
<div class="language-json codeBlockContainer_W3JC theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hTAL"><pre tabindex="0" class="prism-code language-json codeBlock_BAh0 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZFRX"><span class="token-line" style="color:#393A34"><span class="token plain">GET /NAME_OF_INDEX/_search</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;query&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;range&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;YYY&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;gte&quot;: &quot;2024-01-01&quot;, // or: &quot;2024-09-30T00:00:00&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;lte&quot;: &quot;2024-12-31&quot;, // or: &quot;2024-09-30T23:59:59&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;format&quot;: &quot;yyyy-MM-dd&quot; // or: &quot;yyyy-MM-dd&#x27;T&#x27;HH:mm:ss&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_YHIj"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_lVaM" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_x_ro"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_fX90"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If the <code>format</code> parameter is omitted, Elasticsearch will use the default format defined in the mapping of the <code>YYY</code> field. The default format for date fields in Elasticsearch is typically <code>strict_date_optional_time || epoch_millis</code>, which means:</p>
<ol>
<li>
<p><code>strict_date_optional_time</code>: Accepts dates in various common formats, such as <code>yyyy-MM-dd</code> (e.g., <code>2024-01-01</code>), <code>yyyy-MM-dd&#x27;T&#x27;HH:mm:ssZ</code> (e.g., <code>2024-01-01T00:00:00Z</code>), and more.</p>
</li>
<li>
<p><code>epoch_millis</code>: Accepts dates as timestamps in milliseconds since the Unix epoch (e.g., <code>1704067200000</code> for <code>2024-01-01T00:00:00Z</code>).</p>
</li>
</ol>
<p><strong>Behavior Without format</strong></p>
<ul>
<li>
<p>If your date values match the default format (e.g., <code>yyyy-MM-dd</code> or ISO 8601), the query works without specifying <code>format</code>.</p>
</li>
<li>
<p>If your dates use a non-standard format (e.g., <code>dd-MM-yyyy</code>), Elasticsearch might fail to parse them correctly unless <code>format</code> is explicitly specified to match the custom format.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_MJR6" id="--action-5-get-avg-value-of-field">- Action 5: Get avg value of field<a class="hash-link" aria-label="קישור ישיר אל - Action 5: Get avg value of field" title="קישור ישיר אל - Action 5: Get avg value of field" href="/guides/he/docs/programming/elasticsearch/#--action-5-get-avg-value-of-field">​</a></h3>
<p><strong>The command:</strong></p>
<div class="language-json codeBlockContainer_W3JC theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hTAL"><pre tabindex="0" class="prism-code language-json codeBlock_BAh0 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZFRX"><span class="token-line" style="color:#393A34"><span class="token plain">GET /NAME_OF_INDEX/_search</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;size&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;aggs&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;my_average_price&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;avg&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;field&quot;: &quot;FIELD_NAME&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_YHIj"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_lVaM" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_x_ro"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_fX90"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_MJR6" id="--action-6-count-how-many-instances-of-a-certain-value-are-there">- Action 6: Count how many instances of a certain value are there<a class="hash-link" aria-label=" קישור ישיר אל - Action 6: Count how many instances of a certain value are there" title="קישור ישיר אל - Action 6: Count how many instances of a certain value are there" href="/guides/he/docs/programming/elasticsearch/#--action-6-count-how-many-instances-of-a-certain-value-are-there">​</a></h3>
<p><strong>The command:</strong></p>
<div class="language-json codeBlockContainer_W3JC theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hTAL"><pre tabindex="0" class="prism-code language-json codeBlock_BAh0 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZFRX"><span class="token-line" style="color:#393A34"><span class="token plain">GET /NAME_OF_INDEX/_search</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;size&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;aggs&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;products_by_category&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;terms&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;field&quot;: &quot;FIELD_NAME.keyword&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_YHIj"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_lVaM" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_x_ro"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_fX90"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_MJR6" id="--action-7-get-the-sum-value-of-field_name">- Action 7: Get the sum value of FIELD_NAME<a class="hash-link" aria-label="קישור ישיר אל - Action 7: Get the sum value of FIELD_NAME" title="קישור ישיר אל - Action 7: Get the sum value of FIELD_NAME" href="/guides/he/docs/programming/elasticsearch/#--action-7-get-the-sum-value-of-field_name">​</a></h3>
<p><strong>The command:</strong></p>
<div class="language-json codeBlockContainer_W3JC theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hTAL"><pre tabindex="0" class="prism-code language-json codeBlock_BAh0 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZFRX"><span class="token-line" style="color:#393A34"><span class="token plain">GET /products/_search</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;size&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;aggs&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;total_value&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;sum&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;field&quot;: &quot;price&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_YHIj"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_lVaM" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_x_ro"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_fX90"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>sum</code> Adds up values of a numeric field.</p>
<h3 class="anchor anchorWithStickyNavbar_MJR6" id="--action-8-get-the-avg-value-of-field_name">- Action 8: Get the avg value of FIELD_NAME<a class="hash-link" aria-label="קישור ישיר אל - Action 8: Get the avg value of FIELD_NAME" title="קישור ישיר אל - Action 8: Get the avg value of FIELD_NAME" href="/guides/he/docs/programming/elasticsearch/#--action-8-get-the-avg-value-of-field_name">​</a></h3>
<p><strong>The command:</strong></p>
<div class="language-json codeBlockContainer_W3JC theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hTAL"><pre tabindex="0" class="prism-code language-json codeBlock_BAh0 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZFRX"><span class="token-line" style="color:#393A34"><span class="token plain">GET /products/_search</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;size&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;aggs&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;average_price&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;avg&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;field&quot;: &quot;price&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_YHIj"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_lVaM" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_x_ro"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_fX90"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_MJR6" id="--action-9-get-the-minmax-value-of-field_name">- Action 9: Get the min/max value of FIELD_NAME<a class="hash-link" aria-label="קישור ישיר אל - Action 9: Get the min/max value of FIELD_NAME" title="קישור ישיר אל - Action 9: Get the min/max value of FIELD_NAME" href="/guides/he/docs/programming/elasticsearch/#--action-9-get-the-minmax-value-of-field_name">​</a></h3>
<p><strong>The command:</strong></p>
<div class="language-json codeBlockContainer_W3JC theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hTAL"><pre tabindex="0" class="prism-code language-json codeBlock_BAh0 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZFRX"><span class="token-line" style="color:#393A34"><span class="token plain">GET /products/_search</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;size&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;aggs&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;lowest_price&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;min&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;field&quot;: &quot;price&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_YHIj"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_lVaM" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_x_ro"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_fX90"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>min</code> / <code>max</code> finds the minimum or maximum value. Works on date fields as well.</p>
<p>Here&#x27;s an example with a date:</p>
<div class="language-json codeBlockContainer_W3JC theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hTAL"><pre tabindex="0" class="prism-code language-json codeBlock_BAh0 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZFRX"><span class="token-line" style="color:#393A34"><span class="token plain">GET /your_index/_search</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;size&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;aggs&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;earliest_date&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;min&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;field&quot;: &quot;your_date_field&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;latest_date&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;max&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;field&quot;: &quot;your_date_field&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_YHIj"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_lVaM" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_x_ro"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_fX90"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The results will be in epoch milliseconds by default, but you can format them to human-readable dates by adding the &quot;format&quot; parameter. For example:</p>
<div class="language-json codeBlockContainer_W3JC theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hTAL"><pre tabindex="0" class="prism-code language-json codeBlock_BAh0 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZFRX"><span class="token-line" style="color:#393A34"><span class="token plain">&quot;earliest_date&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;min&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;field&quot;: &quot;your_date_field&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;format&quot;: &quot;yyyy-MM-dd&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_YHIj"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_lVaM" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_x_ro"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_fX90"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_MJR6" id="--action-10-group-by-some-field-name">- Action 10: Group by some field name<a class="hash-link" aria-label="קישור ישיר אל - Action 10: Group by some field name" title="קישור ישיר אל - Action 10: Group by some field name" href="/guides/he/docs/programming/elasticsearch/#--action-10-group-by-some-field-name">​</a></h3>
<p><strong>The command:</strong></p>
<div class="language-json codeBlockContainer_W3JC theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hTAL"><pre tabindex="0" class="prism-code language-json codeBlock_BAh0 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZFRX"><span class="token-line" style="color:#393A34"><span class="token plain">GET /products/_search</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;size&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;aggs&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;products_by_category&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;terms&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;field&quot;: &quot;category.keyword&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_YHIj"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_lVaM" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_x_ro"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_fX90"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Here, terms aggregation creates a bucket for each unique category and counts the products in each.</p>
<h3 class="anchor anchorWithStickyNavbar_MJR6" id="--action-11-group-documents-by-time-intervals-day-week-month">- Action 11: Group documents by time intervals (day, week, month).<a class="hash-link" aria-label="קישור ישיר אל - Action 11: Group documents by time intervals (day, week, month)." title="קישור ישיר אל - Action 11: Group documents by time intervals (day, week, month)." href="/guides/he/docs/programming/elasticsearch/#--action-11-group-documents-by-time-intervals-day-week-month">​</a></h3>
<p><strong>The command:</strong></p>
<div class="language-json codeBlockContainer_W3JC theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hTAL"><pre tabindex="0" class="prism-code language-json codeBlock_BAh0 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ZFRX"><span class="token-line" style="color:#393A34"><span class="token plain">GET /logs/_search</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;size&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;aggs&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;logs_per_day&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;date_histogram&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;field&quot;: &quot;timestamp&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;calendar_interval&quot;: &quot;day&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_YHIj"><button type="button" aria-label="העתק קוד ללוח העריכה" title="העתק" class="clean-btn"><span class="copyButtonIcons_lVaM" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_x_ro"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_fX90"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_MJR6" id="7-learn-about-the-operations">7. Learn about the Operations<a class="hash-link" aria-label="קישור ישיר אל 7. Learn about the Operations" title="קישור ישיר אל 7. Learn about the Operations" href="/guides/he/docs/programming/elasticsearch/#7-learn-about-the-operations">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_MJR6" id="--setting-size-to-0">- Setting Size to 0<a class="hash-link" aria-label="קישור ישיר אל - Setting Size to 0" title="קישור ישיר אל - Setting Size to 0" href="/guides/he/docs/programming/elasticsearch/#--setting-size-to-0">​</a></h3>
<p>Setting &quot;size&quot;: 0 in an Elasticsearch query tells Elasticsearch not to return any document results—only the aggregation data. This is useful when you&#x27;re only interested in summary information or metrics, not in individual documents.</p>
<p>For example, in a query where you&#x27;re aggregating sales data by category, if you set &quot;size&quot;: 0, Elasticsearch skips loading individual documents, which can speed up the query, reduce resource usage, and simplify the response.</p>
<p>If you need both the documents and the aggregation results, you can adjust the size to get a limited number of documents. But for aggregations-only requests, setting &quot;size&quot;: 0 is a common best practice.</p>
<p>If you don&#x27;t specify &quot;size&quot; in an Elasticsearch query, the default is 10. This means Elasticsearch will return up to 10 matching documents along with the aggregation results (if any aggregations are included).</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/talkohavy/guides/docs/programming/elasticsearch.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_vsIl" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>ערוך דף זה</a></div><div class="col lastUpdated_TnMm"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="רשימת דוקומנטאציה"><a class="pagination-nav__link pagination-nav__link--prev" href="/guides/he/docs/programming/docker/"><div class="pagination-nav__sublabel">הקודם</div><div class="pagination-nav__label">- Docker</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/guides/he/docs/programming/elk/"><div class="pagination-nav__sublabel">הבא</div><div class="pagination-nav__label">- ELK Stack</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_p6TV thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/guides/he/docs/programming/elasticsearch/#coming-soon">Coming Soon:</a></li><li><a class="table-of-contents__link toc-highlight" href="/guides/he/docs/programming/elasticsearch/#1-how-to-query-in-elasticsearch"><strong>1. How to Query in ElasticSearch</strong></a><ul><li><a class="table-of-contents__link toc-highlight" href="/guides/he/docs/programming/elasticsearch/#a-leaf-queries">A. Leaf Queries</a><ul><li><a class="table-of-contents__link toc-highlight" href="/guides/he/docs/programming/elasticsearch/#--command-1-match">- Command 1: <code>match</code></a></li><li><a class="table-of-contents__link toc-highlight" href="/guides/he/docs/programming/elasticsearch/#--command-2-term">- Command 2: <code>term</code></a></li><li><a class="table-of-contents__link toc-highlight" href="/guides/he/docs/programming/elasticsearch/#--command-3-exists">- Command 3: <code>exists</code></a></li><li><a class="table-of-contents__link toc-highlight" href="/guides/he/docs/programming/elasticsearch/#--command-4-range">- Command 4: <code>range</code></a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/guides/he/docs/programming/elasticsearch/#b-compound-queries">B. Compound Queries</a><ul><li><a class="table-of-contents__link toc-highlight" href="/guides/he/docs/programming/elasticsearch/#--command-parent-bool">- Command parent: <code>bool</code></a></li><li><a class="table-of-contents__link toc-highlight" href="/guides/he/docs/programming/elasticsearch/#--command-1-boolmust">- Command 1: <code>bool.must</code></a></li><li><a class="table-of-contents__link toc-highlight" href="/guides/he/docs/programming/elasticsearch/#--command-2-boolfilter">- Command 2: <code>bool.filter</code></a></li><li><a class="table-of-contents__link toc-highlight" href="/guides/he/docs/programming/elasticsearch/#--command-3-boolshould">- Command 3: <code>bool.should</code></a></li><li><a class="table-of-contents__link toc-highlight" href="/guides/he/docs/programming/elasticsearch/#--command-4-boolfilter">- Command 4: <code>bool.filter</code></a></li></ul></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/guides/he/docs/programming/elasticsearch/#2-aggregation-queries"><strong>2. Aggregation Queries</strong></a><ul><li><a class="table-of-contents__link toc-highlight" href="/guides/he/docs/programming/elasticsearch/#aggregation-type-1-terms">Aggregation Type 1: <code>terms</code></a></li><li><a class="table-of-contents__link toc-highlight" href="/guides/he/docs/programming/elasticsearch/#aggregation-type-2-metric-aggs-sum-avg-min-max">Aggregation Type 2: metric aggs <code>sum</code>, <code>avg</code>, <code>min</code>, <code>max</code></a></li><li><a class="table-of-contents__link toc-highlight" href="/guides/he/docs/programming/elasticsearch/#aggregation-type-3-stats">Aggregation Type 3: <code>stats</code></a></li><li><a class="table-of-contents__link toc-highlight" href="/guides/he/docs/programming/elasticsearch/#aggregation-type-4-cardinality">Aggregation Type 4: <code>cardinality</code></a></li><li><a class="table-of-contents__link toc-highlight" href="/guides/he/docs/programming/elasticsearch/#aggregation-type-5-bucket-aggs-histogram--date_histogram">Aggregation Type 5: bucket aggs <code>histogram</code> &amp; <code>date_histogram</code></a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/guides/he/docs/programming/elasticsearch/#3-misc"><strong>3. Misc.</strong></a><ul><li><a class="table-of-contents__link toc-highlight" href="/guides/he/docs/programming/elasticsearch/#--a-track_total_hits">- A. <code>track_total_hits</code></a></li><li><a class="table-of-contents__link toc-highlight" href="/guides/he/docs/programming/elasticsearch/#-b-from--size-pagination">-B. <code>from</code> &amp; <code>size</code> (Pagination)</a></li><li><a class="table-of-contents__link toc-highlight" href="/guides/he/docs/programming/elasticsearch/#-c-_source">-C. <code>_source</code></a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/guides/he/docs/programming/elasticsearch/#4-practical-examples"><strong>4. Practical Examples</strong></a><ul><li><a class="table-of-contents__link toc-highlight" href="/guides/he/docs/programming/elasticsearch/#--action-1-get-a-document-by-id">- Action 1: Get a Document by id</a></li><li><a class="table-of-contents__link toc-highlight" href="/guides/he/docs/programming/elasticsearch/#--action-2-get-all-documents">- Action 2: Get all Documents</a></li><li><a class="table-of-contents__link toc-highlight" href="/guides/he/docs/programming/elasticsearch/#--action-3-get-documents-where-field-is-an-exact-match-to-value">- Action 3: Get Documents where FIELD is an exact match to value</a></li><li><a class="table-of-contents__link toc-highlight" href="/guides/he/docs/programming/elasticsearch/#--action-4-get-documents-where-field-value-ranges-between-x--y">- Action 4: Get Documents where Field value ranges between x &amp; Y</a></li><li><a class="table-of-contents__link toc-highlight" href="/guides/he/docs/programming/elasticsearch/#--action-5-get-avg-value-of-field">- Action 5: Get avg value of field</a></li><li><a class="table-of-contents__link toc-highlight" href="/guides/he/docs/programming/elasticsearch/#--action-6-count-how-many-instances-of-a-certain-value-are-there">- Action 6: Count how many instances of a certain value are there</a></li><li><a class="table-of-contents__link toc-highlight" href="/guides/he/docs/programming/elasticsearch/#--action-7-get-the-sum-value-of-field_name">- Action 7: Get the sum value of FIELD_NAME</a></li><li><a class="table-of-contents__link toc-highlight" href="/guides/he/docs/programming/elasticsearch/#--action-8-get-the-avg-value-of-field_name">- Action 8: Get the avg value of FIELD_NAME</a></li><li><a class="table-of-contents__link toc-highlight" href="/guides/he/docs/programming/elasticsearch/#--action-9-get-the-minmax-value-of-field_name">- Action 9: Get the min/max value of FIELD_NAME</a></li><li><a class="table-of-contents__link toc-highlight" href="/guides/he/docs/programming/elasticsearch/#--action-10-group-by-some-field-name">- Action 10: Group by some field name</a></li><li><a class="table-of-contents__link toc-highlight" href="/guides/he/docs/programming/elasticsearch/#--action-11-group-documents-by-time-intervals-day-week-month">- Action 11: Group documents by time intervals (day, week, month).</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/guides/he/docs/programming/elasticsearch/#7-learn-about-the-operations">7. Learn about the Operations</a><ul><li><a class="table-of-contents__link toc-highlight" href="/guides/he/docs/programming/elasticsearch/#--setting-size-to-0">- Setting Size to 0</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/guides/he/docs/programming/">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_kJm2"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_kJm2"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_kJm2"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/guides/he/blog/">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_kJm2"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>